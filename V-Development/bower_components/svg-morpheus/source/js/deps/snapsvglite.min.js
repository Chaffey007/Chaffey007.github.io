"use strict";var spaces="\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029";var pathCommand=new RegExp("([a-z])["+spaces+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+spaces+"]*,?["+spaces+"]*)+)","ig");var pathValues=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+spaces+"]*,?["+spaces+"]*","ig");var parsePathString=function(a){if(!a){return null}if(typeof a===typeof[]){return a}else{var c={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},b=[];String(a).replace(pathCommand,function(e,d,h){var g=[],f=d.toLowerCase();h.replace(pathValues,function(j,i){i&&g.push(+i)});if(f=="m"&&g.length>2){b.push([d].concat(g.splice(0,2)));f="l";d=d=="m"?"l":"L"}if(f=="o"&&g.length==1){b.push([d,g[0]])}if(f=="r"){b.push([d].concat(g))}else{while(g.length>=c[f]){b.push([d].concat(g.splice(0,c[f])));if(!c[f]){break}}}});return b}};var catmullRom2bezier=function(c,g){var f=[];for(var b=0,a=c.length;a-2*!g>b;b+=2){var e=[{x:+c[b-2],y:+c[b-1]},{x:+c[b],y:+c[b+1]},{x:+c[b+2],y:+c[b+3]},{x:+c[b+4],y:+c[b+5]}];if(g){if(!b){e[0]={x:+c[a-2],y:+c[a-1]}}else{if(a-4==b){e[3]={x:+c[0],y:+c[1]}}else{if(a-2==b){e[2]={x:+c[0],y:+c[1]};e[3]={x:+c[2],y:+c[3]}}}}}else{if(a-4==b){e[3]=e[2]}else{if(!b){e[0]={x:+c[b],y:+c[b+1]}}}}f.push(["C",(-e[0].x+6*e[1].x+e[2].x)/6,(-e[0].y+6*e[1].y+e[2].y)/6,(e[1].x+6*e[2].x-e[3].x)/6,(e[1].y+6*e[2].y-e[3].y)/6,e[2].x,e[2].y])}return f};var ellipsePath=function(l,i,d,b,k){if(k==null&&b==null){b=d}l=+l;i=+i;d=+d;b=+b;if(k!=null){var g=Math.PI/180,e=l+d*Math.cos(-b*g),c=l+d*Math.cos(-k*g),j=i+d*Math.sin(-b*g),h=i+d*Math.sin(-k*g),f=[["M",e,j],["A",d,d,0,+(k-b>180),0,c,h]]}else{f=[["M",l,i],["m",0,-b],["a",d,b,0,1,1,0,2*b],["a",d,b,0,1,1,0,-2*b],["z"]]}return f};var pathToAbsolute=function(n){n=parsePathString(n);if(!n||!n.length){return[["M",0,0]]}var v=[],f=0,e=0,l=0,h=0,c=0,t;if(n[0][0]=="M"){f=+n[0][1];e=+n[0][2];l=f;h=e;c++;v[0]=["M",f,e]}var u=n.length==3&&n[0][0]=="M"&&n[1][0].toUpperCase()=="R"&&n[2][0].toUpperCase()=="Z";for(var m,a,q=c,g=n.length;q<g;q++){v.push(m=[]);a=n[q];t=a[0];if(t!=t.toUpperCase()){m[0]=t.toUpperCase();switch(m[0]){case"A":m[1]=a[1];m[2]=a[2];m[3]=a[3];m[4]=a[4];m[5]=a[5];m[6]=+a[6]+f;m[7]=+a[7]+e;break;case"V":m[1]=+a[1]+e;break;case"H":m[1]=+a[1]+f;break;case"R":var d=[f,e].concat(a.slice(1));for(var p=2,s=d.length;p<s;p++){d[p]=+d[p]+f;d[++p]=+d[p]+e}v.pop();v=v.concat(catmullRom2bezier(d,u));break;case"O":v.pop();d=ellipsePath(f,e,a[1],a[2]);d.push(d[0]);v=v.concat(d);break;case"U":v.pop();v=v.concat(ellipsePath(f,e,a[1],a[2],a[3]));m=["U"].concat(v[v.length-1].slice(-2));break;case"M":l=+a[1]+f;h=+a[2]+e;default:for(p=1,s=a.length;p<s;p++){m[p]=+a[p]+((p%2)?f:e)}}}else{if(t=="R"){d=[f,e].concat(a.slice(1));v.pop();v=v.concat(catmullRom2bezier(d,u));m=["R"].concat(a.slice(-2))}else{if(t=="O"){v.pop();d=ellipsePath(f,e,a[1],a[2]);d.push(d[0]);v=v.concat(d)}else{if(t=="U"){v.pop();v=v.concat(ellipsePath(f,e,a[1],a[2],a[3]));m=["U"].concat(v[v.length-1].slice(-2))}else{for(var o=0,b=a.length;o<b;o++){m[o]=a[o]}}}}}t=t.toUpperCase();if(t!="O"){switch(m[0]){case"Z":f=+l;e=+h;break;case"H":f=m[1];break;case"V":e=m[1];break;case"M":l=m[m.length-2];h=m[m.length-1];default:f=m[m.length-2];e=m[m.length-1]}}}return v};var l2c=function(b,d,a,c){return[b,d,a,c,a,c]};var q2c=function(b,d,g,e,a,c){var f=1/3,h=2/3;return[f*b+h*g,f*d+h*e,f*a+h*g,f*c+h*e,a,c]};var a2c=function(q,Y,C,A,r,l,d,p,X,s){var z=Math.PI*120/180,a=Math.PI/180*(+r||0),G=[],D,U=function(i,Z,h){var t=i*Math.cos(h)-Z*Math.sin(h),k=i*Math.sin(h)+Z*Math.cos(h);return{x:t,y:k}};if(!s){D=U(q,Y,-a);q=D.x;Y=D.y;D=U(p,X,-a);p=D.x;X=D.y;var b=Math.cos(Math.PI/180*r),n=Math.sin(Math.PI/180*r),I=(q-p)/2,H=(Y-X)/2;var S=(I*I)/(C*C)+(H*H)/(A*A);if(S>1){S=Math.sqrt(S);C=S*C;A=S*A}var c=C*C,L=A*A,N=(l==d?-1:1)*Math.sqrt(Math.abs((c*L-c*H*H-L*I*I)/(c*H*H+L*I*I))),v=N*C*H/A+(q+p)/2,u=N*-A*I/C+(Y+X)/2,j=Math.asin(((Y-u)/A).toFixed(9)),g=Math.asin(((X-u)/A).toFixed(9));j=q<v?Math.PI-j:j;g=p<v?Math.PI-g:g;j<0&&(j=Math.PI*2+j);g<0&&(g=Math.PI*2+g);if(d&&j>g){j=j-Math.PI*2}if(!d&&g>j){g=g-Math.PI*2}}else{j=s[0];g=s[1];v=s[2];u=s[3]}var o=g-j;if(Math.abs(o)>z){var w=g,B=p,m=X;g=j+z*(d&&g>j?1:-1);p=v+C*Math.cos(g);X=u+A*Math.sin(g);G=a2c(p,X,C,A,r,0,d,B,m,[g,w,v,u])}o=g-j;var f=Math.cos(j),W=Math.sin(j),e=Math.cos(g),V=Math.sin(g),J=Math.tan(o/4),M=4/3*C*J,K=4/3*A*J,T=[q,Y],R=[q+M*W,Y-K*f],Q=[p+M*V,X-K*e],O=[p,X];R[0]=2*T[0]-R[0];R[1]=2*T[1]-R[1];if(s){return[R,Q,O].concat(G)}else{G=[R,Q,O].concat(G).join().split(",");var E=[];for(var P=0,F=G.length;P<F;P++){E[P]=P%2?U(G[P-1],G[P],a).y:U(G[P],G[P+1],a).x}return E}};var path2curve=function(h,b){var j=pathToAbsolute(h),a=b&&pathToAbsolute(b),k={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},r=function(v,w,p){var i,x;if(!v){return["C",w.x,w.y,w.x,w.y,w.x,w.y]}!(v[0] in {T:1,Q:1})&&(w.qx=w.qy=null);switch(v[0]){case"M":w.X=v[1];w.Y=v[2];break;case"A":v=["C"].concat(a2c.apply(0,[w.x,w.y].concat(v.slice(1))));break;case"S":if(p=="C"||p=="S"){i=w.x*2-w.bx;x=w.y*2-w.by}else{i=w.x;x=w.y}v=["C",i,x].concat(v.slice(1));break;case"T":if(p=="Q"||p=="T"){w.qx=w.x*2-w.qx;w.qy=w.y*2-w.qy}else{w.qx=w.x;w.qy=w.y}v=["C"].concat(q2c(w.x,w.y,w.qx,w.qy,v[1],v[2]));break;case"Q":w.qx=v[1];w.qy=v[2];v=["C"].concat(q2c(w.x,w.y,v[1],v[2],v[3],v[4]));break;case"L":v=["C"].concat(l2c(w.x,w.y,v[1],v[2]));break;case"H":v=["C"].concat(l2c(w.x,w.y,v[1],w.y));break;case"V":v=["C"].concat(l2c(w.x,w.y,w.x,v[1]));break;case"Z":v=["C"].concat(l2c(w.x,w.y,w.X,w.Y));break}return v},o=function(p,v){if(p[v].length>7){p[v].shift();var w=p[v];while(w.length){n[v]="A";a&&(l[v]="A");p.splice(v++,0,["C"].concat(w.splice(0,6)))}p.splice(v,1);f=Math.max(j.length,a&&a.length||0)}},e=function(y,x,v,p,w){if(y&&x&&y[w][0]=="M"&&x[w][0]!="M"){x.splice(w,0,["M",p.x,p.y]);v.bx=0;v.by=0;v.x=y[w][1];v.y=y[w][2];f=Math.max(j.length,a&&a.length||0)}},n=[],l=[],c="",t="";for(var m=0,f=Math.max(j.length,a&&a.length||0);m<f;m++){j[m]&&(c=j[m][0]);if(c!="C"){n[m]=c;m&&(t=n[m-1])}j[m]=r(j[m],k,t);if(n[m]!="A"&&c=="C"){n[m]="C"}o(j,m);if(a){a[m]&&(c=a[m][0]);if(c!="C"){l[m]=c;m&&(t=l[m-1])}a[m]=r(a[m],s,t);if(l[m]!="A"&&c=="C"){l[m]="C"}o(a,m)}e(j,a,k,s,m);e(a,j,s,k,m);var q=j[m],u=a&&a[m],g=q.length,d=a&&u.length;k.x=q[g-2];k.y=q[g-1];k.bx=parseFloat(q[g-4])||k.x;k.by=parseFloat(q[g-3])||k.y;s.bx=a&&(parseFloat(u[d-4])||s.x);s.by=a&&(parseFloat(u[d-3])||s.y);s.x=a&&u[d-2];s.y=a&&u[d-1]}return a?[j,a]:j};var box=function(b,d,c,a){if(b==null){b=d=c=a=0}if(d==null){d=b.y;c=b.width;a=b.height;b=b.x}return{x:b,y:d,w:c,h:a,cx:b+c/2,cy:d+a/2}};var curveDim=function(C,g,B,f,A,e,z,d){var s=[],k=[[],[]],F,E,D,q,p,n,h,l;for(var w=0;w<2;++w){if(w==0){E=6*C-12*B+6*A;F=-3*C+9*B-9*A+3*z;D=3*B-3*C}else{E=6*g-12*f+6*e;F=-3*g+9*f-9*e+3*d;D=3*f-3*g}if(Math.abs(F)<1e-12){if(Math.abs(E)<1e-12){continue}q=-D/E;if(0<q&&q<1){s.push(q)}continue}h=E*E-4*D*F;l=Math.sqrt(h);if(h<0){continue}p=(-E+l)/(2*F);if(0<p&&p<1){s.push(p)}n=(-E-l)/(2*F);if(0<n&&n<1){s.push(n)}}var o,m,v=s.length,r=v,u;while(v--){q=s[v];u=1-q;k[0][v]=(u*u*u*C)+(3*u*u*q*B)+(3*u*q*q*A)+(q*q*q*z);k[1][v]=(u*u*u*g)+(3*u*u*q*f)+(3*u*q*q*e)+(q*q*q*d)}k[0][r]=C;k[1][r]=g;k[0][r+1]=z;k[1][r+1]=d;k[0].length=k[1].length=r+2;return{min:{x:Math.min.apply(0,k[0]),y:Math.min.apply(0,k[1])},max:{x:Math.max.apply(0,k[0]),y:Math.max.apply(0,k[1])}}};var curvePathBBox=function(o){var l=0,k=0,e=[],b=[],c;for(var g=0,n=o.length;g<n;g++){c=o[g];if(c[0]=="M"){l=c[1];k=c[2];e.push(l);b.push(k)}else{var h=curveDim(l,k,c[1],c[2],c[3],c[4],c[5],c[6]);e=e.concat(h.min.x,h.max.x);b=b.concat(h.min.y,h.max.y);l=c[5];k=c[6]}}var a=Math.min.apply(0,e),m=Math.min.apply(0,b),f=Math.max.apply(0,e),d=Math.max.apply(0,b),j=box(a,m,f-a,d-m);return j};var p2s=/,?([a-z]),?/gi;var path2string=function(a){return a.join(",").replace(p2s,"$1")};var hsrg={hs:1,rg:1},has="hasOwnProperty",colourRegExp=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i,commaSpaces=new RegExp("["+spaces+"]*,["+spaces+"]*");var rgbToString=function(b){var a=Math.round;return"rgba("+[a(b.r),a(b.g),a(b.b),+b.opacity.toFixed(2)]+")"};var toHex=function(a){var b=window.document.getElementsByTagName("head")[0]||window.document.getElementsByTagName("svg")[0],c="rgb(255, 0, 0)";toHex=function(d){if(d.toLowerCase()=="red"){return c}b.style.color=c;b.style.color=d;var e=window.document.defaultView.getComputedStyle(b,"").getPropertyValue("color");return e==c?null:e};return toHex(a)};var packageRGB=function(e,d,a,f){e=Math.round(e*255);d=Math.round(d*255);a=Math.round(a*255);var c={r:e,g:d,b:a,opacity:isFinite(f)?f:1};return c};var hsb2rgb=function(f,j,g,d){if(typeof f===typeof{}&&"h" in f&&"s" in f&&"b" in f){g=f.b;j=f.s;f=f.h;d=f.o}f*=360;var e,i,b,c,a;f=(f%360)/60;a=g*j;c=a*(1-Math.abs(f%2-1));e=i=b=g-a;f=~~f;e+=[a,c,0,0,c,a][f];i+=[c,a,a,c,0,0][f];b+=[0,0,c,a,a,c][f];return packageRGB(e,i,b,d)};var hsl2rgb=function(g,j,e,d){if(typeof g===typeof{}&&"h" in g&&"s" in g&&"l" in g){e=g.l;j=g.s;g=g.h}if(g>1||j>1||e>1){g/=360;j/=100;e/=100}g*=360;var f,i,b,c,a;g=(g%360)/60;a=2*j*(e<0.5?e:1-e);c=a*(1-Math.abs(g%2-1));f=i=b=e-a/2;g=~~g;f+=[a,c,0,0,c,a][g];i+=[c,a,a,c,0,0][g];b+=[0,0,c,a,a,c][g];return packageRGB(f,i,b,d)};var getRGB=function(a){if(!a||!!((a=String(a)).indexOf("-")+1)){return{r:-1,g:-1,b:-1,opacity:-1,error:1}}if(a=="none"){return{r:-1,g:-1,b:-1,opacity:-1}}!(hsrg[has](a.toLowerCase().substring(0,2))||a.charAt()=="#")&&(a=toHex(a));if(!a){return{r:-1,g:-1,b:-1,opacity:-1,error:1}}var e,b,c,g,d,i,h,f=a.match(colourRegExp);if(f){if(f[2]){g=parseInt(f[2].substring(5),16);c=parseInt(f[2].substring(3,5),16);b=parseInt(f[2].substring(1,3),16)}if(f[3]){g=parseInt((i=f[3].charAt(3))+i,16);c=parseInt((i=f[3].charAt(2))+i,16);b=parseInt((i=f[3].charAt(1))+i,16)}if(f[4]){h=f[4].split(commaSpaces);b=parseFloat(h[0]);h[0].slice(-1)=="%"&&(b*=2.55);c=parseFloat(h[1]);h[1].slice(-1)=="%"&&(c*=2.55);g=parseFloat(h[2]);h[2].slice(-1)=="%"&&(g*=2.55);f[1].toLowerCase().slice(0,4)=="rgba"&&(d=parseFloat(h[3]));h[3]&&h[3].slice(-1)=="%"&&(d/=100)}if(f[5]){h=f[5].split(commaSpaces);b=parseFloat(h[0]);h[0].slice(-1)=="%"&&(b/=100);c=parseFloat(h[1]);h[1].slice(-1)=="%"&&(c/=100);g=parseFloat(h[2]);h[2].slice(-1)=="%"&&(g/=100);(h[0].slice(-3)=="deg"||h[0].slice(-1)=="\xb0")&&(b/=360);f[1].toLowerCase().slice(0,4)=="hsba"&&(d=parseFloat(h[3]));h[3]&&h[3].slice(-1)=="%"&&(d/=100);return hsb2rgb(b,c,g,d)}if(f[6]){h=f[6].split(commaSpaces);b=parseFloat(h[0]);h[0].slice(-1)=="%"&&(b/=100);c=parseFloat(h[1]);h[1].slice(-1)=="%"&&(c/=100);g=parseFloat(h[2]);h[2].slice(-1)=="%"&&(g/=100);(h[0].slice(-3)=="deg"||h[0].slice(-1)=="\xb0")&&(b/=360);f[1].toLowerCase().slice(0,4)=="hsla"&&(d=parseFloat(h[3]));h[3]&&h[3].slice(-1)=="%"&&(d/=100);return hsl2rgb(b,c,g,d)}b=Math.min(Math.round(b),255);c=Math.min(Math.round(c),255);g=Math.min(Math.round(g),255);d=Math.min(Math.max(d,0),1);f={r:b,g:c,b:g};f.opacity=isFinite(d)?d:1;return f}return{r:-1,g:-1,b:-1,opacity:-1,error:1}};