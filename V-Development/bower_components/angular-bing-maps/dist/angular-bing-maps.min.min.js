(function e(o,k,m){function n(f,a){if(!k[f]){if(!o[f]){var c=typeof require=="function"&&require;if(!a&&c){return c(f,!0)}if(i){return i(f,!0)}var h=new Error("Cannot find module '"+f+"'");throw h.code="MODULE_NOT_FOUND",h}var d=k[f]={exports:{}};o[f][0].call(d.exports,function(j){var p=o[f][1][j];return n(p?p:j)},d,d.exports,e,o,k,m)}return k[f].exports}var i=typeof require=="function"&&require;for(var l=0;l<m.length;l++){n(m[l])}return n})({1:[function(A,C,y){G.$inject=["MapUtils"];H.$inject=["angularBingMaps"];F.$inject=["MapUtils"];z.$inject=["MapUtils"];E.$inject=["$timeout"];t.$inject=["MapUtils"];v.$inject=["$q"];(function(){angular.module("angularBingMaps.config",[]).value("angularBingMaps.config",{debug:true});angular.module("angularBingMaps.directives",[]);angular.module("angularBingMaps.filters",[]);angular.module("angularBingMaps.services",[]);angular.module("angularBingMaps.providers",[]);angular.module("angularBingMaps",["angularBingMaps.config","angularBingMaps.directives","angularBingMaps.filters","angularBingMaps.services","angularBingMaps.providers"])})();function G(c){function a(j,k,f,d){if(typeof DrawingTools==="undefined"){console.log("You did not include DrawingToolsModule.js. Please include this script and try again");return}var h={events:{drawingEnded:function(l){j.onShapeChange({shapes:l});j.$apply()}}};if(f.hasOwnProperty("withToolbar")){h.toolbarContainer=k[0]}function i(){if(j.strokeColor){if(!h.hasOwnProperty("shapeOptions")){h.shapeOptions={}}h.shapeOptions.strokeColor=c.makeMicrosoftColor(j.strokeColor)}if(j.fillColor){if(!h.hasOwnProperty("shapeOptions")){h.shapeOptions={}}h.shapeOptions.fillColor=c.makeMicrosoftColor(j.fillColor)}j.drawingManager.setOptions(h)}j.drawingManager=new DrawingTools.DrawingManager(d.map);i();j.$watch("drawThisShape",function(l){if(l==="none"){j.drawingManager.setDrawingMode(null)}else{j.drawingManager.setDrawingMode(l)}});j.$on("DRAWINGTOOLS.CLEAR",function(){j.drawingManager.clear()})}return{link:a,restrict:"EA",scope:{onShapeChange:"&",drawThisShape:"=",strokeColor:"=?",fillColor:"=?"},require:"^bingMap"}}angular.module("angularBingMaps.directives").directive("drawingTools",G);function u(){function a(j,d,f,i){if(typeof GeoJSONModule==="undefined"){console.log("You have not loaded the GeoJSONModule.js. Please include this script and try again");return}Microsoft.Maps.loadModule("Microsoft.Maps.AdvancedShapes");var c=new GeoJSONModule(),h=new Microsoft.Maps.EntityCollection();i.map.entities.push(h);j.$watch("model",function(){if(j.model){c.ImportGeoJSON(j.model,function(l,m){var k=l.pop();while(k){h.push(k);k=l.pop()}})}else{h.clear()}});j.$on("$destroy",function(){i.map.entities.remove(h)})}return{link:a,restrict:"EA",scope:{model:"="},require:"^bingMap"}}angular.module("angularBingMaps.directives").directive("geoJson",u);function w(){function a(c,i,d,j){var k=new Microsoft.Maps.Infobox(new Microsoft.Maps.Location(0,0)),f=j[1];function m(){k.setLocation(new Microsoft.Maps.Location(c.lat,c.lng))}function l(){if(!c.options){c.options={}}if(c.title){c.options.title=c.title}if(c.description){c.options.description=c.description}if(c.hasOwnProperty("visible")){c.options.visible=c.visible}else{c.options.visible=true}k.setOptions(c.options)}c.$on("positionUpdated",function(n,o){k.setLocation(o)});if(!f){c.$watch("lat",m);c.$watch("lng",m)}c.$watch("options",l);c.$watch("title",l);c.$watch("description",l);c.$watch("visible",l);j[0].map.entities.push(k);c.$on("$destroy",h);i.on("$destroy",h);function h(){j[0].map.entities.remove(k)}}return{link:a,restrict:"EA",scope:{options:"=?",lat:"=?",lng:"=?",title:"=?",description:"=?",visible:"=?"},require:["^bingMap","?^pushpin"]}}angular.module("angularBingMaps.directives").directive("infoBox",w);function H(a){return{template:"<div ng-transclude></div>",restrict:"EA",transclude:true,scope:{credentials:"=",center:"=?",zoom:"=?",mapType:"=?",events:"=?",options:"=?",onMapReady:"&?"},controller:["$scope","$element",function(d,f){var c=a.getDefaultMapOptions();angular.extend(c,d.options);if(c){if(!c.hasOwnProperty("credentials")){c.credentials=d.credentials}}else{c={credentials:d.credentials}}this.map=new Microsoft.Maps.Map(f[0],c);var i={};d.map=this.map;var h=Microsoft.Maps.Events.addHandler(d.map,"viewchangeend",function(){Microsoft.Maps.Events.removeHandler(h);var j=a.getCenterBindEvent();Microsoft.Maps.Events.addHandler(d.map,j,function(k){d.center=d.map.getCenter();d.$apply()})});d.$watch("center",function(j){d.map.setView({animate:true,center:j})});d.$watch("zoom",function(j){d.map.setView({animate:true,zoom:j})});d.$watch("mapType",function(j){d.map.setView({animate:true,mapTypeId:j})});d.$watch("options",function(j){d.map.setOptions(j)});d.$watch("events",function(j){angular.forEach(j,function(l,m){if(i.hasOwnProperty(m)){Microsoft.Maps.Events.removeHandler(i[m])}var k=Microsoft.Maps.Events.addHandler(d.map,m,function(n){l(n);d.$apply()});i[m]=k})})}],link:function(c,d){if(c.onMapReady){c.onMapReady({map:c.map})}}}}angular.module("angularBingMaps.directives").directive("bingMap",H);function F(c){function a(d,k,f,j){var h=[];var n={};function l(){h=c.convertToMicrosoftLatLngs(d.locations)}l();var i=new Microsoft.Maps.Polygon(h);j.map.entities.push(i);function m(){if(!d.options){d.options={}}if(d.fillColor){d.options.fillColor=c.makeMicrosoftColor(d.fillColor)}if(d.strokeColor){d.options.strokeColor=c.makeMicrosoftColor(d.strokeColor)}}d.$watch("options",function(o){i.setOptions(o)});d.$watch("locations",function(){l();i.setLocations(h)});d.$watch("fillColor",m);d.$watch("strokeColor",m);d.$on("$destroy",function(){j.map.entities.remove(i)});d.$watch("events",function(o){angular.forEach(o,function(p,q){if(n.hasOwnProperty(q)){Microsoft.Maps.Events.removeHandler(n[q])}var s=Microsoft.Maps.Events.addHandler(i,q,function(J){if(typeof d.trackBy!=="undefined"){J.target.trackBy=d.trackBy}p(J);d.$apply()});n[q]=s})})}return{link:a,restrict:"EA",scope:{options:"=?",locations:"=",fillColor:"=?",strokeColor:"=?",events:"=?",trackBy:"=?"},require:"^bingMap"}}angular.module("angularBingMaps.directives").directive("abmPolygon",F);function z(c){function a(f,k,d,j){var m=[];function l(){m=c.convertToMicrosoftLatLngs(f.locations)}l();var h=new Microsoft.Maps.Polyline(m);j.map.entities.push(h);function i(){if(!f.options){f.options={}}if(f.strokeColor){f.options.strokeColor=c.makeMicrosoftColor(f.strokeColor)}}f.$watch("options",function(n){h.setOptions(n)});f.$watch("locations",function(){l();h.setLocations(m)});f.$watch("strokeColor",i);f.$on("$destroy",function(){j.map.entities.remove(h)})}return{link:a,restrict:"EA",scope:{options:"=?",locations:"=",strokeColor:"=?"},require:"^bingMap"}}angular.module("angularBingMaps.directives").directive("polyline",z);function D(){function a(f,h,i,d){var k={};function c(){if(!isNaN(f.lat)&&!isNaN(f.lng)){f.pin.setLocation(new Microsoft.Maps.Location(f.lat,f.lng));f.$broadcast("positionUpdated",f.pin.getLocation())}}c();d.map.entities.push(f.pin);f.$watch("lat",c);f.$watch("lng",c);f.$watch("options",function(l){f.pin.setOptions(l)});f.$watch("pushpinData",function(l){f.pin.pushpinData=l});f.$watch("events",function(l){angular.forEach(l,function(m,n){if(k.hasOwnProperty(n)){Microsoft.Maps.Events.removeHandler(k[n])}var o=Microsoft.Maps.Events.addHandler(f.pin,n,function(p){if(typeof f.trackBy!=="undefined"){p.target.trackBy=f.trackBy}m(p);f.$apply()});k[n]=o})});Microsoft.Maps.Events.addHandler(f.pin,"dragend",function(m){var l=m.entity.getLocation();f.lat=l.latitude;f.lng=l.longitude;f.$apply()});function j(l){return true}f.$on("$destroy",function(){d.map.entities.remove(f.pin);angular.forEach(k,function(l,m){Microsoft.Maps.Events.removeHandler(l)})})}return{link:a,controller:["$scope",function(c){this.pin=new Microsoft.Maps.Pushpin();c.pin=this.pin}],template:"<div ng-transclude></div>",restrict:"EA",transclude:true,scope:{options:"=?",lat:"=",lng:"=",events:"=?",trackBy:"=?",pushpinData:"=?"},require:"^bingMap"}}angular.module("angularBingMaps.directives").directive("pushpin",D);function B(){function a(f,h,i,j){var k,d;function c(){k=new Microsoft.Maps.TileSource({uriConstructor:f.source});if(f.options){angular.extend(f.options,{mercator:k})}else{f.options={mercator:k}}if(d){d.setOptions(f.options)}else{d=new Microsoft.Maps.TileLayer(f.options);j.map.entities.push(d)}}f.$watch("options",c,true);f.$watch("source",c);f.$on("$destroy",function(){j.map.entities.remove(d)})}return{link:a,template:"<div ng-transclude></div>",restrict:"EA",transclude:true,scope:{options:"=?",source:"="},require:"^bingMap"}}angular.module("angularBingMaps.directives").directive("tileLayer",B);function E(a){return{template:'<div class="directory"></div><div class="map"></div>',restrict:"EA",transclude:true,scope:{credentials:"=",center:"=?",zoom:"=?",mapType:"=?",venue:"=?",room:"=?"},controller:["$scope","$element",function(d,f){this.map=new Microsoft.Maps.Map(f.children()[1],{credentials:d.credentials});d.map=this.map;d.$watch("center",function(l){d.map.setView({animate:true,center:l})});d.$watch("zoom",function(l){d.map.setView({animate:true,zoom:l})});d.$watch("mapType",function(l){d.map.setView({animate:true,mapTypeId:l})});var c;function j(p){var n=p.toUpperCase();for(var m=0;m<c.floors.length;m++){for(var o=0;o<c.floors[m].primitives.length;o++){var q=c.floors[m].primitives[o];var l=q.name.toUpperCase();if(n===l){return q}}}return null}function h(){if(c&&c.directory&&c.directory.isInDOM()){a(function(){if(typeof(d.room)!=="undefined"&&d.room!==null){var l=j(d.room);if(typeof(l)!=="undefined"&&l!==null){var m=document.getElementById(l.id).getElementsByTagName("a")[0];if(typeof(m)!=="undefined"&&m!==null){m.click()}d.map.setView({animate:true,zoom:17});return}}})}}function k(l){a(function(){c=l;if(!c.directory.isInDOM()){c.directory.createUIElements()}c.directory.addToDOM(f.children()[0],Microsoft.Maps.VenueMaps.DirectorySortOrder.byFloor,Microsoft.Maps.VenueMaps.DirectoryGrouping.none);c.directory.setHeight(1);d.map.setView(c.bestMapView,true);c.show();h()})}function i(){var l=new Microsoft.Maps.VenueMaps.VenueMapFactory(d.map);l.create({venueMapId:d.venue,success:k})}Microsoft.Maps.loadModule("Microsoft.Maps.VenueMaps",{callback:i})}]}}angular.module("angularBingMaps.directives").directive("venueMap",E);function t(c){function a(d,k,f,j){if(typeof WKTModule==="undefined"){console.log("You did not include WKTModule.js. Please include this script and try again");return}var l=null;var n=[];c.loadAdvancedShapesModule().then(function(){d.$watch("text",function(o){if(l){j.map.entities.remove(l)}if(o&&typeof o==="string"){l=WKTModule.Read(o,d.styles);i();j.map.entities.push(l)}},true);d.$watch("events",function(o){m();angular.forEach(o,function(p,s){if(l instanceof Microsoft.Maps.EntityCollection){for(var q=0;q<l.getLength();q++){h(l.get(q),s,p)}}else{h(l,s,p)}})});d.$watch("fillColor",i,true);d.$watch("strokeColor",i,true)});function i(){if(!l){return}var p={};if(d.fillColor){p.fillColor=c.makeMicrosoftColor(d.fillColor)}if(d.strokeColor){p.strokeColor=c.makeMicrosoftColor(d.strokeColor)}if(l instanceof Microsoft.Maps.EntityCollection){for(var o=0;o<l.getLength();o++){if(l.get(o) instanceof Microsoft.Maps.Polygon){l.get(o).setOptions(p)}}}else{l.setOptions(p)}}function h(o,q,s){var p=Microsoft.Maps.Events.addHandler(o,q,function(J){if(typeof d.trackBy!=="undefined"){J.target.trackBy=d.trackBy}s(J);d.$apply()});n.push(p)}function m(){var o=n.pop();while(typeof o==="function"){Microsoft.Maps.Events.removeHandler(o);o=n.pop()}}d.$on("$destroy",function(){j.map.entities.remove(l)})}return{link:a,restrict:"EA",scope:{text:"=",events:"=?",trackBy:"=?",fillColor:"=?",strokeColor:"=?",styles:"=?"},require:"^bingMap"}}angular.module("angularBingMaps.directives").directive("wkt",t);function v(h){var j=A("color");var k=false;function c(n){var m=j(n);return new Microsoft.Maps.Color(Math.floor(255*m.alpha()),m.red(),m.green(),m.blue())}function f(m){if(angular.isArray(m)){return new Microsoft.Maps.Location(m[1],m[0])}else{if(m.hasOwnProperty("latitude")&&m.hasOwnProperty("longitude")){return new Microsoft.Maps.Location(m.latitude,m.longitude)}else{if(m.hasOwnProperty("lat")&&m.hasOwnProperty("lng")){return new Microsoft.Maps.Location(m.lat,m.lng)}else{if(console&&console.error){console.error("Your coordinates are in a non-standard form. Please refer to the Angular Bing Maps documentation to see supported coordinate formats")}return null}}}}function l(p){var o=[];if(!p){return o}for(var n=0;n<p.length;n++){var m=f(p[n]);o.push(m)}return o}function i(o){var m=d(o);var n=new Microsoft.Maps.EntityCollection();var p=m.pop();while(p){n.push(p);p=m.pop()}return n}function d(n){var m=[];var o=n.pop();while(o){if(o&&!(o instanceof Microsoft.Maps.EntityCollection)){m.push(o)}else{if(o){m.concat(d(o))}}o=n.pop()}return m}function a(){var m=h.defer();if(!k){Microsoft.Maps.loadModule("Microsoft.Maps.AdvancedShapes",{callback:function(){m.resolve()}})}else{m.resolve()}return m.promise}return{makeMicrosoftColor:c,makeMicrosoftLatLng:f,convertToMicrosoftLatLngs:l,flattenEntityCollection:i,loadAdvancedShapesModule:a}}angular.module("angularBingMaps.services").service("MapUtils",v);function x(){var h={};var i="viewchangeend";function c(j){h=j}function d(){return h}function f(j){if(j){i="viewchange"}else{i="viewchangeend"}}function a(){return i}return{setDefaultMapOptions:c,bindCenterRealtime:f,$get:function(){return{getDefaultMapOptions:d,getCenterBindEvent:a}}}}angular.module("angularBingMaps.providers").provider("angularBingMaps",x)},{color:6}],2:[function(aV,aW,al){aW.exports={rgb2hsl:aI,rgb2hsv:aL,rgb2hwb:aM,rgb2cmyk:aG,rgb2keyword:ak,rgb2xyz:aH,rgb2lab:ad,rgb2lch:aN,hsl2rgb:ar,hsl2hsv:ao,hsl2hwb:aw,hsl2cmyk:ah,hsl2keyword:aO,hsv2rgb:aC,hsv2hsl:aS,hsv2hwb:ae,hsv2cmyk:aX,hsv2keyword:aF,hwb2rgb:aD,hwb2hsl:av,hwb2hsv:aA,hwb2cmyk:at,hwb2keyword:an,cmyk2rgb:aj,cmyk2hsl:a0,cmyk2hsv:ag,cmyk2hwb:am,cmyk2keyword:az,keyword2rgb:aE,keyword2hsl:aT,keyword2hsv:aZ,keyword2hwb:af,keyword2cmyk:ai,keyword2lab:ax,keyword2xyz:aR,xyz2rgb:aY,xyz2lab:au,xyz2lch:ac,lab2xyz:aK,lab2rgb:aQ,lab2lch:aU,lch2lab:aP,lch2xyz:ap,lch2rgb:aB};function aI(h){var m=h[0]/255,i=h[1]/255,f=h[2]/255,k=Math.min(m,i,f),d=Math.max(m,i,f),c=d-k,j,a,l;if(d==k){j=0}else{if(m==d){j=(i-f)/c}else{if(i==d){j=2+(f-m)/c}else{if(f==d){j=4+(m-i)/c}}}}j=Math.min(j*60,360);if(j<0){j+=360}l=(k+d)/2;if(d==k){a=0}else{if(l<=0.5){a=c/(d+k)}else{a=c/(2-d-k)}}return[j,a*100,l*100]}function aL(i){var m=i[0],j=i[1],h=i[2],l=Math.min(m,j,h),f=Math.max(m,j,h),c=f-l,k,a,d;if(f==0){a=0}else{a=(c/f*1000)/10}if(f==l){k=0}else{if(m==f){k=(j-h)/c}else{if(j==f){k=2+(h-m)/c}else{if(h==f){k=4+(m-j)/c}}}}k=Math.min(k*60,360);if(k<0){k+=360}d=((f/255)*1000)/10;return[k,a,d]}function aM(f){var a=f[0],c=f[1],i=f[2],d=aI(f)[0],h=1/255*Math.min(a,Math.min(c,i)),i=1-1/255*Math.max(a,Math.max(c,i));return[d,h*100,i*100]}function aG(f){var c=f[0]/255,d=f[1]/255,i=f[2]/255,k,j,a,h;h=Math.min(1-c,1-d,1-i);k=(1-c-h)/(1-h)||0;j=(1-d-h)/(1-h)||0;a=(1-i-h)/(1-h)||0;return[k*100,j*100,a*100,h*100]}function ak(a){return aq[JSON.stringify(a)]}function aH(h){var d=h[0]/255,f=h[1]/255,i=h[2]/255;d=d>0.04045?Math.pow(((d+0.055)/1.055),2.4):(d/12.92);f=f>0.04045?Math.pow(((f+0.055)/1.055),2.4):(f/12.92);i=i>0.04045?Math.pow(((i+0.055)/1.055),2.4):(i/12.92);var j=(d*0.4124)+(f*0.3576)+(i*0.1805);var a=(d*0.2126)+(f*0.7152)+(i*0.0722);var c=(d*0.0193)+(f*0.1192)+(i*0.9505);return[j*100,a*100,c*100]}function ad(c){var d=aH(c),i=d[0],k=d[1],a=d[2],f,h,j;i/=95.047;k/=100;a/=108.883;i=i>0.008856?Math.pow(i,1/3):(7.787*i)+(16/116);k=k>0.008856?Math.pow(k,1/3):(7.787*k)+(16/116);a=a>0.008856?Math.pow(a,1/3):(7.787*a)+(16/116);f=(116*k)-16;h=500*(i-k);j=200*(k-a);return[f,h,j]}function aN(a){return aU(ad(a))}function ar(c){var i=c[0]/360,a=c[1]/100,l=c[2]/100,f,h,j,d,m;if(a==0){m=l*255;return[m,m,m]}if(l<0.5){h=l*(1+a)}else{h=l+a-l*a}f=2*l-h;d=[0,0,0];for(var k=0;k<3;k++){j=i+1/3*-(k-1);j<0&&j++;j>1&&j--;if(6*j<1){m=f+(h-f)*6*j}else{if(2*j<1){m=h}else{if(3*j<2){m=f+(h-f)*(2/3-j)*6}else{m=f}}}d[k]=m*255}return d}function ao(d){var a=d[0],c=d[1]/100,h=d[2]/100,i,f;if(h===0){return[0,0,0]}h*=2;c*=(h<=1)?h:2-h;f=(h+c)/2;i=(2*c)/(h+c);return[a,i*100,f*100]}function aw(a){return aM(ar(a))}function ah(a){return aG(ar(a))}function aO(a){return ak(ar(a))}function aC(h){var i=h[0]/60,a=h[1]/100,d=h[2]/100,j=Math.floor(i)%6;var f=i-Math.floor(i),k=255*d*(1-a),l=255*d*(1-(a*f)),c=255*d*(1-(a*(1-f))),d=255*d;switch(j){case 0:return[d,c,k];case 1:return[l,d,k];case 2:return[k,d,c];case 3:return[k,l,d];case 4:return[c,k,d];case 5:return[d,k,l]}}function aS(d){var a=d[0],c=d[1]/100,f=d[2]/100,i,h;h=(2-c)*f;i=c*f;i/=(h<=1)?h:2-h;i=i||0;h/=2;return[a,i*100,h*100]}function ae(a){return aM(aC(a))}function aX(a){return aG(aC(a))}function aF(a){return ak(aC(a))}function aD(a){var h=a[0]/360,l=a[1]/100,j=a[2]/100,d=l+j,i,c,f,k;if(d>1){l/=d;j/=d}i=Math.floor(6*h);c=1-j;f=6*h-i;if((i&1)!=0){f=1-f}k=l+f*(c-l);switch(i){default:case 6:case 0:r=c;g=k;b=l;break;case 1:r=k;g=c;b=l;break;case 2:r=l;g=c;b=k;break;case 3:r=l;g=k;b=c;break;case 4:r=k;g=l;b=c;break;case 5:r=c;g=l;b=k;break}return[r*255,g*255,b*255]}function av(a){return aI(aD(a))}function aA(a){return aL(aD(a))}function at(a){return aG(aD(a))}function an(a){return ak(aD(a))}function aj(c){var k=c[0]/100,i=c[1]/100,a=c[2]/100,h=c[3]/100,d,f,j;d=1-Math.min(1,k*(1-h)+h);f=1-Math.min(1,i*(1-h)+h);j=1-Math.min(1,a*(1-h)+h);return[d*255,f*255,j*255]}function a0(a){return aI(aj(a))}function ag(a){return aL(aj(a))}function am(a){return aM(aj(a))}function az(a){return ak(aj(a))}function aY(h){var i=h[0]/100,a=h[1]/100,c=h[2]/100,d,f,j;d=(i*3.2406)+(a*-1.5372)+(c*-0.4986);f=(i*-0.9689)+(a*1.8758)+(c*0.0415);j=(i*0.0557)+(a*-0.204)+(c*1.057);d=d>0.0031308?((1.055*Math.pow(d,1/2.4))-0.055):d=(d*12.92);f=f>0.0031308?((1.055*Math.pow(f,1/2.4))-0.055):f=(f*12.92);j=j>0.0031308?((1.055*Math.pow(j,1/2.4))-0.055):j=(j*12.92);d=Math.min(Math.max(0,d),1);f=Math.min(Math.max(0,f),1);j=Math.min(Math.max(0,j),1);return[d*255,f*255,j*255]}function au(d){var i=d[0],a=d[1],c=d[2],f,h,j;i/=95.047;a/=100;c/=108.883;i=i>0.008856?Math.pow(i,1/3):(7.787*i)+(16/116);a=a>0.008856?Math.pow(a,1/3):(7.787*a)+(16/116);c=c>0.008856?Math.pow(c,1/3):(7.787*c)+(16/116);f=(116*a)-16;h=500*(i-a);j=200*(a-c);return[f,h,j]}function ac(a){return aU(au(a))}function aK(c){var f=c[0],h=c[1],i=c[2],j,k,a,d;if(f<=8){k=(f*100)/903.3;d=(7.787*(k/100))+(16/116)}else{k=100*Math.pow((f+16)/116,3);d=Math.pow(k/100,1/3)}j=j/95.047<=0.008856?j=(95.047*((h/500)+d-(16/116)))/7.787:95.047*Math.pow((h/500)+d,3);a=a/108.883<=0.008859?a=(108.883*(d-(i/200)-(16/116)))/7.787:108.883*Math.pow(d-(i/200),3);return[j,k,a]}function aU(f){var h=f[0],i=f[1],j=f[2],c,d,a;c=Math.atan2(j,i);d=c*360/2/Math.PI;if(d<0){d+=360}a=Math.sqrt(i*i+j*j);return[h,a,d]}function aQ(a){return aY(aK(a))}function aP(f){var h=f[0],a=f[1],c=f[2],i,j,d;d=c/360*2*Math.PI;i=a*Math.cos(d);j=a*Math.sin(d);return[h,i,j]}function ap(a){return aK(aP(a))}function aB(a){return aQ(aP(a))}function aE(a){return ay[a]}function aT(a){return aI(aE(a))}function aZ(a){return aL(aE(a))}function af(a){return aM(aE(a))}function ai(a){return aG(aE(a))}function ax(a){return ad(aE(a))}function aR(a){return aH(aE(a))}var ay={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var aq={};for(var aJ in ay){aq[JSON.stringify(ay[aJ])]=aJ}},{}],3:[function(v,x,s){var u=v("./conversions");var p=function(){return new q()};for(var w in u){p[w+"Raw"]=(function(a){return function(c){if(typeof c=="number"){c=Array.prototype.slice.call(arguments)}return u[a](c)}})(w);var t=/(\w+)2(\w+)/.exec(w),n=t[1],o=t[2];p[n]=p[n]||{};p[n][o]=p[w]=(function(a){return function(f){if(typeof f=="number"){f=Array.prototype.slice.call(arguments)}var c=u[a](f);if(typeof c=="string"||c===undefined){return c}for(var d=0;d<c.length;d++){c[d]=Math.round(c[d])}return c}})(w)}var q=function(){this.convs={}};q.prototype.routeSpace=function(a,c){var d=c[0];if(d===undefined){return this.getValues(a)}if(typeof d=="number"){d=Array.prototype.slice.call(c)}return this.setValues(a,d)};q.prototype.setValues=function(a,c){this.space=a;this.convs={};this.convs[a]=c;return this};q.prototype.getValues=function(c){var d=this.convs[c];if(!d){var f=this.space,a=this.convs[f];d=p[f][c](a);this.convs[c]=d}return d};["rgb","hsl","hsv","cmyk","keyword"].forEach(function(a){q.prototype[a]=function(c){return this.routeSpace(a,arguments)}});x.exports=p},{"./conversions":2}],4:[function(i,h,f){h.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],5:[function(Q,V,B){var O=Q("color-name");V.exports={getRgba:G,getHsla:S,getRgb:M,getHsl:F,getHwb:P,getAlpha:H,hexString:U,rgbString:R,rgbaString:T,percentString:L,percentaString:J,hslString:D,hslaString:N,hwbString:W,keyword:E};function G(k){if(!k){return}var f=/^#([a-fA-F0-9]{3})$/,d=/^#([a-fA-F0-9]{6})$/,a=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*([\d\.]+)\s*)?\)$/,c=/^rgba?\(\s*([\d\.]+)\%\s*,\s*([\d\.]+)\%\s*,\s*([\d\.]+)\%\s*(?:,\s*([\d\.]+)\s*)?\)$/,j=/(\D+)/;var i=[0,0,0],h=1,l=k.match(f);if(l){l=l[1];for(var m=0;m<i.length;m++){i[m]=parseInt(l[m]+l[m],16)}}else{if(l=k.match(d)){l=l[1];for(var m=0;m<i.length;m++){i[m]=parseInt(l.slice(m*2,m*2+2),16)}}else{if(l=k.match(a)){for(var m=0;m<i.length;m++){i[m]=parseInt(l[m+1])}h=parseFloat(l[4])}else{if(l=k.match(c)){for(var m=0;m<i.length;m++){i[m]=Math.round(parseFloat(l[m+1])*2.55)}h=parseFloat(l[4])}else{if(l=k.match(j)){if(l[1]=="transparent"){return[0,0,0,0]}i=O[l[1]];if(!i){return}}}}}}for(var m=0;m<i.length;m++){i[m]=C(i[m],0,255)}if(!h&&h!=0){h=1}else{h=C(h,0,1)}i[3]=h;return i}function S(d){if(!d){return}var h=/^hsla?\(\s*(\d+)(?:deg)?\s*,\s*([\d\.]+)%\s*,\s*([\d\.]+)%\s*(?:,\s*([\d\.]+)\s*)?\)/;var f=d.match(h);if(f){var a=C(parseInt(f[1]),0,360),c=C(parseFloat(f[2]),0,100),i=C(parseFloat(f[3]),0,100),j=C(parseFloat(f[4])||1,0,1);return[a,c,i,j]}}function P(d){if(!d){return}var a=/^hwb\(\s*(\d+)(?:deg)?\s*,\s*([\d\.]+)%\s*,\s*([\d\.]+)%\s*(?:,\s*([\d\.]+)\s*)?\)/;var f=d.match(a);if(f){var c=C(parseInt(f[1]),0,360),h=C(parseFloat(f[2]),0,100),j=C(parseFloat(f[3]),0,100),i=C(parseFloat(f[4])||1,0,1);return[c,h,j,i]}}function M(c){var a=G(c);return a&&a.slice(0,3)}function F(c){var a=S(c);return a&&a.slice(0,3)}function H(c){var a=G(c);if(a){return a[3]}else{if(a=S(c)){return a[3]}else{if(a=P(c)){return a[3]}}}}function U(a){return"#"+I(a[0])+I(a[1])+I(a[2])}function R(c,a){if(a<1||(c[3]&&c[3]<1)){return T(c,a)}return"rgb("+c[0]+", "+c[1]+", "+c[2]+")"}function T(c,a){if(a===undefined){a=(c[3]!==undefined?c[3]:1)}return"rgba("+c[0]+", "+c[1]+", "+c[2]+", "+a+")"}function L(f,a){if(a<1||(f[3]&&f[3]<1)){return J(f,a)}var c=Math.round(f[0]/255*100),d=Math.round(f[1]/255*100),h=Math.round(f[2]/255*100);return"rgb("+c+"%, "+d+"%, "+h+"%)"}function J(f,a){var c=Math.round(f[0]/255*100),d=Math.round(f[1]/255*100),h=Math.round(f[2]/255*100);return"rgba("+c+"%, "+d+"%, "+h+"%, "+(a||f[3]||1)+")"}function D(c,a){if(a<1||(c[3]&&c[3]<1)){return N(c,a)}return"hsl("+c[0]+", "+c[1]+"%, "+c[2]+"%)"}function N(c,a){if(a===undefined){a=(c[3]!==undefined?c[3]:1)}return"hsla("+c[0]+", "+c[1]+"%, "+c[2]+"%, "+a+")"}function W(a,c){if(c===undefined){c=(a[3]!==undefined?a[3]:1)}return"hwb("+a[0]+", "+a[1]+"%, "+a[2]+"%"+(c!==undefined&&c!==1?", "+c:"")+")"}function E(a){return X[a.slice(0,3)]}function C(c,a,d){return Math.min(Math.max(a,c),d)}function I(c){var a=c.toString(16).toUpperCase();return(a.length<2)?"0"+a:a}var X={};for(var K in O){X[O[K]]=K}},{"color-name":4}],6:[function(n,m,j){var k=n("color-convert"),o=n("color-string");var l=function(c){if(c instanceof l){return c}if(!(this instanceof l)){return new l(c)}this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};if(typeof c=="string"){var a=o.getRgba(c);if(a){this.setValues("rgb",a)}else{if(a=o.getHsla(c)){this.setValues("hsl",a)}else{if(a=o.getHwb(c)){this.setValues("hwb",a)}else{throw new Error('Unable to parse color from string "'+c+'"')}}}}else{if(typeof c=="object"){var a=c;if(a.r!==undefined||a.red!==undefined){this.setValues("rgb",a)}else{if(a.l!==undefined||a.lightness!==undefined){this.setValues("hsl",a)}else{if(a.v!==undefined||a.value!==undefined){this.setValues("hsv",a)}else{if(a.w!==undefined||a.whiteness!==undefined){this.setValues("hwb",a)}else{if(a.c!==undefined||a.cyan!==undefined){this.setValues("cmyk",a)}else{throw new Error("Unable to parse color from object "+JSON.stringify(c))}}}}}}}};l.prototype={rgb:function(a){return this.setSpace("rgb",arguments)},hsl:function(a){return this.setSpace("hsl",arguments)},hsv:function(a){return this.setSpace("hsv",arguments)},hwb:function(a){return this.setSpace("hwb",arguments)},cmyk:function(a){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){if(this.values.alpha!==1){return this.values.hwb.concat([this.values.alpha])}return this.values.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var a=this.values.rgb;return a.concat([this.values.alpha])},hslaArray:function(){var a=this.values.hsl;return a.concat([this.values.alpha])},alpha:function(a){if(a===undefined){return this.values.alpha}this.setValues("alpha",a);return this},red:function(a){return this.setChannel("rgb",0,a)},green:function(a){return this.setChannel("rgb",1,a)},blue:function(a){return this.setChannel("rgb",2,a)},hue:function(a){return this.setChannel("hsl",0,a)},saturation:function(a){return this.setChannel("hsl",1,a)},lightness:function(a){return this.setChannel("hsl",2,a)},saturationv:function(a){return this.setChannel("hsv",1,a)},whiteness:function(a){return this.setChannel("hwb",1,a)},blackness:function(a){return this.setChannel("hwb",2,a)},value:function(a){return this.setChannel("hsv",2,a)},cyan:function(a){return this.setChannel("cmyk",0,a)},magenta:function(a){return this.setChannel("cmyk",1,a)},yellow:function(a){return this.setChannel("cmyk",2,a)},black:function(a){return this.setChannel("cmyk",3,a)},hexString:function(){return o.hexString(this.values.rgb)},rgbString:function(){return o.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return o.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return o.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return o.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return o.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return o.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return o.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){return(this.values.rgb[0]<<16)|(this.values.rgb[1]<<8)|this.values.rgb[2]},luminosity:function(){var d=this.values.rgb;var f=[];for(var c=0;c<d.length;c++){var a=d[c]/255;f[c]=(a<=0.03928)?a/12.92:Math.pow(((a+0.055)/1.055),2.4)}return 0.2126*f[0]+0.7152*f[1]+0.0722*f[2]},contrast:function(d){var a=this.luminosity();var c=d.luminosity();if(a>c){return(a+0.05)/(c+0.05)}return(c+0.05)/(a+0.05)},level:function(c){var a=this.contrast(c);return(a>=7.1)?"AAA":(a>=4.5)?"AA":""},dark:function(){var c=this.values.rgb,a=(c[0]*299+c[1]*587+c[2]*114)/1000;return a<128},light:function(){return !this.dark()},negate:function(){var c=[];for(var a=0;a<3;a++){c[a]=255-this.values.rgb[a]}this.setValues("rgb",c);return this},lighten:function(a){this.values.hsl[2]+=this.values.hsl[2]*a;this.setValues("hsl",this.values.hsl);return this},darken:function(a){this.values.hsl[2]-=this.values.hsl[2]*a;this.setValues("hsl",this.values.hsl);return this},saturate:function(a){this.values.hsl[1]+=this.values.hsl[1]*a;this.setValues("hsl",this.values.hsl);return this},desaturate:function(a){this.values.hsl[1]-=this.values.hsl[1]*a;this.setValues("hsl",this.values.hsl);return this},whiten:function(a){this.values.hwb[1]+=this.values.hwb[1]*a;this.setValues("hwb",this.values.hwb);return this},blacken:function(a){this.values.hwb[2]+=this.values.hwb[2]*a;this.setValues("hwb",this.values.hwb);return this},greyscale:function(){var c=this.values.rgb;var a=c[0]*0.3+c[1]*0.59+c[2]*0.11;this.setValues("rgb",[a,a,a]);return this},clearer:function(a){this.setValues("alpha",this.values.alpha-(this.values.alpha*a));return this},opaquer:function(a){this.setValues("alpha",this.values.alpha+(this.values.alpha*a));return this},rotate:function(a){var c=this.values.hsl[0];c=(c+a)%360;c=c<0?360+c:c;this.values.hsl[0]=c;this.setValues("hsl",this.values.hsl);return this},mix:function(w,h){h=1-(h==null?0.5:h);var f=h*2-1,c=this.alpha()-w.alpha();var a=(((f*c==-1)?f:(f+c)/(1+f*c))+1)/2;var d=1-a;var x=this.rgbArray();var u=w.rgbArray();for(var i=0;i<x.length;i++){x[i]=x[i]*a+u[i]*d}this.setValues("rgb",x);var v=this.alpha()*h+w.alpha()*(1-h);this.setValues("alpha",v);return this},toJSON:function(){return this.rgb()},clone:function(){return new l(this.rgb())}};l.prototype.getValues=function(a){var c={};for(var d=0;d<a.length;d++){c[a[d]]=this.values[a][d]}if(this.values.alpha!=1){c.a=this.values.alpha}return c};l.prototype.setValues=function(u,v){var c={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]};var h={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]};var f=1;if(u=="alpha"){f=v}else{if(v.length){this.values[u]=v.slice(0,u.length);f=v[u.length]}else{if(v[u[0]]!==undefined){for(var d=0;d<u.length;d++){this.values[u][d]=v[u[d]]}f=v.a}else{if(v[c[u][0]]!==undefined){var i=c[u];for(var d=0;d<u.length;d++){this.values[u][d]=v[i[d]]}f=v.alpha}}}}this.values.alpha=Math.max(0,Math.min(1,(f!==undefined?f:this.values.alpha)));if(u=="alpha"){return}for(var d=0;d<u.length;d++){var a=Math.max(0,Math.min(h[u][d],this.values[u][d]));this.values[u][d]=Math.round(a)}for(var t in c){if(t!=u){this.values[t]=k[u][t](this.values[u])}for(var d=0;d<t.length;d++){var a=Math.max(0,Math.min(h[t][d],this.values[t][d]));this.values[t][d]=Math.round(a)}}return true};l.prototype.setSpace=function(a,d){var c=d[0];if(c===undefined){return this.getValues(a)}if(typeof c=="number"){c=Array.prototype.slice.call(d)}this.setValues(a,c);return this};l.prototype.setChannel=function(c,d,a){if(a===undefined){return this.values[c][d]}this.values[c][d]=a;this.setValues(c,this.values[c]);return this};m.exports=l},{"color-convert":3,"color-string":5}]},{},[1]);