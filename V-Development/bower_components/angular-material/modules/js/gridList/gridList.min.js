/*!
 * AngularJS Material Design
 * https://github.com/angular/material
 * @license MIT
 * v1.1.5
 */
(function(d,b,g){f["$inject"]=["$mdUtil"];a["$inject"]=["$mdUtil"];h["$inject"]=["$interpolate","$mdConstant","$mdGridLayout","$mdMedia"];c["$inject"]=["$mdMedia"];b.module("material.components.gridList",["material.core"]).directive("mdGridList",h).directive("mdGridTile",c).directive("mdGridTileFooter",e).directive("mdGridTileHeader",e).factory("$mdGridLayout",a);function h(l,k,m,j){return{restrict:"E",controller:f,scope:{mdOnLayout:"&"},link:i};function i(o,q,F,A){q.addClass("_md");q.attr("role","list");A.layoutDelegate=z;var M=b.bind(A,A.invalidateLayout),u=H();o.$on("$destroy",J);function H(){for(var N in k.MEDIA){j(N);j.getQuery(k.MEDIA[N]).addListener(M)}return j.watchResponsiveAttributes(["md-cols","md-row-height","md-gutter"],F,G)}function J(){A.layoutDelegate=b.noop;u();for(var N in k.MEDIA){j.getQuery(k.MEDIA[N]).removeListener(M)}}function G(N){if(N==null){A.invalidateLayout()}else{if(j(N)){A.invalidateLayout()}}}var r;function z(P){var N=w();var O={tileSpans:L(N),colCount:n(),rowMode:E(),rowHeight:x(),gutter:p()};if(!P&&b.equals(O,r)){return}var Q=m(O.colCount,O.tileSpans,N).map(function(S,R){return{grid:{element:q,style:t(O.colCount,R,O.gutter,O.rowMode,O.rowHeight)},tiles:S.map(function(U,T){return{element:b.element(N[T]),style:y(U.position,U.spans,O.colCount,R,O.gutter,O.rowMode,O.rowHeight)}})}}).reflow().performance();o.mdOnLayout({$event:{performance:Q}});r=O}var v=l.startSymbol();var I=l.endSymbol();function s(N){return v+N+I}var K=l(s("share")+"% - ("+s("gutter")+" * "+s("gutterShare")+")");var D=l("calc(("+s("unit")+" + "+s("gutter")+") * "+s("offset")+")");var C=l("calc(("+s("unit")+") * "+s("span")+" + ("+s("span")+" - 1) * "+s("gutter")+")");function y(U,W,aa,Y,S,T,N){var V=(1/aa)*100;var R=(aa-1)/aa;var P=K({share:V,gutterShare:R,gutter:S});var Q=document.dir!="rtl"&&document.body.dir!="rtl";var O=Q?{left:D({unit:P,offset:U.col,gutter:S}),width:C({unit:P,span:W.col,gutter:S}),paddingTop:"",marginTop:"",top:"",height:""}:{right:D({unit:P,offset:U.col,gutter:S}),width:C({unit:P,span:W.col,gutter:S}),paddingTop:"",marginTop:"",top:"",height:""};switch(T){case"fixed":O.top=D({unit:N,offset:U.row,gutter:S});O.height=C({unit:N,span:W.row,gutter:S});break;case"ratio":var Z=V/N;var ab=K({share:Z,gutterShare:R,gutter:S});O.paddingTop=C({unit:ab,span:W.row,gutter:S});O.marginTop=D({unit:ab,offset:U.row,gutter:S});break;case"fit":var X=(Y-1)/Y;var Z=(1/Y)*100;var ab=K({share:Z,gutterShare:X,gutter:S});O.top=D({unit:ab,offset:U.row,gutter:S});O.height=C({unit:ab,span:W.row,gutter:S});break}return O}function t(V,T,Q,R,N){var O={};switch(R){case"fixed":O.height=C({unit:N,span:T,gutter:Q});O.paddingBottom="";break;case"ratio":var P=V===1?0:(V-1)/V,S=(1/V)*100,U=S*(1/N),W=K({share:U,gutterShare:P,gutter:Q});O.height="";O.paddingBottom=C({unit:W,span:T,gutter:Q});break;case"fit":break}return O}function w(){return[].filter.call(q.children(),function(N){return N.tagName=="MD-GRID-TILE"&&!N.$$mdDestroyed})}function L(N){return[].map.call(N,function(P){var O=b.element(P).controller("mdGridTile");return{row:parseInt(j.getResponsiveAttribute(O.$attrs,"md-rowspan"),10)||1,col:parseInt(j.getResponsiveAttribute(O.$attrs,"md-colspan"),10)||1}})}function n(){var N=parseInt(j.getResponsiveAttribute(F,"md-cols"),10);if(isNaN(N)){throw"md-grid-list: md-cols attribute was not found, or contained a non-numeric value"}return N}function p(){return B(j.getResponsiveAttribute(F,"md-gutter")||1)}function x(){var O=j.getResponsiveAttribute(F,"md-row-height");if(!O){throw"md-grid-list: md-row-height attribute was not found"}switch(E()){case"fixed":return B(O);case"ratio":var N=O.split(":");return parseFloat(N[0])/parseFloat(N[1]);case"fit":return 0}}function E(){var N=j.getResponsiveAttribute(F,"md-row-height");if(!N){throw"md-grid-list: md-row-height attribute was not found"}if(N=="fit"){return"fit"}else{if(N.indexOf(":")!==-1){return"ratio"}else{return"fixed"}}}function B(N){return/\D$/.test(N)?N:N+"px"}}}function f(i){this.layoutInvalidated=false;this.tilesInvalidated=false;this.$timeout_=i.nextTick;this.layoutDelegate=b.noop}f.prototype={invalidateTiles:function(){this.tilesInvalidated=true;this.invalidateLayout()},invalidateLayout:function(){if(this.layoutInvalidated){return}this.layoutInvalidated=true;this.$timeout_(b.bind(this,this.layout))},layout:function(){try{this.layoutDelegate(this.tilesInvalidated)}finally{this.layoutInvalidated=false;this.tilesInvalidated=false}}};function a(m){var j=i;l.animateWith=function(n){j=!b.isFunction(n)?i:n};return l;function l(p,s){var o,r,n,q,u,t;q=m.time(function(){r=k(p,s)});return o={layoutInfo:function(){return r},map:function(v){u=m.time(function(){var w=o.layoutInfo();n=v(w.positioning,w.rowCount)});return o},reflow:function(v){t=m.time(function(){var w=v||j;w(n.grid,n.tiles)});return o},performance:function(){return{tileCount:s.length,layoutTime:q,mapTime:u,reflowTime:t,totalTime:q+u+t}}}}function i(o,n){o.element.css(o.style);n.forEach(function(p){p.element.css(p.style)})}function k(u,p){var s=0,q=0,r=w();return{positioning:p.map(function(y,x){return{spans:y,position:t(y,x)}}),rowCount:q+Math.max.apply(Math,r)};function t(z,y){if(z.col>u){throw"md-grid-list: Tile at position "+y+" has a colspan ("+z.col+") that exceeds the column count ("+u+")"}var A=0,x=0;while(x-A<z.col){if(s>=u){v();continue}A=r.indexOf(0,s);if(A===-1||(x=o(A+1))===-1){A=x=0;v();continue}s=x+1}n(A,z.col,z.row);s=A+z.col;return{col:A,row:q}}function v(){s=0;q++;n(0,u,-1)}function n(A,z,y){for(var x=A;x<A+z;x++){r[x]=Math.max(r[x]+y,0)}}function o(y){var x;for(x=y;x<r.length;x++){if(r[x]!==0){return x}}if(x===r.length){return x}}function w(){var y=[];for(var x=0;x<u;x++){y.push(0)}return y}}}function c(j){return{restrict:"E",require:"^mdGridList",template:"<figure ng-transclude></figure>",transclude:true,scope:{},controller:["$attrs",function(k){this.$attrs=k}],link:i};function i(o,n,l,m){n.attr("role","listitem");var p=j.watchResponsiveAttributes(["md-colspan","md-rowspan"],l,b.bind(m,m.invalidateLayout));m.invalidateTiles();o.$on("$destroy",function(){n[0].$$mdDestroyed=true;p();m.invalidateLayout()});if(b.isDefined(o.$parent.$index)){o.$watch(function(){return o.$parent.$index},function k(r,q){if(r===q){return}m.invalidateTiles()})}}}function e(){return{template:"<figcaption ng-transclude></figcaption>",transclude:true}}})(window,window.angular);