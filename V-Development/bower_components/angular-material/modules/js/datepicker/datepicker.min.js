/*!
 * AngularJS Material Design
 * https://github.com/angular/material
 * @license MIT
 * v1.1.5
 */
(function(b,a,c){a.module("material.components.datepicker",["material.core","material.components.icon","material.components.virtualRepeat"]);(function(){g["$inject"]=["$element","$scope","$$mdDateUtil","$mdUtil","$mdConstant","$mdTheming","$$rAF","$attrs","$mdDateLocale"];a.module("material.components.datepicker").directive("mdCalendar",e);function e(){return{template:function(i,h){var k=h.hasOwnProperty("ngIf")?"":'ng-if="calendarCtrl.isInitialized"';var j='<div ng-switch="calendarCtrl.currentView" '+k+'><md-calendar-year ng-switch-when="year"></md-calendar-year><md-calendar-month ng-switch-default></md-calendar-month></div>';return j},scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",dateFilter:"=mdDateFilter",_currentView:"@mdCurrentView"},require:["ngModel","mdCalendar"],controller:g,controllerAs:"calendarCtrl",bindToController:true,link:function(l,j,i,m){var h=m[0];var k=m[1];k.configureNgModel(h)}}}var d=340;var f=0;function g(r,q,n,i,h,l,o,p,j){l(r);this.$element=r;this.$scope=q;this.dateUtil=n;this.$mdUtil=i;this.keyCode=h.KEY_CODE;this.$$rAF=o;this.$mdDateLocale=j;this.today=this.dateUtil.createDateAtMidnight();this.ngModelCtrl=null;this.SELECTED_DATE_CLASS="md-calendar-selected-date";this.TODAY_CLASS="md-calendar-date-today";this.FOCUSED_DATE_CLASS="md-focus";this.id=f++;this.displayDate=null;this.selectedDate=null;this.firstRenderableDate=null;this.lastRenderableDate=null;this.isInitialized=false;this.width=0;this.scrollbarWidth=0;if(!p.tabindex){r.attr("tabindex","-1")}var m=a.bind(this,this.handleKeyEvent);var k;if(r.parent().hasClass("md-datepicker-calendar")){k=a.element(document.body)}else{k=r}k.on("keydown",m);q.$on("$destroy",function(){k.off("keydown",m)});if(a.version.major===1&&a.version.minor<=4){this.$onInit()}}g.prototype.$onInit=function(){this.currentView=this._currentView||"month";var h=this.$mdDateLocale;if(this.minDate&&this.minDate>h.firstRenderableDate){this.firstRenderableDate=this.minDate}else{this.firstRenderableDate=h.firstRenderableDate}if(this.maxDate&&this.maxDate<h.lastRenderableDate){this.lastRenderableDate=this.maxDate}else{this.lastRenderableDate=h.lastRenderableDate}};g.prototype.configureNgModel=function(i){var h=this;h.ngModelCtrl=i;h.$mdUtil.nextTick(function(){h.isInitialized=true});i.$render=function(){var j=this.$viewValue;h.$scope.$broadcast("md-calendar-parent-changed",j);if(!h.selectedDate){h.selectedDate=j}if(!h.displayDate){h.displayDate=h.selectedDate||h.today}}};g.prototype.setNgModelValue=function(h){var i=this.dateUtil.createDateAtMidnight(h);this.focus(i);this.$scope.$emit("md-calendar-change",i);this.ngModelCtrl.$setViewValue(i);this.ngModelCtrl.$render();return i};g.prototype.setCurrentView=function(j,i){var h=this;h.$mdUtil.nextTick(function(){h.currentView=j;if(i){h.displayDate=a.isDate(i)?i:new Date(i)}})};g.prototype.focus=function(j){if(this.dateUtil.isValidDate(j)){var k=this.$element[0].querySelector(".md-focus");if(k){k.classList.remove(this.FOCUSED_DATE_CLASS)}var l=this.getDateId(j,this.currentView);var i=document.getElementById(l);if(i){i.classList.add(this.FOCUSED_DATE_CLASS);i.focus();this.displayDate=j}}else{var h=this.$element[0].querySelector("[ng-switch]");if(h){h.focus()}}};g.prototype.getActionFromKeyEvent=function(h){var i=this.keyCode;switch(h.which){case i.ENTER:return"select";case i.RIGHT_ARROW:return"move-right";case i.LEFT_ARROW:return"move-left";case i.DOWN_ARROW:return h.metaKey?"move-page-down":"move-row-down";case i.UP_ARROW:return h.metaKey?"move-page-up":"move-row-up";case i.PAGE_DOWN:return"move-page-down";case i.PAGE_UP:return"move-page-up";case i.HOME:return"start";case i.END:return"end";default:return null}};g.prototype.handleKeyEvent=function(i){var h=this;this.$scope.$apply(function(){if(i.which==h.keyCode.ESCAPE||i.which==h.keyCode.TAB){h.$scope.$emit("md-calendar-close");if(i.which==h.keyCode.TAB){i.preventDefault()}return}var j=h.getActionFromKeyEvent(i);if(j){i.preventDefault();i.stopPropagation();h.$scope.$broadcast("md-calendar-parent-action",j)}})};g.prototype.hideVerticalScrollbar=function(k){var i=this;var j=k.$element[0];var h=j.querySelector(".md-calendar-scroll-mask");if(i.width>0){l()}else{i.$$rAF(function(){var m=k.calendarScroller;i.scrollbarWidth=m.offsetWidth-m.clientWidth;i.width=j.querySelector("table").offsetWidth;l()})}function l(){var n=i.width||d;var o=i.scrollbarWidth;var m=k.calendarScroller;h.style.width=n+"px";m.style.width=(n+o)+"px";m.style.paddingRight=o+"px"}};g.prototype.getDateId=function(h,i){if(!i){throw new Error("A namespace for the date id has to be specified.")}return["md",this.id,i,h.getFullYear(),h.getMonth(),h.getDate()].join("-")};g.prototype.updateVirtualRepeat=function(){var i=this.$scope;var h=i.$on("$md-resize-enable",function(){if(!i.$$phase){i.$apply()}h()})}})();(function(){g["$inject"]=["$element","$scope","$animate","$q","$$mdDateUtil","$mdDateLocale"];a.module("material.components.datepicker").directive("mdCalendarMonth",d);var e=265;var f=45;function d(){return{template:'<table aria-hidden="true" class="md-calendar-day-header"><thead></thead></table><div class="md-calendar-scroll-mask"><md-virtual-repeat-container class="md-calendar-scroll-container" md-offset-size="'+(f-e)+'"><table role="grid" tabindex="0" class="md-calendar" aria-readonly="true"><tbody md-calendar-month-body role="rowgroup" md-virtual-repeat="i in monthCtrl.items" md-month-offset="$index" class="md-calendar-month" md-start-index="monthCtrl.getSelectedMonthIndex()" md-item-size="'+e+'"><tr aria-hidden="true" md-force-height="\''+e+"px'\"></tr></tbody></table></md-virtual-repeat-container></div>",require:["^^mdCalendar","mdCalendarMonth"],controller:g,controllerAs:"monthCtrl",bindToController:true,link:function(k,i,h,l){var m=l[0];var j=l[1];j.initialize(m)}}}function g(i,l,n,k,m,h){this.$element=i;this.$scope=l;this.$animate=n;this.$q=k;this.dateUtil=m;this.dateLocale=h;this.calendarScroller=i[0].querySelector(".md-virtual-repeat-scroller");this.isInitialized=false;this.isMonthTransitionInProgress=false;var j=this;this.cellClickHandler=function(){var o=m.getTimestampFromNode(this);j.$scope.$apply(function(){j.calendarCtrl.setNgModelValue(o)})};this.headerClickHandler=function(){j.calendarCtrl.setCurrentView("year",m.getTimestampFromNode(this))}}g.prototype.initialize=function(h){this.items={length:this.dateUtil.getMonthDistance(h.firstRenderableDate,h.lastRenderableDate)+2};this.calendarCtrl=h;this.attachScopeListeners();h.updateVirtualRepeat();h.ngModelCtrl&&h.ngModelCtrl.$render()};g.prototype.getSelectedMonthIndex=function(){var h=this.calendarCtrl;return this.dateUtil.getMonthDistance(h.firstRenderableDate,h.displayDate||h.selectedDate||h.today)};g.prototype.changeSelectedDate=function(j){var i=this;var k=i.calendarCtrl;var h=k.selectedDate;k.selectedDate=j;this.changeDisplayDate(j).then(function(){var l=k.SELECTED_DATE_CLASS;var m="month";if(h){var n=document.getElementById(k.getDateId(h,m));if(n){n.classList.remove(l);n.setAttribute("aria-selected","false")}}if(j){var o=document.getElementById(k.getDateId(j,m));if(o){o.classList.add(l);o.setAttribute("aria-selected","true")}}})};g.prototype.changeDisplayDate=function(i){if(!this.isInitialized){this.buildWeekHeader();this.calendarCtrl.hideVerticalScrollbar(this);this.isInitialized=true;return this.$q.when()}if(!this.dateUtil.isValidDate(i)||this.isMonthTransitionInProgress){return this.$q.when()}this.isMonthTransitionInProgress=true;var j=this.animateDateChange(i);this.calendarCtrl.displayDate=i;var h=this;j.then(function(){h.isMonthTransitionInProgress=false});return j};g.prototype.animateDateChange=function(h){if(this.dateUtil.isValidDate(h)){var i=this.dateUtil.getMonthDistance(this.calendarCtrl.firstRenderableDate,h);this.calendarScroller.scrollTop=i*e}return this.$q.when()};g.prototype.buildWeekHeader=function(){var h=this.dateLocale.firstDayOfWeek;var l=this.dateLocale.shortDays;var m=document.createElement("tr");for(var j=0;j<7;j++){var k=document.createElement("th");k.textContent=l[(j+h)%7];m.appendChild(k)}this.$element.find("thead").append(m)};g.prototype.attachScopeListeners=function(){var h=this;h.$scope.$on("md-calendar-parent-changed",function(i,j){h.changeSelectedDate(j)});h.$scope.$on("md-calendar-parent-action",a.bind(this,this.handleKeyEvent))};g.prototype.handleKeyEvent=function(k,l){var m=this.calendarCtrl;var i=m.displayDate;if(l==="select"){m.setNgModelValue(i)}else{var j=null;var h=this.dateUtil;switch(l){case"move-right":j=h.incrementDays(i,1);break;case"move-left":j=h.incrementDays(i,-1);break;case"move-page-down":j=h.incrementMonths(i,1);break;case"move-page-up":j=h.incrementMonths(i,-1);break;case"move-row-down":j=h.incrementDays(i,7);break;case"move-row-up":j=h.incrementDays(i,-7);break;case"start":j=h.getFirstDateOfMonth(i);break;case"end":j=h.getLastDateOfMonth(i);break}if(j){j=this.dateUtil.clampDate(j,m.minDate,m.maxDate);this.changeDisplayDate(j).then(function(){m.focus(j)})}}}})();(function(){e["$inject"]=["$compile","$$mdSvgRegistry"];d["$inject"]=["$element","$$mdDateUtil","$mdDateLocale"];a.module("material.components.datepicker").directive("mdCalendarMonthBody",e);function e(g,h){var f=g('<md-icon md-svg-src="'+h.mdTabsArrow+'"></md-icon>')({})[0];return{require:["^^mdCalendar","^^mdCalendarMonth","mdCalendarMonthBody"],scope:{offset:"=mdMonthOffset"},controller:d,controllerAs:"mdMonthBodyCtrl",bindToController:true,link:function(m,k,i,n){var o=n[0];var l=n[1];var j=n[2];j.calendarCtrl=o;j.monthCtrl=l;j.arrowIcon=f.cloneNode(true);m.$watch(function(){return j.offset},function(p){if(a.isNumber(p)){j.generateContent()}})}}}function d(g,h,f){this.$element=g;this.dateUtil=h;this.dateLocale=f;this.monthCtrl=null;this.calendarCtrl=null;this.offset=null;this.focusAfterAppend=null}d.prototype.generateContent=function(){var f=this.dateUtil.incrementMonths(this.calendarCtrl.firstRenderableDate,this.offset);this.$element.empty().append(this.buildCalendarForMonth(f));if(this.focusAfterAppend){this.focusAfterAppend.classList.add(this.calendarCtrl.FOCUSED_DATE_CLASS);this.focusAfterAppend.focus();this.focusAfterAppend=null}};d.prototype.buildDateCell=function(j){var h=this.monthCtrl;var k=this.calendarCtrl;var f=document.createElement("td");f.tabIndex=-1;f.classList.add("md-calendar-date");f.setAttribute("role","gridcell");if(j){f.setAttribute("tabindex","-1");f.setAttribute("aria-label",this.dateLocale.longDateFormatter(j));f.id=k.getDateId(j,"month");f.setAttribute("data-timestamp",j.getTime());if(this.dateUtil.isSameDay(j,k.today)){f.classList.add(k.TODAY_CLASS)}if(this.dateUtil.isValidDate(k.selectedDate)&&this.dateUtil.isSameDay(j,k.selectedDate)){f.classList.add(k.SELECTED_DATE_CLASS);f.setAttribute("aria-selected","true")}var g=this.dateLocale.dates[j.getDate()];if(this.isDateEnabled(j)){var i=document.createElement("span");i.classList.add("md-calendar-date-selection-indicator");i.textContent=g;f.appendChild(i);f.addEventListener("click",h.cellClickHandler);if(k.displayDate&&this.dateUtil.isSameDay(j,k.displayDate)){this.focusAfterAppend=f}}else{f.classList.add("md-calendar-date-disabled");f.textContent=g}}return f};d.prototype.isDateEnabled=function(f){return this.dateUtil.isDateWithinRange(f,this.calendarCtrl.minDate,this.calendarCtrl.maxDate)&&(!a.isFunction(this.calendarCtrl.dateFilter)||this.calendarCtrl.dateFilter(f))};d.prototype.buildDateRow=function(f){var g=document.createElement("tr");g.setAttribute("role","row");g.setAttribute("aria-label",this.dateLocale.weekNumberFormatter(f));return g};d.prototype.buildCalendarForMonth=function(w){var z=this.dateUtil.isValidDate(w)?w:new Date();var u=this.dateUtil.getFirstDateOfMonth(z);var f=this.getLocaleDay_(u);var n=this.dateUtil.getNumberOfDaysInMonth(z);var y=document.createDocumentFragment();var p=1;var m=this.buildDateRow(p);y.appendChild(m);var l=this.offset===this.monthCtrl.items.length-1;var k=0;var g=document.createElement("td");var t=document.createElement("span");t.textContent=this.dateLocale.monthHeaderFormatter(z);g.appendChild(t);g.classList.add("md-calendar-month-label");if(this.calendarCtrl.maxDate&&u>this.calendarCtrl.maxDate){g.classList.add("md-calendar-month-label-disabled")}else{g.addEventListener("click",this.monthCtrl.headerClickHandler);g.setAttribute("data-timestamp",u.getTime());g.setAttribute("aria-label",this.dateLocale.monthFormatter(z));g.appendChild(this.arrowIcon.cloneNode(true))}if(f<=2){g.setAttribute("colspan","7");var q=this.buildDateRow();q.appendChild(g);y.insertBefore(q,m);if(l){return y}}else{k=3;g.setAttribute("colspan","3");m.appendChild(g)}for(var v=k;v<f;v++){m.appendChild(this.buildDateCell())}var r=f;var o=u;for(var x=1;x<=n;x++){if(r===7){if(l){return y}r=0;p++;m=this.buildDateRow(p);y.appendChild(m)}o.setDate(x);var h=this.buildDateCell(o);m.appendChild(h);r++}while(m.childNodes.length<7){m.appendChild(this.buildDateCell())}while(y.childNodes.length<6){var A=this.buildDateRow();for(var s=0;s<7;s++){A.appendChild(this.buildDateCell())}y.appendChild(A)}return y};d.prototype.getLocaleDay_=function(f){return(f.getDay()+(7-this.dateLocale.firstDayOfWeek))%7}})();(function(){f["$inject"]=["$element","$scope","$animate","$q","$$mdDateUtil"];a.module("material.components.datepicker").directive("mdCalendarYear",d);var e=88;function d(){return{template:'<div class="md-calendar-scroll-mask"><md-virtual-repeat-container class="md-calendar-scroll-container"><table role="grid" tabindex="0" class="md-calendar" aria-readonly="true"><tbody md-calendar-year-body role="rowgroup" md-virtual-repeat="i in yearCtrl.items" md-year-offset="$index" class="md-calendar-year" md-start-index="yearCtrl.getFocusedYearIndex()" md-item-size="'+e+'"><tr aria-hidden="true" md-force-height="\''+e+"px'\"></tr></tbody></table></md-virtual-repeat-container></div>",require:["^^mdCalendar","mdCalendarYear"],controller:f,controllerAs:"yearCtrl",bindToController:true,link:function(i,h,g,k){var l=k[0];var j=k[1];j.initialize(l)}}}function f(g,j,l,i,k){this.$element=g;this.$scope=j;this.$animate=l;this.$q=i;this.dateUtil=k;this.calendarScroller=g[0].querySelector(".md-virtual-repeat-scroller");this.isInitialized=false;this.isMonthTransitionInProgress=false;var h=this;this.cellClickHandler=function(){h.calendarCtrl.setCurrentView("month",k.getTimestampFromNode(this))}}f.prototype.initialize=function(g){this.items={length:this.dateUtil.getYearDistance(g.firstRenderableDate,g.lastRenderableDate)+1};this.calendarCtrl=g;this.attachScopeListeners();g.updateVirtualRepeat();g.ngModelCtrl&&g.ngModelCtrl.$render()};f.prototype.getFocusedYearIndex=function(){var g=this.calendarCtrl;return this.dateUtil.getYearDistance(g.firstRenderableDate,g.displayDate||g.selectedDate||g.today)};f.prototype.changeDate=function(h){if(!this.isInitialized){this.calendarCtrl.hideVerticalScrollbar(this);this.isInitialized=true;return this.$q.when()}else{if(this.dateUtil.isValidDate(h)&&!this.isMonthTransitionInProgress){var g=this;var i=this.animateDateChange(h);g.isMonthTransitionInProgress=true;g.calendarCtrl.displayDate=h;return i.then(function(){g.isMonthTransitionInProgress=false})}}};f.prototype.animateDateChange=function(g){if(this.dateUtil.isValidDate(g)){var h=this.dateUtil.getYearDistance(this.calendarCtrl.firstRenderableDate,g);this.calendarScroller.scrollTop=h*e}return this.$q.when()};f.prototype.handleKeyEvent=function(l,m){var n=this.calendarCtrl;var i=n.displayDate;if(m==="select"){this.changeDate(i).then(function(){n.setCurrentView("month",i);n.focus(i)})}else{var j=null;var h=this.dateUtil;switch(m){case"move-right":j=h.incrementMonths(i,1);break;case"move-left":j=h.incrementMonths(i,-1);break;case"move-row-down":j=h.incrementMonths(i,6);break;case"move-row-up":j=h.incrementMonths(i,-6);break}if(j){var k=n.minDate?h.getFirstDateOfMonth(n.minDate):null;var g=n.maxDate?h.getFirstDateOfMonth(n.maxDate):null;j=h.getFirstDateOfMonth(this.dateUtil.clampDate(j,k,g));this.changeDate(j).then(function(){n.focus(j)})}}};f.prototype.attachScopeListeners=function(){var g=this;g.$scope.$on("md-calendar-parent-changed",function(h,i){g.changeDate(i)});g.$scope.$on("md-calendar-parent-action",a.bind(g,g.handleKeyEvent))}})();(function(){d["$inject"]=["$element","$$mdDateUtil","$mdDateLocale"];a.module("material.components.datepicker").directive("mdCalendarYearBody",e);function e(){return{require:["^^mdCalendar","^^mdCalendarYear","mdCalendarYearBody"],scope:{offset:"=mdYearOffset"},controller:d,controllerAs:"mdYearBodyCtrl",bindToController:true,link:function(h,g,f,k){var l=k[0];var j=k[1];var i=k[2];i.calendarCtrl=l;i.yearCtrl=j;h.$watch(function(){return i.offset},function(m){if(a.isNumber(m)){i.generateContent()}})}}}function d(g,h,f){this.$element=g;this.dateUtil=h;this.dateLocale=f;this.calendarCtrl=null;this.yearCtrl=null;this.offset=null;this.focusAfterAppend=null}d.prototype.generateContent=function(){var f=this.dateUtil.incrementYears(this.calendarCtrl.firstRenderableDate,this.offset);this.$element.empty().append(this.buildCalendarForYear(f));if(this.focusAfterAppend){this.focusAfterAppend.classList.add(this.calendarCtrl.FOCUSED_DATE_CLASS);this.focusAfterAppend.focus();this.focusAfterAppend=null}};d.prototype.buildMonthCell=function(h,k){var m=this.calendarCtrl;var j=this.yearCtrl;var f=this.buildBlankCell();var l=new Date(h,k,1);f.setAttribute("aria-label",this.dateLocale.monthFormatter(l));f.id=m.getDateId(l,"year");f.setAttribute("data-timestamp",l.getTime());if(this.dateUtil.isSameMonthAndYear(l,m.today)){f.classList.add(m.TODAY_CLASS)}if(this.dateUtil.isValidDate(m.selectedDate)&&this.dateUtil.isSameMonthAndYear(l,m.selectedDate)){f.classList.add(m.SELECTED_DATE_CLASS);f.setAttribute("aria-selected","true")}var g=this.dateLocale.shortMonths[k];if(this.dateUtil.isMonthWithinRange(l,m.minDate,m.maxDate)){var i=document.createElement("span");i.classList.add("md-calendar-date-selection-indicator");i.textContent=g;f.appendChild(i);f.addEventListener("click",j.cellClickHandler);if(m.displayDate&&this.dateUtil.isSameMonthAndYear(l,m.displayDate)){this.focusAfterAppend=f}}else{f.classList.add("md-calendar-date-disabled");f.textContent=g}return f};d.prototype.buildBlankCell=function(){var f=document.createElement("td");f.tabIndex=-1;f.classList.add("md-calendar-date");f.setAttribute("role","gridcell");f.setAttribute("tabindex","-1");return f};d.prototype.buildCalendarForYear=function(h){var k=h.getFullYear();var g=document.createDocumentFragment();var n,j;var m=document.createElement("tr");var l=document.createElement("td");l.className="md-calendar-month-label";l.textContent=k;m.appendChild(l);for(j=0;j<6;j++){m.appendChild(this.buildMonthCell(k,j))}g.appendChild(m);var f=document.createElement("tr");f.appendChild(this.buildBlankCell());for(j=6;j<12;j++){f.appendChild(this.buildMonthCell(k,j))}g.appendChild(f);return g}})();(function(){a.module("material.components.datepicker").config(["$provide",function(e){function d(){this.months=null;this.shortMonths=null;this.days=null;this.shortDays=null;this.dates=null;this.firstDayOfWeek=0;this.formatDate=null;this.parseDate=null;this.monthHeaderFormatter=null;this.weekNumberFormatter=null;this.longDateFormatter=null;this.msgCalendar="";this.msgOpenCalendar=""}d.prototype.$get=function(l,q){function g(i,z){if(!i){return""}var y=i.toLocaleTimeString();var x=i;if(i.getHours()===0&&(y.indexOf("11:")!==-1||y.indexOf("23:")!==-1)){x=new Date(i.getFullYear(),i.getMonth(),i.getDate(),1,0,0)}return q("date")(x,"M/d/yyyy",z)}function m(i){return new Date(i)}function f(x){x=x.trim();var i=/^(([a-zA-Z]{3,}|[0-9]{1,4})([ \.,]+|[\/\-])){2}([a-zA-Z]{3,}|[0-9]{1,4})$/;return i.test(x)}function w(i){return o.shortMonths[i.getMonth()]+" "+i.getFullYear()}function u(i){return o.months[i.getMonth()]+" "+i.getFullYear()}function j(i){return"Week "+i}function k(i){return[o.days[i.getDay()],o.months[i.getMonth()],o.dates[i.getDate()],i.getFullYear()].join(" ")}var t=l.DATETIME_FORMATS.SHORTDAY.map(function(i){return i.substring(0,1)});var v=Array(32);for(var n=1;n<=31;n++){v[n]=n}var p="Calendar";var s="Open calendar";var h=new Date(1880,0,1);var r=new Date(h.getFullYear()+250,0,1);var o={months:this.months||l.DATETIME_FORMATS.MONTH,shortMonths:this.shortMonths||l.DATETIME_FORMATS.SHORTMONTH,days:this.days||l.DATETIME_FORMATS.DAY,shortDays:this.shortDays||t,dates:this.dates||v,firstDayOfWeek:this.firstDayOfWeek||0,formatDate:this.formatDate||g,parseDate:this.parseDate||m,isDateComplete:this.isDateComplete||f,monthHeaderFormatter:this.monthHeaderFormatter||w,monthFormatter:this.monthFormatter||u,weekNumberFormatter:this.weekNumberFormatter||j,longDateFormatter:this.longDateFormatter||k,msgCalendar:this.msgCalendar||p,msgOpenCalendar:this.msgOpenCalendar||s,firstRenderableDate:this.firstRenderableDate||h,lastRenderableDate:this.lastRenderableDate||r};return o};d.prototype.$get["$inject"]=["$locale","$filter"];e.provider("$mdDateLocale",new d())}])})();(function(){a.module("material.components.datepicker").factory("$$mdDateUtil",function(){return{getFirstDateOfMonth:m,getNumberOfDaysInMonth:v,getDateInNextMonth:n,getDateInPreviousMonth:f,isInNextMonth:o,isInPreviousMonth:g,getDateMidpoint:z,isSameMonthAndYear:u,getWeekOfMonth:x,incrementDays:p,incrementMonths:y,getLastDateOfMonth:e,isSameDay:l,getMonthDistance:h,isValidDate:j,setDateTimeToMidnight:d,createDateAtMidnight:k,isDateWithinRange:i,incrementYears:s,getYearDistance:q,clampDate:r,getTimestampFromNode:w,isMonthWithinRange:t};function m(A){return new Date(A.getFullYear(),A.getMonth(),1)}function v(A){return new Date(A.getFullYear(),A.getMonth()+1,0).getDate()}function n(A){return new Date(A.getFullYear(),A.getMonth()+1,1)}function f(A){return new Date(A.getFullYear(),A.getMonth()-1,1)}function u(B,A){return B.getFullYear()===A.getFullYear()&&B.getMonth()===A.getMonth()}function l(B,A){return B.getDate()==A.getDate()&&u(B,A)}function o(A,C){var B=n(A);return u(B,C)}function g(A,C){var B=f(A);return u(C,B)}function z(B,A){return k((B.getTime()+A.getTime())/2)}function x(A){var B=m(A);return Math.floor((B.getDay()+A.getDate()-1)/7)}function p(A,B){return new Date(A.getFullYear(),A.getMonth(),A.getDate()+B)}function y(C,A){var D=new Date(C.getFullYear(),C.getMonth()+A,1);var B=v(D);if(B<C.getDate()){D.setDate(B)}else{D.setDate(C.getDate())}return D}function h(B,A){return(12*(A.getFullYear()-B.getFullYear()))+(A.getMonth()-B.getMonth())}function e(A){return new Date(A.getFullYear(),A.getMonth(),v(A))}function j(A){return A&&A.getTime&&!isNaN(A.getTime())}function d(A){if(j(A)){A.setHours(0,0,0,0)}}function k(A){var B;if(a.isUndefined(A)){B=new Date()}else{B=new Date(A)}d(B);return B}function i(D,E,F){var C=k(D);var B=j(E)?k(E):null;var A=j(F)?k(F):null;return(!B||B<=C)&&(!A||A>=C)}function s(B,A){return y(B,A*12)}function q(B,A){return A.getFullYear()-B.getFullYear()}function r(A,B,C){var D=A;if(B&&A<B){D=new Date(B.getTime())}if(C&&A>C){D=new Date(C.getTime())}return D}function w(A){if(A&&A.hasAttribute("data-timestamp")){return Number(A.getAttribute("data-timestamp"))}}function t(A,C,E){var D=A.getMonth();var B=A.getFullYear();return(!C||C.getFullYear()<B||C.getMonth()<=D)&&(!E||E.getFullYear()>B||E.getMonth()>=D)}})})();(function(){e["$inject"]=["$scope","$element","$attrs","$window","$mdConstant","$mdTheming","$mdUtil","$mdDateLocale","$$mdDateUtil","$$rAF","$filter"];m["$inject"]=["$$mdSvgRegistry","$mdUtil","$mdAria","inputDirective"];a.module("material.components.datepicker").directive("mdDatepicker",m);function m(r,s,p,q){return{template:function(u,v){var x=v.mdHideIcons;var y=v.ariaLabel||v.mdPlaceholder;var t=(x==="all"||x==="calendar")?"":'<md-button class="md-datepicker-button md-icon-button" type="button" tabindex="-1" aria-hidden="true" ng-click="ctrl.openCalendarPane($event)"><md-icon class="md-datepicker-calendar-icon" aria-label="md-calendar" md-svg-src="'+r.mdCalendar+'"></md-icon></md-button>';var w="";if(x!=="all"&&x!=="triangle"){w='<md-button type="button" md-no-ink class="md-datepicker-triangle-button md-icon-button" ng-click="ctrl.openCalendarPane($event)" aria-label="{{::ctrl.locale.msgOpenCalendar}}"><div class="md-datepicker-expand-triangle"></div></md-button>';u.addClass(k)}return t+'<div class="md-datepicker-input-container" ng-class="{\'md-datepicker-focused\': ctrl.isFocused}"><input '+(y?'aria-label="'+y+'" ':"")+'class="md-datepicker-input" aria-haspopup="true" aria-expanded="{{ctrl.isCalendarOpen}}" ng-focus="ctrl.setFocused(true)" ng-blur="ctrl.setFocused(false)"> '+w+'</div><div class="md-datepicker-calendar-pane md-whiteframe-z1" id="{{::ctrl.calendarPaneId}}"><div class="md-datepicker-input-mask"><div class="md-datepicker-input-mask-opaque"></div></div><div class="md-datepicker-calendar"><md-calendar role="dialog" aria-label="{{::ctrl.locale.msgCalendar}}" md-current-view="{{::ctrl.currentView}}"md-min-date="ctrl.minDate"md-max-date="ctrl.maxDate"md-date-filter="ctrl.dateFilter"ng-model="ctrl.date" ng-if="ctrl.isCalendarOpen"></md-calendar></div></div>'},require:["ngModel","mdDatepicker","?^mdInputContainer","?^form"],scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",placeholder:"@mdPlaceholder",currentView:"@mdCurrentView",dateFilter:"=mdDateFilter",isOpen:"=?mdIsOpen",debounceInterval:"=mdDebounceInterval",dateLocale:"=mdDateLocale"},controller:e,controllerAs:"ctrl",bindToController:true,link:function(D,z,A,v){var t=v[0];var w=v[1];var u=v[2];var x=v[3];var y=s.parseAttributeBoolean(A.mdNoAsterisk);w.configureNgModel(t,u,q);if(u){var B=z[0].querySelector(".md-errors-spacer");if(B){z.after(a.element("<div>").append(B))}u.setHasPlaceholder(A.mdPlaceholder);u.input=z;u.element.addClass(h).toggleClass(g,A.mdHideIcons!=="calendar"&&A.mdHideIcons!=="all");if(!u.label){p.expect(z,"aria-label",A.mdPlaceholder)}else{if(!y){A.$observe("required",function(E){u.label.toggleClass("md-required",!!E)})}}D.$watch(u.isErrorGetter||function(){return t.$invalid&&(t.$touched||(x&&x.$submitted))},u.setInvalid)}else{if(x){var C=D.$watch(function(){return x.$submitted},function(E){if(E){w.updateErrorState();C()}})}}}}}var i=3;var f="md-datepicker-invalid";var o="md-datepicker-open";var h="_md-datepicker-floating-label";var g="_md-datepicker-has-calendar-icon";var k="_md-datepicker-has-triangle-icon";var d=500;var j=368;var n=360;var l=/ipad|iphone|ipod|android/i;function e(y,z,x,r,p,t,q,s,u,v,w){this.$window=r;this.dateUtil=u;this.$mdConstant=p;this.$mdUtil=q;this.$$rAF=v;this.$mdDateLocale=s;this.documentElement=a.element(document.documentElement);this.ngModelCtrl=null;this.inputElement=z[0].querySelector("input");this.ngInputElement=a.element(this.inputElement);this.inputContainer=z[0].querySelector(".md-datepicker-input-container");this.calendarPane=z[0].querySelector(".md-datepicker-calendar-pane");this.calendarButton=z[0].querySelector(".md-datepicker-button");this.inputMask=a.element(z[0].querySelector(".md-datepicker-input-mask-opaque"));this.$element=z;this.$attrs=x;this.$scope=y;this.date=null;this.isFocused=false;this.isDisabled;this.setDisabled(z[0].disabled||a.isString(x.disabled));this.isCalendarOpen=false;this.openOnFocus=x.hasOwnProperty("mdOpenOnFocus");this.mdInputContainer=null;this.calendarPaneOpenedFrom=null;this.calendarPaneId="md-date-pane-"+q.nextUid();this.bodyClickHandler=a.bind(this,this.handleBodyClick);this.windowEventName=l.test(navigator.userAgent||navigator.vendor||b.opera)?"orientationchange":"resize";this.windowEventHandler=q.debounce(a.bind(this,this.closeCalendarPane),100);this.windowBlurHandler=a.bind(this,this.handleWindowBlur);this.ngDateFilter=w("date");this.leftMargin=20;this.topMargin=null;if(x.tabindex){this.ngInputElement.attr("tabindex",x.tabindex);x.$set("tabindex",null)}else{x.$set("tabindex","-1")}x.$set("aria-owns",this.calendarPaneId);t(z);t(a.element(this.calendarPane));var A=this;y.$on("$destroy",function(){A.detachCalendarPane()});if(x.mdIsOpen){y.$watch("ctrl.isOpen",function(B){if(B){A.openCalendarPane({target:A.inputElement})}else{A.closeCalendarPane()}})}if(a.version.major===1&&a.version.minor<=4){this.$onInit()}}e.prototype.$onInit=function(){this.locale=this.dateLocale?a.extend({},this.$mdDateLocale,this.dateLocale):this.$mdDateLocale;this.installPropertyInterceptors();this.attachChangeListeners();this.attachInteractionListeners()};e.prototype.configureNgModel=function(r,p,s){this.ngModelCtrl=r;this.mdInputContainer=p;this.$attrs.$set("type","date");s[0].link.pre(this.$scope,{on:a.noop,val:a.noop,0:{}},this.$attrs,[r]);var q=this;q.ngModelCtrl.$formatters.push(function(v){var u=a.isDefined(v)?Date.parse(v):null;if(!isNaN(u)&&a.isNumber(u)){v=new Date(u)}if(v&&!(v instanceof Date)){throw Error("The ng-model for md-datepicker must be a Date instance or a value that can be parsed into a date. Currently the model is of type: "+typeof v)}q.onExternalChange(v);return v});r.$viewChangeListeners.unshift(a.bind(this,this.updateErrorState));var t=q.$mdUtil.getModelOption(r,"updateOn");if(t){this.ngInputElement.on(t,a.bind(this.$element,this.$element.triggerHandler,t))}};e.prototype.attachChangeListeners=function(){var p=this;p.$scope.$on("md-calendar-change",function(s,r){p.setModelValue(r);p.onExternalChange(r);p.closeCalendarPane()});p.ngInputElement.on("input",a.bind(p,p.resizeInputElement));var q=a.isDefined(this.debounceInterval)?this.debounceInterval:d;p.ngInputElement.on("input",p.$mdUtil.debounce(p.handleInputEvent,q,p))};e.prototype.attachInteractionListeners=function(){var q=this;var p=this.$scope;var r=this.$mdConstant.KEY_CODE;q.ngInputElement.on("keydown",function(s){if(s.altKey&&s.keyCode==r.DOWN_ARROW){q.openCalendarPane(s);p.$digest()}});if(q.openOnFocus){q.ngInputElement.on("focus",a.bind(q,q.openCalendarPane));a.element(q.$window).on("blur",q.windowBlurHandler);p.$on("$destroy",function(){a.element(q.$window).off("blur",q.windowBlurHandler)})}p.$on("md-calendar-close",function(){q.closeCalendarPane()})};e.prototype.installPropertyInterceptors=function(){var p=this;if(this.$attrs.ngDisabled){var q=this.$scope.$parent;if(q){q.$watch(this.$attrs.ngDisabled,function(r){p.setDisabled(r)})}}Object.defineProperty(this,"placeholder",{get:function(){return p.inputElement.placeholder},set:function(r){p.inputElement.placeholder=r||""}})};e.prototype.setDisabled=function(p){this.isDisabled=p;this.inputElement.disabled=p;if(this.calendarButton){this.calendarButton.disabled=p}};e.prototype.updateErrorState=function(r){var p=r||this.date;this.clearErrorState();if(this.dateUtil.isValidDate(p)){p=this.dateUtil.createDateAtMidnight(p);if(this.dateUtil.isValidDate(this.minDate)){var q=this.dateUtil.createDateAtMidnight(this.minDate);this.ngModelCtrl.$setValidity("mindate",p>=q)}if(this.dateUtil.isValidDate(this.maxDate)){var s=this.dateUtil.createDateAtMidnight(this.maxDate);this.ngModelCtrl.$setValidity("maxdate",p<=s)}if(a.isFunction(this.dateFilter)){this.ngModelCtrl.$setValidity("filtered",this.dateFilter(p))}}else{this.ngModelCtrl.$setValidity("valid",p==null)}a.element(this.inputContainer).toggleClass(f,!this.ngModelCtrl.$valid)};e.prototype.clearErrorState=function(){this.inputContainer.classList.remove(f);["mindate","maxdate","filtered","valid"].forEach(function(p){this.ngModelCtrl.$setValidity(p,true)},this)};e.prototype.resizeInputElement=function(){this.inputElement.size=this.inputElement.value.length+i};e.prototype.handleInputEvent=function(){var r=this.inputElement.value;var q=r?this.locale.parseDate(r):null;this.dateUtil.setDateTimeToMidnight(q);var p=r==""||(this.dateUtil.isValidDate(q)&&this.locale.isDateComplete(r)&&this.isDateEnabled(q));if(p){this.setModelValue(q);this.date=q}this.updateErrorState(q)};e.prototype.isDateEnabled=function(p){return this.dateUtil.isDateWithinRange(p,this.minDate,this.maxDate)&&(!a.isFunction(this.dateFilter)||this.dateFilter(p))};e.prototype.attachCalendarPane=function(){var q=this.calendarPane;var v=document.body;q.style.transform="";this.$element.addClass(o);this.mdInputContainer&&this.mdInputContainer.element.addClass(o);a.element(v).addClass("md-datepicker-is-showing");var y=this.inputContainer.getBoundingClientRect();var z=v.getBoundingClientRect();if(!this.topMargin||this.topMargin<0){this.topMargin=(this.inputMask.parent().prop("clientHeight")-this.ngInputElement.prop("clientHeight"))/2}var u=y.top-z.top-this.topMargin;var p=y.left-z.left-this.leftMargin;var r=(z.top<0&&document.body.scrollTop==0)?-z.top:document.body.scrollTop;var x=(z.left<0&&document.body.scrollLeft==0)?-z.left:document.body.scrollLeft;var w=r+this.$window.innerHeight;var t=x+this.$window.innerWidth;this.inputMask.css({position:"absolute",left:this.leftMargin+"px",top:this.topMargin+"px",width:(y.width-1)+"px",height:(y.height-2)+"px"});if(p+n>t){if(t-n>0){p=t-n}else{p=x;var s=this.$window.innerWidth/n;q.style.transform="scale("+s+")"}q.classList.add("md-datepicker-pos-adjusted")}if(u+j>w&&w-j>r){u=w-j;q.classList.add("md-datepicker-pos-adjusted")}q.style.left=p+"px";q.style.top=u+"px";document.body.appendChild(q);this.$$rAF(function(){q.classList.add("md-pane-open")})};e.prototype.detachCalendarPane=function(){this.$element.removeClass(o);this.mdInputContainer&&this.mdInputContainer.element.removeClass(o);a.element(document.body).removeClass("md-datepicker-is-showing");this.calendarPane.classList.remove("md-pane-open");this.calendarPane.classList.remove("md-datepicker-pos-adjusted");if(this.isCalendarOpen){this.$mdUtil.enableScrolling()}if(this.calendarPane.parentNode){this.calendarPane.parentNode.removeChild(this.calendarPane)}};e.prototype.openCalendarPane=function(q){if(!this.isCalendarOpen&&!this.isDisabled&&!this.inputFocusedOnWindowBlur){this.isCalendarOpen=this.isOpen=true;this.calendarPaneOpenedFrom=q.target;this.$mdUtil.disableScrollAround(this.calendarPane);this.attachCalendarPane();this.focusCalendar();this.evalAttr("ngFocus");var p=this;this.$mdUtil.nextTick(function(){p.documentElement.on("click touchstart",p.bodyClickHandler)},false);b.addEventListener(this.windowEventName,this.windowEventHandler)}};e.prototype.closeCalendarPane=function(){if(this.isCalendarOpen){var p=this;p.detachCalendarPane();p.ngModelCtrl.$setTouched();p.evalAttr("ngBlur");p.documentElement.off("click touchstart",p.bodyClickHandler);b.removeEventListener(p.windowEventName,p.windowEventHandler);p.calendarPaneOpenedFrom.focus();p.calendarPaneOpenedFrom=null;if(p.openOnFocus){p.$mdUtil.nextTick(q)}else{q()}}function q(){p.isCalendarOpen=p.isOpen=false}};e.prototype.getCalendarCtrl=function(){return a.element(this.calendarPane.querySelector("md-calendar")).controller("mdCalendar")};e.prototype.focusCalendar=function(){var p=this;this.$mdUtil.nextTick(function(){p.getCalendarCtrl().focus()},false)};e.prototype.setFocused=function(p){if(!p){this.ngModelCtrl.$setTouched()}if(!this.openOnFocus){this.evalAttr(p?"ngFocus":"ngBlur")}this.isFocused=p};e.prototype.handleBodyClick=function(q){if(this.isCalendarOpen){var p=this.$mdUtil.getClosest(q.target,"md-calendar");if(!p){this.closeCalendarPane()}this.$scope.$digest()}};e.prototype.handleWindowBlur=function(){this.inputFocusedOnWindowBlur=document.activeElement===this.inputElement};e.prototype.evalAttr=function(p){if(this.$attrs[p]){this.$scope.$parent.$eval(this.$attrs[p])}};e.prototype.setModelValue=function(q){var p=this.$mdUtil.getModelOption(this.ngModelCtrl,"timezone");this.ngModelCtrl.$setViewValue(this.ngDateFilter(q,"yyyy-MM-dd",p))};e.prototype.onExternalChange=function(q){var p=this.$mdUtil.getModelOption(this.ngModelCtrl,"timezone");this.date=q;this.inputElement.value=this.locale.formatDate(q,p);this.mdInputContainer&&this.mdInputContainer.setHasValue(!!q);this.resizeInputElement();this.updateErrorState()}})()})(window,window.angular);