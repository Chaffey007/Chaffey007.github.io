/*!
 * AngularJS Material Design
 * https://github.com/angular/material
 * @license MIT
 * v1.1.5
 */
(function(d,e,f){e.module("material.components.datepicker",["material.core","material.components.icon","material.components.virtualRepeat"]);(function(){a["$inject"]=["$element","$scope","$$mdDateUtil","$mdUtil","$mdConstant","$mdTheming","$$rAF","$attrs","$mdDateLocale"];e.module("material.components.datepicker").directive("mdCalendar",c);function c(){return{template:function(m,n){var g=n.hasOwnProperty("ngIf")?"":'ng-if="calendarCtrl.isInitialized"';var l='<div ng-switch="calendarCtrl.currentView" '+g+'><md-calendar-year ng-switch-when="year"></md-calendar-year><md-calendar-month ng-switch-default></md-calendar-month></div>';return l},scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",dateFilter:"=mdDateFilter",_currentView:"@mdCurrentView"},require:["ngModel","mdCalendar"],controller:a,controllerAs:"calendarCtrl",bindToController:true,link:function(n,p,q,g){var r=g[0];var o=g[1];o.configureNgModel(r)}}}var h=340;var b=0;function a(g,s,v,A,B,x,u,t,z){x(g);this.$element=g;this.$scope=s;this.dateUtil=v;this.$mdUtil=A;this.keyCode=B.KEY_CODE;this.$$rAF=u;this.$mdDateLocale=z;this.today=this.dateUtil.createDateAtMidnight();this.ngModelCtrl=null;this.SELECTED_DATE_CLASS="md-calendar-selected-date";this.TODAY_CLASS="md-calendar-date-today";this.FOCUSED_DATE_CLASS="md-focus";this.id=b++;this.displayDate=null;this.selectedDate=null;this.firstRenderableDate=null;this.lastRenderableDate=null;this.isInitialized=false;this.width=0;this.scrollbarWidth=0;if(!t.tabindex){g.attr("tabindex","-1")}var w=e.bind(this,this.handleKeyEvent);var y;if(g.parent().hasClass("md-datepicker-calendar")){y=e.element(document.body)}else{y=g}y.on("keydown",w);s.$on("$destroy",function(){y.off("keydown",w)});if(e.version.major===1&&e.version.minor<=4){this.$onInit()}}a.prototype.$onInit=function(){this.currentView=this._currentView||"month";var g=this.$mdDateLocale;if(this.minDate&&this.minDate>g.firstRenderableDate){this.firstRenderableDate=this.minDate}else{this.firstRenderableDate=g.firstRenderableDate}if(this.maxDate&&this.maxDate<g.lastRenderableDate){this.lastRenderableDate=this.maxDate}else{this.lastRenderableDate=g.lastRenderableDate}};a.prototype.configureNgModel=function(g){var j=this;j.ngModelCtrl=g;j.$mdUtil.nextTick(function(){j.isInitialized=true});g.$render=function(){var i=this.$viewValue;j.$scope.$broadcast("md-calendar-parent-changed",i);if(!j.selectedDate){j.selectedDate=i}if(!j.displayDate){j.displayDate=j.selectedDate||j.today}}};a.prototype.setNgModelValue=function(j){var g=this.dateUtil.createDateAtMidnight(j);this.focus(g);this.$scope.$emit("md-calendar-change",g);this.ngModelCtrl.$setViewValue(g);this.ngModelCtrl.$render();return g};a.prototype.setCurrentView=function(g,k){var l=this;l.$mdUtil.nextTick(function(){l.currentView=g;if(k){l.displayDate=e.isDate(k)?k:new Date(k)}})};a.prototype.focus=function(n){if(this.dateUtil.isValidDate(n)){var m=this.$element[0].querySelector(".md-focus");if(m){m.classList.remove(this.FOCUSED_DATE_CLASS)}var g=this.getDateId(n,this.currentView);var o=document.getElementById(g);if(o){o.classList.add(this.FOCUSED_DATE_CLASS);o.focus();this.displayDate=n}}else{var p=this.$element[0].querySelector("[ng-switch]");if(p){p.focus()}}};a.prototype.getActionFromKeyEvent=function(j){var g=this.keyCode;switch(j.which){case g.ENTER:return"select";case g.RIGHT_ARROW:return"move-right";case g.LEFT_ARROW:return"move-left";case g.DOWN_ARROW:return j.metaKey?"move-page-down":"move-row-down";case g.UP_ARROW:return j.metaKey?"move-page-up":"move-row-up";case g.PAGE_DOWN:return"move-page-down";case g.PAGE_UP:return"move-page-up";case g.HOME:return"start";case g.END:return"end";default:return null}};a.prototype.handleKeyEvent=function(g){var j=this;this.$scope.$apply(function(){if(g.which==j.keyCode.ESCAPE||g.which==j.keyCode.TAB){j.$scope.$emit("md-calendar-close");if(g.which==j.keyCode.TAB){g.preventDefault()}return}var i=j.getActionFromKeyEvent(g);if(i){g.preventDefault();g.stopPropagation();j.$scope.$broadcast("md-calendar-parent-action",i)}})};a.prototype.hideVerticalScrollbar=function(m){var o=this;var n=m.$element[0];var p=n.querySelector(".md-calendar-scroll-mask");if(o.width>0){g()}else{o.$$rAF(function(){var i=m.calendarScroller;o.scrollbarWidth=i.offsetWidth-i.clientWidth;o.width=n.querySelector("table").offsetWidth;g()})}function g(){var k=o.width||h;var j=o.scrollbarWidth;var i=m.calendarScroller;p.style.width=k+"px";i.style.width=(k+j)+"px";i.style.paddingRight=j+"px"}};a.prototype.getDateId=function(j,g){if(!g){throw new Error("A namespace for the date id has to be specified.")}return["md",this.id,g,j.getFullYear(),j.getMonth(),j.getDate()].join("-")};a.prototype.updateVirtualRepeat=function(){var g=this.$scope;var j=g.$on("$md-resize-enable",function(){if(!g.$$phase){g.$apply()}j()})}})();(function(){a["$inject"]=["$element","$scope","$animate","$q","$$mdDateUtil","$mdDateLocale"];e.module("material.components.datepicker").directive("mdCalendarMonth",h);var c=265;var b=45;function h(){return{template:'<table aria-hidden="true" class="md-calendar-day-header"><thead></thead></table><div class="md-calendar-scroll-mask"><md-virtual-repeat-container class="md-calendar-scroll-container" md-offset-size="'+(b-c)+'"><table role="grid" tabindex="0" class="md-calendar" aria-readonly="true"><tbody md-calendar-month-body role="rowgroup" md-virtual-repeat="i in monthCtrl.items" md-month-offset="$index" class="md-calendar-month" md-start-index="monthCtrl.getSelectedMonthIndex()" md-item-size="'+c+'"><tr aria-hidden="true" md-force-height="\''+c+"px'\"></tr></tbody></table></md-virtual-repeat-container></div>",require:["^^mdCalendar","mdCalendarMonth"],controller:a,controllerAs:"monthCtrl",bindToController:true,link:function(o,q,r,n){var g=n[0];var p=n[1];p.initialize(g)}}}function a(r,o,t,p,g,s){this.$element=r;this.$scope=o;this.$animate=t;this.$q=p;this.dateUtil=g;this.dateLocale=s;this.calendarScroller=r[0].querySelector(".md-virtual-repeat-scroller");this.isInitialized=false;this.isMonthTransitionInProgress=false;var q=this;this.cellClickHandler=function(){var i=g.getTimestampFromNode(this);q.$scope.$apply(function(){q.calendarCtrl.setNgModelValue(i)})};this.headerClickHandler=function(){q.calendarCtrl.setCurrentView("year",g.getTimestampFromNode(this))}}a.prototype.initialize=function(g){this.items={length:this.dateUtil.getMonthDistance(g.firstRenderableDate,g.lastRenderableDate)+2};this.calendarCtrl=g;this.attachScopeListeners();g.updateVirtualRepeat();g.ngModelCtrl&&g.ngModelCtrl.$render()};a.prototype.getSelectedMonthIndex=function(){var g=this.calendarCtrl;return this.dateUtil.getMonthDistance(g.firstRenderableDate,g.displayDate||g.selectedDate||g.today)};a.prototype.changeSelectedDate=function(l){var m=this;var g=m.calendarCtrl;var n=g.selectedDate;g.selectedDate=l;this.changeDisplayDate(l).then(function(){var j=g.SELECTED_DATE_CLASS;var i="month";if(n){var p=document.getElementById(g.getDateId(n,i));if(p){p.classList.remove(j);p.setAttribute("aria-selected","false")}}if(l){var k=document.getElementById(g.getDateId(l,i));if(k){k.classList.add(j);k.setAttribute("aria-selected","true")}}})};a.prototype.changeDisplayDate=function(k){if(!this.isInitialized){this.buildWeekHeader();this.calendarCtrl.hideVerticalScrollbar(this);this.isInitialized=true;return this.$q.when()}if(!this.dateUtil.isValidDate(k)||this.isMonthTransitionInProgress){return this.$q.when()}this.isMonthTransitionInProgress=true;var g=this.animateDateChange(k);this.calendarCtrl.displayDate=k;var l=this;g.then(function(){l.isMonthTransitionInProgress=false});return g};a.prototype.animateDateChange=function(j){if(this.dateUtil.isValidDate(j)){var g=this.dateUtil.getMonthDistance(this.calendarCtrl.firstRenderableDate,j);this.calendarScroller.scrollTop=g*c}return this.$q.when()};a.prototype.buildWeekHeader=function(){var p=this.dateLocale.firstDayOfWeek;var i=this.dateLocale.shortDays;var g=document.createElement("tr");for(var o=0;o<7;o++){var n=document.createElement("th");n.textContent=i[(o+p)%7];g.appendChild(n)}this.$element.find("thead").append(g)};a.prototype.attachScopeListeners=function(){var g=this;g.$scope.$on("md-calendar-parent-changed",function(l,k){g.changeSelectedDate(k)});g.$scope.$on("md-calendar-parent-action",e.bind(this,this.handleKeyEvent))};a.prototype.handleKeyEvent=function(o,n){var g=this.calendarCtrl;var q=g.displayDate;if(n==="select"){g.setNgModelValue(q)}else{var p=null;var r=this.dateUtil;switch(n){case"move-right":p=r.incrementDays(q,1);break;case"move-left":p=r.incrementDays(q,-1);break;case"move-page-down":p=r.incrementMonths(q,1);break;case"move-page-up":p=r.incrementMonths(q,-1);break;case"move-row-down":p=r.incrementDays(q,7);break;case"move-row-up":p=r.incrementDays(q,-7);break;case"start":p=r.getFirstDateOfMonth(q);break;case"end":p=r.getLastDateOfMonth(q);break}if(p){p=this.dateUtil.clampDate(p,g.minDate,g.maxDate);this.changeDisplayDate(p).then(function(){g.focus(p)})}}}})();(function(){a["$inject"]=["$compile","$$mdSvgRegistry"];b["$inject"]=["$element","$$mdDateUtil","$mdDateLocale"];e.module("material.components.datepicker").directive("mdCalendarMonthBody",a);function a(i,c){var j=i('<md-icon md-svg-src="'+c.mdTabsArrow+'"></md-icon>')({})[0];return{require:["^^mdCalendar","^^mdCalendarMonth","mdCalendarMonthBody"],scope:{offset:"=mdMonthOffset"},controller:b,controllerAs:"mdMonthBodyCtrl",bindToController:true,link:function(g,p,r,t){var s=t[0];var h=t[1];var q=t[2];q.calendarCtrl=s;q.monthCtrl=h;q.arrowIcon=j.cloneNode(true);g.$watch(function(){return q.offset},function(k){if(e.isNumber(k)){q.generateContent()}})}}}function b(i,c,j){this.$element=i;this.dateUtil=c;this.dateLocale=j;this.monthCtrl=null;this.calendarCtrl=null;this.offset=null;this.focusAfterAppend=null}b.prototype.generateContent=function(){var c=this.dateUtil.incrementMonths(this.calendarCtrl.firstRenderableDate,this.offset);this.$element.empty().append(this.buildCalendarForMonth(c));if(this.focusAfterAppend){this.focusAfterAppend.classList.add(this.calendarCtrl.FOCUSED_DATE_CLASS);this.focusAfterAppend.focus();this.focusAfterAppend=null}};b.prototype.buildDateCell=function(l){var n=this.monthCtrl;var c=this.calendarCtrl;var p=document.createElement("td");p.tabIndex=-1;p.classList.add("md-calendar-date");p.setAttribute("role","gridcell");if(l){p.setAttribute("tabindex","-1");p.setAttribute("aria-label",this.dateLocale.longDateFormatter(l));p.id=c.getDateId(l,"month");p.setAttribute("data-timestamp",l.getTime());if(this.dateUtil.isSameDay(l,c.today)){p.classList.add(c.TODAY_CLASS)}if(this.dateUtil.isValidDate(c.selectedDate)&&this.dateUtil.isSameDay(l,c.selectedDate)){p.classList.add(c.SELECTED_DATE_CLASS);p.setAttribute("aria-selected","true")}var o=this.dateLocale.dates[l.getDate()];if(this.isDateEnabled(l)){var m=document.createElement("span");m.classList.add("md-calendar-date-selection-indicator");m.textContent=o;p.appendChild(m);p.addEventListener("click",n.cellClickHandler);if(c.displayDate&&this.dateUtil.isSameDay(l,c.displayDate)){this.focusAfterAppend=p}}else{p.classList.add("md-calendar-date-disabled");p.textContent=o}}return p};b.prototype.isDateEnabled=function(c){return this.dateUtil.isDateWithinRange(c,this.calendarCtrl.minDate,this.calendarCtrl.maxDate)&&(!e.isFunction(this.calendarCtrl.dateFilter)||this.calendarCtrl.dateFilter(c))};b.prototype.buildDateRow=function(h){var c=document.createElement("tr");c.setAttribute("role","row");c.setAttribute("aria-label",this.dateLocale.weekNumberFormatter(h));return c};b.prototype.buildCalendarForMonth=function(B){var c=this.dateUtil.isValidDate(B)?B:new Date();var D=this.dateUtil.getFirstDateOfMonth(c);var R=this.getLocaleDay_(D);var L=this.dateUtil.getNumberOfDaysInMonth(c);var i=document.createDocumentFragment();var J=1;var M=this.buildDateRow(J);i.appendChild(M);var N=this.offset===this.monthCtrl.items.length-1;var O=0;var Q=document.createElement("td");var E=document.createElement("span");E.textContent=this.dateLocale.monthHeaderFormatter(c);Q.appendChild(E);Q.classList.add("md-calendar-month-label");if(this.calendarCtrl.maxDate&&D>this.calendarCtrl.maxDate){Q.classList.add("md-calendar-month-label-disabled")}else{Q.addEventListener("click",this.monthCtrl.headerClickHandler);Q.setAttribute("data-timestamp",D.getTime());Q.setAttribute("aria-label",this.dateLocale.monthFormatter(c));Q.appendChild(this.arrowIcon.cloneNode(true))}if(R<=2){Q.setAttribute("colspan","7");var H=this.buildDateRow();H.appendChild(Q);i.insertBefore(H,M);if(N){return i}}else{O=3;Q.setAttribute("colspan","3");M.appendChild(Q)}for(var C=O;C<R;C++){M.appendChild(this.buildDateCell())}var G=R;var K=D;for(var j=1;j<=L;j++){if(G===7){if(N){return i}G=0;J++;M=this.buildDateRow(J);i.appendChild(M)}K.setDate(j);var P=this.buildDateCell(K);M.appendChild(P);G++}while(M.childNodes.length<7){M.appendChild(this.buildDateCell())}while(i.childNodes.length<6){var I=this.buildDateRow();for(var F=0;F<7;F++){I.appendChild(this.buildDateCell())}i.appendChild(I)}return i};b.prototype.getLocaleDay_=function(c){return(c.getDay()+(7-this.dateLocale.firstDayOfWeek))%7}})();(function(){a["$inject"]=["$element","$scope","$animate","$q","$$mdDateUtil"];e.module("material.components.datepicker").directive("mdCalendarYear",c);var b=88;function c(){return{template:'<div class="md-calendar-scroll-mask"><md-virtual-repeat-container class="md-calendar-scroll-container"><table role="grid" tabindex="0" class="md-calendar" aria-readonly="true"><tbody md-calendar-year-body role="rowgroup" md-virtual-repeat="i in yearCtrl.items" md-year-offset="$index" class="md-calendar-year" md-start-index="yearCtrl.getFocusedYearIndex()" md-item-size="'+b+'"><tr aria-hidden="true" md-force-height="\''+b+"px'\"></tr></tbody></table></md-virtual-repeat-container></div>",require:["^^mdCalendar","mdCalendarYear"],controller:a,controllerAs:"yearCtrl",bindToController:true,link:function(p,q,r,n){var m=n[0];var o=n[1];o.initialize(m)}}}function a(r,o,m,p,n){this.$element=r;this.$scope=o;this.$animate=m;this.$q=p;this.dateUtil=n;this.calendarScroller=r[0].querySelector(".md-virtual-repeat-scroller");this.isInitialized=false;this.isMonthTransitionInProgress=false;var q=this;this.cellClickHandler=function(){q.calendarCtrl.setCurrentView("month",n.getTimestampFromNode(this))}}a.prototype.initialize=function(h){this.items={length:this.dateUtil.getYearDistance(h.firstRenderableDate,h.lastRenderableDate)+1};this.calendarCtrl=h;this.attachScopeListeners();h.updateVirtualRepeat();h.ngModelCtrl&&h.ngModelCtrl.$render()};a.prototype.getFocusedYearIndex=function(){var h=this.calendarCtrl;return this.dateUtil.getYearDistance(h.firstRenderableDate,h.displayDate||h.selectedDate||h.today)};a.prototype.changeDate=function(k){if(!this.isInitialized){this.calendarCtrl.hideVerticalScrollbar(this);this.isInitialized=true;return this.$q.when()}else{if(this.dateUtil.isValidDate(k)&&!this.isMonthTransitionInProgress){var l=this;var j=this.animateDateChange(k);l.isMonthTransitionInProgress=true;l.calendarCtrl.displayDate=k;return j.then(function(){l.isMonthTransitionInProgress=false})}}};a.prototype.animateDateChange=function(j){if(this.dateUtil.isValidDate(j)){var i=this.dateUtil.getYearDistance(this.calendarCtrl.firstRenderableDate,j);this.calendarScroller.scrollTop=i*b}return this.$q.when()};a.prototype.handleKeyEvent=function(p,o){var v=this.calendarCtrl;var s=v.displayDate;if(o==="select"){this.changeDate(s).then(function(){v.setCurrentView("month",s);v.focus(s)})}else{var r=null;var t=this.dateUtil;switch(o){case"move-right":r=t.incrementMonths(s,1);break;case"move-left":r=t.incrementMonths(s,-1);break;case"move-row-down":r=t.incrementMonths(s,6);break;case"move-row-up":r=t.incrementMonths(s,-6);break}if(r){var q=v.minDate?t.getFirstDateOfMonth(v.minDate):null;var u=v.maxDate?t.getFirstDateOfMonth(v.maxDate):null;r=t.getFirstDateOfMonth(this.dateUtil.clampDate(r,q,u));this.changeDate(r).then(function(){v.focus(r)})}}};a.prototype.attachScopeListeners=function(){var h=this;h.$scope.$on("md-calendar-parent-changed",function(j,g){h.changeDate(g)});h.$scope.$on("md-calendar-parent-action",e.bind(h,h.handleKeyEvent))}})();(function(){b["$inject"]=["$element","$$mdDateUtil","$mdDateLocale"];e.module("material.components.datepicker").directive("mdCalendarYearBody",a);function a(){return{require:["^^mdCalendar","^^mdCalendarYear","mdCalendarYearBody"],scope:{offset:"=mdYearOffset"},controller:b,controllerAs:"mdYearBodyCtrl",bindToController:true,link:function(p,q,r,m){var c=m[0];var n=m[1];var o=m[2];o.calendarCtrl=c;o.yearCtrl=n;p.$watch(function(){return o.offset},function(g){if(e.isNumber(g)){o.generateContent()}})}}}function b(i,c,j){this.$element=i;this.dateUtil=c;this.dateLocale=j;this.calendarCtrl=null;this.yearCtrl=null;this.offset=null;this.focusAfterAppend=null}b.prototype.generateContent=function(){var c=this.dateUtil.incrementYears(this.calendarCtrl.firstRenderableDate,this.offset);this.$element.empty().append(this.buildCalendarForYear(c));if(this.focusAfterAppend){this.focusAfterAppend.classList.add(this.calendarCtrl.FOCUSED_DATE_CLASS);this.focusAfterAppend.focus();this.focusAfterAppend=null}};b.prototype.buildMonthCell=function(r,o){var c=this.calendarCtrl;var p=this.yearCtrl;var t=this.buildBlankCell();var n=new Date(r,o,1);t.setAttribute("aria-label",this.dateLocale.monthFormatter(n));t.id=c.getDateId(n,"year");t.setAttribute("data-timestamp",n.getTime());if(this.dateUtil.isSameMonthAndYear(n,c.today)){t.classList.add(c.TODAY_CLASS)}if(this.dateUtil.isValidDate(c.selectedDate)&&this.dateUtil.isSameMonthAndYear(n,c.selectedDate)){t.classList.add(c.SELECTED_DATE_CLASS);t.setAttribute("aria-selected","true")}var s=this.dateLocale.shortMonths[o];if(this.dateUtil.isMonthWithinRange(n,c.minDate,c.maxDate)){var q=document.createElement("span");q.classList.add("md-calendar-date-selection-indicator");q.textContent=s;t.appendChild(q);t.addEventListener("click",p.cellClickHandler);if(c.displayDate&&this.dateUtil.isSameMonthAndYear(n,c.displayDate)){this.focusAfterAppend=t}}else{t.classList.add("md-calendar-date-disabled");t.textContent=s}return t};b.prototype.buildBlankCell=function(){var c=document.createElement("td");c.tabIndex=-1;c.classList.add("md-calendar-date");c.setAttribute("role","gridcell");c.setAttribute("tabindex","-1");return c};b.prototype.buildCalendarForYear=function(q){var o=q.getFullYear();var r=document.createDocumentFragment();var t,p;var c=document.createElement("tr");var i=document.createElement("td");i.className="md-calendar-month-label";i.textContent=o;c.appendChild(i);for(p=0;p<6;p++){c.appendChild(this.buildMonthCell(o,p))}r.appendChild(c);var s=document.createElement("tr");s.appendChild(this.buildBlankCell());for(p=6;p<12;p++){s.appendChild(this.buildMonthCell(o,p))}r.appendChild(s);return r}})();(function(){e.module("material.components.datepicker").config(["$provide",function(a){function b(){this.months=null;this.shortMonths=null;this.days=null;this.shortDays=null;this.dates=null;this.firstDayOfWeek=0;this.formatDate=null;this.parseDate=null;this.monthHeaderFormatter=null;this.weekNumberFormatter=null;this.longDateFormatter=null;this.msgCalendar="";this.msgOpenCalendar=""}b.prototype.$get=function(B,i){function F(h,j){if(!h){return""}var k=h.toLocaleTimeString();var g=h;if(h.getHours()===0&&(k.indexOf("11:")!==-1||k.indexOf("23:")!==-1)){g=new Date(h.getFullYear(),h.getMonth(),h.getDate(),1,0,0)}return i("date")(g,"M/d/yyyy",j)}function A(g){return new Date(g)}function G(g){g=g.trim();var h=/^(([a-zA-Z]{3,}|[0-9]{1,4})([ \.,]+|[\/\-])){2}([a-zA-Z]{3,}|[0-9]{1,4})$/;return h.test(g)}function H(g){return y.shortMonths[g.getMonth()]+" "+g.getFullYear()}function J(g){return y.months[g.getMonth()]+" "+g.getFullYear()}function D(g){return"Week "+g}function C(g){return[y.days[g.getDay()],y.months[g.getMonth()],y.dates[g.getDate()],g.getFullYear()].join(" ")}var K=B.DATETIME_FORMATS.SHORTDAY.map(function(g){return g.substring(0,1)});var I=Array(32);for(var z=1;z<=31;z++){I[z]=z}var x="Calendar";var L="Open calendar";var E=new Date(1880,0,1);var c=new Date(E.getFullYear()+250,0,1);var y={months:this.months||B.DATETIME_FORMATS.MONTH,shortMonths:this.shortMonths||B.DATETIME_FORMATS.SHORTMONTH,days:this.days||B.DATETIME_FORMATS.DAY,shortDays:this.shortDays||K,dates:this.dates||I,firstDayOfWeek:this.firstDayOfWeek||0,formatDate:this.formatDate||F,parseDate:this.parseDate||A,isDateComplete:this.isDateComplete||G,monthHeaderFormatter:this.monthHeaderFormatter||H,monthFormatter:this.monthFormatter||J,weekNumberFormatter:this.weekNumberFormatter||D,longDateFormatter:this.longDateFormatter||C,msgCalendar:this.msgCalendar||x,msgOpenCalendar:this.msgOpenCalendar||L,firstRenderableDate:this.firstRenderableDate||E,lastRenderableDate:this.lastRenderableDate||c};return y};b.prototype.$get["$inject"]=["$locale","$filter"];a.provider("$mdDateLocale",new b())}])})();(function(){e.module("material.components.datepicker").factory("$$mdDateUtil",function(){return{getFirstDateOfMonth:K,getNumberOfDaysInMonth:B,getDateInNextMonth:J,getDateInPreviousMonth:R,isInNextMonth:I,isInPreviousMonth:Q,getDateMidpoint:a,isSameMonthAndYear:C,getWeekOfMonth:c,incrementDays:H,incrementMonths:b,getLastDateOfMonth:S,isSameDay:L,getMonthDistance:P,isValidDate:N,setDateTimeToMidnight:T,createDateAtMidnight:M,isDateWithinRange:O,incrementYears:E,getYearDistance:G,clampDate:F,getTimestampFromNode:A,isMonthWithinRange:D};function K(g){return new Date(g.getFullYear(),g.getMonth(),1)}function B(g){return new Date(g.getFullYear(),g.getMonth()+1,0).getDate()}function J(g){return new Date(g.getFullYear(),g.getMonth()+1,1)}function R(g){return new Date(g.getFullYear(),g.getMonth()-1,1)}function C(h,g){return h.getFullYear()===g.getFullYear()&&h.getMonth()===g.getMonth()}function L(h,g){return h.getDate()==g.getDate()&&C(h,g)}function I(g,h){var i=J(g);return C(i,h)}function Q(g,h){var i=R(g);return C(h,i)}function a(h,g){return M((h.getTime()+g.getTime())/2)}function c(g){var h=K(g);return Math.floor((h.getDay()+g.getDate()-1)/7)}function H(g,h){return new Date(g.getFullYear(),g.getMonth(),g.getDate()+h)}function b(i,g){var h=new Date(i.getFullYear(),i.getMonth()+g,1);var j=B(h);if(j<i.getDate()){h.setDate(j)}else{h.setDate(i.getDate())}return h}function P(h,g){return(12*(g.getFullYear()-h.getFullYear()))+(g.getMonth()-h.getMonth())}function S(g){return new Date(g.getFullYear(),g.getMonth(),B(g))}function N(g){return g&&g.getTime&&!isNaN(g.getTime())}function T(g){if(N(g)){g.setHours(0,0,0,0)}}function M(g){var h;if(e.isUndefined(g)){h=new Date()}else{h=new Date(g)}T(h);return h}function O(j,i,h){var k=M(j);var l=N(i)?M(i):null;var g=N(h)?M(h):null;return(!l||l<=k)&&(!g||g>=k)}function E(h,g){return b(h,g*12)}function G(h,g){return g.getFullYear()-h.getFullYear()}function F(g,j,i){var h=g;if(j&&g<j){h=new Date(j.getTime())}if(i&&g>i){h=new Date(i.getTime())}return h}function A(g){if(g&&g.hasAttribute("data-timestamp")){return Number(g.getAttribute("data-timestamp"))}}function D(g,j,h){var i=g.getMonth();var k=g.getFullYear();return(!j||j.getFullYear()<k||j.getMonth()<=i)&&(!h||h.getFullYear()>k||h.getMonth()>=i)}})})();(function(){w["$inject"]=["$scope","$element","$attrs","$window","$mdConstant","$mdTheming","$mdUtil","$mdDateLocale","$$mdDateUtil","$$rAF","$filter"];c["$inject"]=["$$mdSvgRegistry","$mdUtil","$mdAria","inputDirective"];e.module("material.components.datepicker").directive("mdDatepicker",c);function c(h,g,j,i){return{template:function(n,m){var k=m.mdHideIcons;var z=m.ariaLabel||m.mdPlaceholder;var o=(k==="all"||k==="calendar")?"":'<md-button class="md-datepicker-button md-icon-button" type="button" tabindex="-1" aria-hidden="true" ng-click="ctrl.openCalendarPane($event)"><md-icon class="md-datepicker-calendar-icon" aria-label="md-calendar" md-svg-src="'+h.mdCalendar+'"></md-icon></md-button>';var l="";if(k!=="all"&&k!=="triangle"){l='<md-button type="button" md-no-ink class="md-datepicker-triangle-button md-icon-button" ng-click="ctrl.openCalendarPane($event)" aria-label="{{::ctrl.locale.msgOpenCalendar}}"><div class="md-datepicker-expand-triangle"></div></md-button>';n.addClass(q)}return o+'<div class="md-datepicker-input-container" ng-class="{\'md-datepicker-focused\': ctrl.isFocused}"><input '+(z?'aria-label="'+z+'" ':"")+'class="md-datepicker-input" aria-haspopup="true" aria-expanded="{{ctrl.isCalendarOpen}}" ng-focus="ctrl.setFocused(true)" ng-blur="ctrl.setFocused(false)"> '+l+'</div><div class="md-datepicker-calendar-pane md-whiteframe-z1" id="{{::ctrl.calendarPaneId}}"><div class="md-datepicker-input-mask"><div class="md-datepicker-input-mask-opaque"></div></div><div class="md-datepicker-calendar"><md-calendar role="dialog" aria-label="{{::ctrl.locale.msgCalendar}}" md-current-view="{{::ctrl.currentView}}"md-min-date="ctrl.minDate"md-max-date="ctrl.maxDate"md-date-filter="ctrl.dateFilter"ng-model="ctrl.date" ng-if="ctrl.isCalendarOpen"></md-calendar></div></div>'},require:["ngModel","mdDatepicker","?^mdInputContainer","?^form"],scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",placeholder:"@mdPlaceholder",currentView:"@mdCurrentView",dateFilter:"=mdDateFilter",isOpen:"=?mdIsOpen",debounceInterval:"=mdDebounceInterval",dateLocale:"=mdDateLocale"},controller:w,controllerAs:"ctrl",bindToController:true,link:function(k,o,n,H){var J=H[0];var G=H[1];var I=H[2];var F=H[3];var E=g.parseAttributeBoolean(n.mdNoAsterisk);G.configureNgModel(J,I,i);if(I){var m=o[0].querySelector(".md-errors-spacer");if(m){o.after(e.element("<div>").append(m))}I.setHasPlaceholder(n.mdPlaceholder);I.input=o;I.element.addClass(t).toggleClass(u,n.mdHideIcons!=="calendar"&&n.mdHideIcons!=="all");if(!I.label){j.expect(o,"aria-label",n.mdPlaceholder)}else{if(!E){n.$observe("required",function(y){I.label.toggleClass("md-required",!!y)})}}k.$watch(I.isErrorGetter||function(){return J.$invalid&&(J.$touched||(F&&F.$submitted))},I.setInvalid)}else{if(F){var l=k.$watch(function(){return F.$submitted},function(y){if(y){G.updateErrorState();l()}})}}}}}var s=3;var v="md-datepicker-invalid";var a="md-datepicker-open";var t="_md-datepicker-floating-label";var u="_md-datepicker-has-calendar-icon";var q="_md-datepicker-has-triangle-icon";var x=500;var r=368;var b=360;var p=/ipad|iphone|ipod|android/i;function w(l,k,m,g,i,C,h,D,B,o,n){this.$window=g;this.dateUtil=B;this.$mdConstant=i;this.$mdUtil=h;this.$$rAF=o;this.$mdDateLocale=D;this.documentElement=e.element(document.documentElement);this.ngModelCtrl=null;this.inputElement=k[0].querySelector("input");this.ngInputElement=e.element(this.inputElement);this.inputContainer=k[0].querySelector(".md-datepicker-input-container");this.calendarPane=k[0].querySelector(".md-datepicker-calendar-pane");this.calendarButton=k[0].querySelector(".md-datepicker-button");this.inputMask=e.element(k[0].querySelector(".md-datepicker-input-mask-opaque"));this.$element=k;this.$attrs=m;this.$scope=l;this.date=null;this.isFocused=false;this.isDisabled;this.setDisabled(k[0].disabled||e.isString(m.disabled));this.isCalendarOpen=false;this.openOnFocus=m.hasOwnProperty("mdOpenOnFocus");this.mdInputContainer=null;this.calendarPaneOpenedFrom=null;this.calendarPaneId="md-date-pane-"+h.nextUid();this.bodyClickHandler=e.bind(this,this.handleBodyClick);this.windowEventName=p.test(navigator.userAgent||navigator.vendor||d.opera)?"orientationchange":"resize";this.windowEventHandler=h.debounce(e.bind(this,this.closeCalendarPane),100);this.windowBlurHandler=e.bind(this,this.handleWindowBlur);this.ngDateFilter=n("date");this.leftMargin=20;this.topMargin=null;if(m.tabindex){this.ngInputElement.attr("tabindex",m.tabindex);m.$set("tabindex",null)}else{m.$set("tabindex","-1")}m.$set("aria-owns",this.calendarPaneId);C(k);C(e.element(this.calendarPane));var j=this;l.$on("$destroy",function(){j.detachCalendarPane()});if(m.mdIsOpen){l.$watch("ctrl.isOpen",function(y){if(y){j.openCalendarPane({target:j.inputElement})}else{j.closeCalendarPane()}})}if(e.version.major===1&&e.version.minor<=4){this.$onInit()}}w.prototype.$onInit=function(){this.locale=this.dateLocale?e.extend({},this.$mdDateLocale,this.dateLocale):this.$mdDateLocale;this.installPropertyInterceptors();this.attachChangeListeners();this.attachInteractionListeners()};w.prototype.configureNgModel=function(i,k,h){this.ngModelCtrl=i;this.mdInputContainer=k;this.$attrs.$set("type","date");h[0].link.pre(this.$scope,{on:e.noop,val:e.noop,0:{}},this.$attrs,[i]);var j=this;j.ngModelCtrl.$formatters.push(function(l){var m=e.isDefined(l)?Date.parse(l):null;if(!isNaN(m)&&e.isNumber(m)){l=new Date(m)}if(l&&!(l instanceof Date)){throw Error("The ng-model for md-datepicker must be a Date instance or a value that can be parsed into a date. Currently the model is of type: "+typeof l)}j.onExternalChange(l);return l});i.$viewChangeListeners.unshift(e.bind(this,this.updateErrorState));var g=j.$mdUtil.getModelOption(i,"updateOn");if(g){this.ngInputElement.on(g,e.bind(this.$element,this.$element.triggerHandler,g))}};w.prototype.attachChangeListeners=function(){var h=this;h.$scope.$on("md-calendar-change",function(i,j){h.setModelValue(j);h.onExternalChange(j);h.closeCalendarPane()});h.ngInputElement.on("input",e.bind(h,h.resizeInputElement));var g=e.isDefined(this.debounceInterval)?this.debounceInterval:x;h.ngInputElement.on("input",h.$mdUtil.debounce(h.handleInputEvent,g,h))};w.prototype.attachInteractionListeners=function(){var h=this;var i=this.$scope;var g=this.$mdConstant.KEY_CODE;h.ngInputElement.on("keydown",function(j){if(j.altKey&&j.keyCode==g.DOWN_ARROW){h.openCalendarPane(j);i.$digest()}});if(h.openOnFocus){h.ngInputElement.on("focus",e.bind(h,h.openCalendarPane));e.element(h.$window).on("blur",h.windowBlurHandler);i.$on("$destroy",function(){e.element(h.$window).off("blur",h.windowBlurHandler)})}i.$on("md-calendar-close",function(){h.closeCalendarPane()})};w.prototype.installPropertyInterceptors=function(){var h=this;if(this.$attrs.ngDisabled){var g=this.$scope.$parent;if(g){g.$watch(this.$attrs.ngDisabled,function(i){h.setDisabled(i)})}}Object.defineProperty(this,"placeholder",{get:function(){return h.inputElement.placeholder},set:function(i){h.inputElement.placeholder=i||""}})};w.prototype.setDisabled=function(g){this.isDisabled=g;this.inputElement.disabled=g;if(this.calendarButton){this.calendarButton.disabled=g}};w.prototype.updateErrorState=function(h){var j=h||this.date;this.clearErrorState();if(this.dateUtil.isValidDate(j)){j=this.dateUtil.createDateAtMidnight(j);if(this.dateUtil.isValidDate(this.minDate)){var i=this.dateUtil.createDateAtMidnight(this.minDate);this.ngModelCtrl.$setValidity("mindate",j>=i)}if(this.dateUtil.isValidDate(this.maxDate)){var g=this.dateUtil.createDateAtMidnight(this.maxDate);this.ngModelCtrl.$setValidity("maxdate",j<=g)}if(e.isFunction(this.dateFilter)){this.ngModelCtrl.$setValidity("filtered",this.dateFilter(j))}}else{this.ngModelCtrl.$setValidity("valid",j==null)}e.element(this.inputContainer).toggleClass(v,!this.ngModelCtrl.$valid)};w.prototype.clearErrorState=function(){this.inputContainer.classList.remove(v);["mindate","maxdate","filtered","valid"].forEach(function(g){this.ngModelCtrl.$setValidity(g,true)},this)};w.prototype.resizeInputElement=function(){this.inputElement.size=this.inputElement.value.length+s};w.prototype.handleInputEvent=function(){var g=this.inputElement.value;var h=g?this.locale.parseDate(g):null;this.dateUtil.setDateTimeToMidnight(h);var i=g==""||(this.dateUtil.isValidDate(h)&&this.locale.isDateComplete(g)&&this.isDateEnabled(h));if(i){this.setModelValue(h);this.date=h}this.updateErrorState(h)};w.prototype.isDateEnabled=function(g){return this.dateUtil.isDateWithinRange(g,this.minDate,this.maxDate)&&(!e.isFunction(this.dateFilter)||this.dateFilter(g))};w.prototype.attachCalendarPane=function(){var h=this.calendarPane;var n=document.body;h.style.transform="";this.$element.addClass(a);this.mdInputContainer&&this.mdInputContainer.element.addClass(a);e.element(n).addClass("md-datepicker-is-showing");var k=this.inputContainer.getBoundingClientRect();var j=n.getBoundingClientRect();if(!this.topMargin||this.topMargin<0){this.topMargin=(this.inputMask.parent().prop("clientHeight")-this.ngInputElement.prop("clientHeight"))/2}var o=k.top-j.top-this.topMargin;var i=k.left-j.left-this.leftMargin;var g=(j.top<0&&document.body.scrollTop==0)?-j.top:document.body.scrollTop;var l=(j.left<0&&document.body.scrollLeft==0)?-j.left:document.body.scrollLeft;var m=g+this.$window.innerHeight;var A=l+this.$window.innerWidth;this.inputMask.css({position:"absolute",left:this.leftMargin+"px",top:this.topMargin+"px",width:(k.width-1)+"px",height:(k.height-2)+"px"});if(i+b>A){if(A-b>0){i=A-b}else{i=l;var B=this.$window.innerWidth/b;h.style.transform="scale("+B+")"}h.classList.add("md-datepicker-pos-adjusted")}if(o+r>m&&m-r>g){o=m-r;h.classList.add("md-datepicker-pos-adjusted")}h.style.left=i+"px";h.style.top=o+"px";document.body.appendChild(h);this.$$rAF(function(){h.classList.add("md-pane-open")})};w.prototype.detachCalendarPane=function(){this.$element.removeClass(a);this.mdInputContainer&&this.mdInputContainer.element.removeClass(a);e.element(document.body).removeClass("md-datepicker-is-showing");this.calendarPane.classList.remove("md-pane-open");this.calendarPane.classList.remove("md-datepicker-pos-adjusted");if(this.isCalendarOpen){this.$mdUtil.enableScrolling()}if(this.calendarPane.parentNode){this.calendarPane.parentNode.removeChild(this.calendarPane)}};w.prototype.openCalendarPane=function(g){if(!this.isCalendarOpen&&!this.isDisabled&&!this.inputFocusedOnWindowBlur){this.isCalendarOpen=this.isOpen=true;this.calendarPaneOpenedFrom=g.target;this.$mdUtil.disableScrollAround(this.calendarPane);this.attachCalendarPane();this.focusCalendar();this.evalAttr("ngFocus");var h=this;this.$mdUtil.nextTick(function(){h.documentElement.on("click touchstart",h.bodyClickHandler)},false);d.addEventListener(this.windowEventName,this.windowEventHandler)}};w.prototype.closeCalendarPane=function(){if(this.isCalendarOpen){var h=this;h.detachCalendarPane();h.ngModelCtrl.$setTouched();h.evalAttr("ngBlur");h.documentElement.off("click touchstart",h.bodyClickHandler);d.removeEventListener(h.windowEventName,h.windowEventHandler);h.calendarPaneOpenedFrom.focus();h.calendarPaneOpenedFrom=null;if(h.openOnFocus){h.$mdUtil.nextTick(g)}else{g()}}function g(){h.isCalendarOpen=h.isOpen=false}};w.prototype.getCalendarCtrl=function(){return e.element(this.calendarPane.querySelector("md-calendar")).controller("mdCalendar")};w.prototype.focusCalendar=function(){var g=this;this.$mdUtil.nextTick(function(){g.getCalendarCtrl().focus()},false)};w.prototype.setFocused=function(g){if(!g){this.ngModelCtrl.$setTouched()}if(!this.openOnFocus){this.evalAttr(g?"ngFocus":"ngBlur")}this.isFocused=g};w.prototype.handleBodyClick=function(g){if(this.isCalendarOpen){var h=this.$mdUtil.getClosest(g.target,"md-calendar");if(!h){this.closeCalendarPane()}this.$scope.$digest()}};w.prototype.handleWindowBlur=function(){this.inputFocusedOnWindowBlur=document.activeElement===this.inputElement};w.prototype.evalAttr=function(g){if(this.$attrs[g]){this.$scope.$parent.$eval(this.$attrs[g])}};w.prototype.setModelValue=function(g){var h=this.$mdUtil.getModelOption(this.ngModelCtrl,"timezone");this.ngModelCtrl.$setViewValue(this.ngDateFilter(g,"yyyy-MM-dd",h))};w.prototype.onExternalChange=function(g){var h=this.$mdUtil.getModelOption(this.ngModelCtrl,"timezone");this.date=g;this.inputElement.value=this.locale.formatDate(g,h);this.mdInputContainer&&this.mdInputContainer.setHasValue(!!g);this.resizeInputElement();this.updateErrorState()}})()})(window,window.angular);