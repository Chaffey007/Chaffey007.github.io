/*!
 * AngularJS Material Design
 * https://github.com/angular/material
 * @license MIT
 * v1.1.5
 */
(function(h,i,f){i.module("material.components.menuBar",["material.core","material.components.icon","material.components.menu"]);g["$inject"]=["$scope","$rootScope","$element","$attrs","$mdConstant","$document","$mdUtil","$timeout"];i.module("material.components.menuBar").controller("MenuBarController",g);var d=["handleKeyDown","handleMenuHover","scheduleOpenHoveredMenu","cancelScheduledOpen"];function g(p,n,q,o,j,m,k,l){this.$element=q;this.$attrs=o;this.$mdConstant=j;this.$mdUtil=k;this.$document=m;this.$scope=p;this.$rootScope=n;this.$timeout=l;var r=this;i.forEach(d,function(s){r[s]=i.bind(r,r[s])})}g.prototype.init=function(){var j=this.$element;var n=this.$mdUtil;var m=this.$scope;var l=this;var k=[];j.on("keydown",this.handleKeyDown);this.parentToolbar=n.getClosest(j,"MD-TOOLBAR");k.push(this.$rootScope.$on("$mdMenuOpen",function(p,o){if(l.getMenus().indexOf(o[0])!=-1){j[0].classList.add("md-open");o[0].classList.add("md-open");l.currentlyOpenMenu=o.controller("mdMenu");l.currentlyOpenMenu.registerContainerProxy(l.handleKeyDown);l.enableOpenOnHover()}}));k.push(this.$rootScope.$on("$mdMenuClose",function(s,q,r){var p=l.getMenus();if(p.indexOf(q[0])!=-1){j[0].classList.remove("md-open");q[0].classList.remove("md-open")}if(j[0].contains(q[0])){var o=q[0];while(o&&p.indexOf(o)==-1){o=n.getClosest(o,"MD-MENU",true)}if(o){if(!r.skipFocus){o.querySelector("button:not([disabled])").focus()}l.currentlyOpenMenu=f;l.disableOpenOnHover();l.setKeyboardMode(true)}}}));m.$on("$destroy",function(){l.disableOpenOnHover();while(k.length){k.shift()()}});this.setKeyboardMode(true)};g.prototype.setKeyboardMode=function(j){if(j){this.$element[0].classList.add("md-keyboard-mode")}else{this.$element[0].classList.remove("md-keyboard-mode")}};g.prototype.enableOpenOnHover=function(){if(this.openOnHoverEnabled){return}var j=this;j.openOnHoverEnabled=true;if(j.parentToolbar){j.parentToolbar.classList.add("md-has-open-menu");j.$mdUtil.nextTick(function(){i.element(j.parentToolbar).on("click",j.handleParentClick)},false)}i.element(j.getMenus()).on("mouseenter",j.handleMenuHover)};g.prototype.handleMenuHover=function(j){this.setKeyboardMode(false);if(this.openOnHoverEnabled){this.scheduleOpenHoveredMenu(j)}};g.prototype.disableOpenOnHover=function(){if(!this.openOnHoverEnabled){return}this.openOnHoverEnabled=false;if(this.parentToolbar){this.parentToolbar.classList.remove("md-has-open-menu");i.element(this.parentToolbar).off("click",this.handleParentClick)}i.element(this.getMenus()).off("mouseenter",this.handleMenuHover)};g.prototype.scheduleOpenHoveredMenu=function(l){var j=i.element(l.currentTarget);var k=j.controller("mdMenu");this.setKeyboardMode(false);this.scheduleOpenMenu(k)};g.prototype.scheduleOpenMenu=function(l){var j=this;var k=this.$timeout;if(l!=j.currentlyOpenMenu){k.cancel(j.pendingMenuOpen);j.pendingMenuOpen=k(function(){j.pendingMenuOpen=f;if(j.currentlyOpenMenu){j.currentlyOpenMenu.close(true,{closeAll:true})}l.open()},200,false)}};g.prototype.handleKeyDown=function(p){var k=this.$mdConstant.KEY_CODE;var n=this.currentlyOpenMenu;var m=n&&n.isOpen;this.setKeyboardMode(true);var o,l,j;switch(p.keyCode){case k.DOWN_ARROW:if(n){n.focusMenuContainer()}else{this.openFocusedMenu()}o=true;break;case k.UP_ARROW:n&&n.close();o=true;break;case k.LEFT_ARROW:l=this.focusMenu(-1);if(m){j=i.element(l).controller("mdMenu");this.scheduleOpenMenu(j)}o=true;break;case k.RIGHT_ARROW:l=this.focusMenu(+1);if(m){j=i.element(l).controller("mdMenu");this.scheduleOpenMenu(j)}o=true;break}if(o){p&&p.preventDefault&&p.preventDefault();p&&p.stopImmediatePropagation&&p.stopImmediatePropagation()}};g.prototype.focusMenu=function(k){var j=this.getMenus();var m=this.getFocusedMenuIndex();if(m==-1){m=this.getOpenMenuIndex()}var l=false;if(m==-1){m=0;l=true}else{if(k<0&&m>0||k>0&&m<j.length-k){m+=k;l=true}}if(l){j[m].querySelector("button").focus();return j[m]}};g.prototype.openFocusedMenu=function(){var j=this.getFocusedMenu();j&&i.element(j).controller("mdMenu").open()};g.prototype.getMenus=function(){var j=this.$element;return this.$mdUtil.nodesToArray(j[0].children).filter(function(k){return k.nodeName=="MD-MENU"})};g.prototype.getFocusedMenu=function(){return this.getMenus()[this.getFocusedMenuIndex()]};g.prototype.getFocusedMenuIndex=function(){var l=this.$mdUtil;var j=l.getClosest(this.$document[0].activeElement,"MD-MENU");if(!j){return -1}var k=this.getMenus().indexOf(j);return k};g.prototype.getOpenMenuIndex=function(){var k=this.getMenus();for(var j=0;j<k.length;++j){if(k[j].classList.contains("md-open")){return j}}return -1};g.prototype.handleParentClick=function(k){var j=this.querySelector("md-menu.md-open");if(j&&!j.contains(k.target)){i.element(j).controller("mdMenu").close(true,{closeAll:true})}};e["$inject"]=["$mdUtil","$mdTheming"];i.module("material.components.menuBar").directive("mdMenuBar",e);function e(l,j){return{restrict:"E",require:"mdMenuBar",controller:"MenuBarController",compile:function k(o,n){if(!n.ariaRole){o[0].setAttribute("role","menubar")}i.forEach(o[0].children,function(p){if(p.nodeName=="MD-MENU"){if(!p.hasAttribute("md-position-mode")){p.setAttribute("md-position-mode","left bottom");p.querySelector("button, a, md-button").setAttribute("role","menuitem")}var q=l.nodesToArray(p.querySelectorAll("md-menu-content"));i.forEach(q,function(r){r.classList.add("md-menu-bar-menu");r.classList.add("md-dense");if(!r.hasAttribute("width")){r.setAttribute("width",5)}})}});o.find("md-menu-item").addClass("md-in-menu-bar");return function m(r,q,p,s){q.addClass("_md");j(r,q);s.init()}}}}i.module("material.components.menuBar").directive("mdMenuDivider",a);function a(){return{restrict:"E",compile:function(k,j){if(!j.role){k[0].setAttribute("role","separator")}}}}b["$inject"]=["$scope","$element","$attrs"];i.module("material.components.menuBar").controller("MenuItemController",b);function b(l,k,j){this.$element=k;this.$attrs=j;this.$scope=l}b.prototype.init=function(l){var k=this.$element;var j=this.$attrs;this.ngModel=l;if(j.type=="checkbox"||j.type=="radio"){this.mode=j.type;this.iconEl=k[0].children[0];this.buttonEl=k[0].children[1];if(l){this.initClickListeners()}}};b.prototype.clearNgAria=function(){var j=this.$element[0];var k=["role","tabindex","aria-invalid","aria-checked"];i.forEach(k,function(l){j.removeAttribute(l)})};b.prototype.initClickListeners=function(){var u=this;var l=this.ngModel;var s=this.$scope;var r=this.$attrs;var t=this.$element;var o=this.mode;this.handleClick=i.bind(this,this.handleClick);var q=this.iconEl;var m=i.element(this.buttonEl);var n=this.handleClick;r.$observe("disabled",p);p(r.disabled);l.$render=function k(){u.clearNgAria();if(j()){q.style.display="";m.attr("aria-checked","true")}else{q.style.display="none";m.attr("aria-checked","false")}};s.$$postDigest(l.$render);function j(){if(o=="radio"){var v=r.ngValue?s.$eval(r.ngValue):r.value;return l.$modelValue==v}else{return l.$modelValue}}function p(v){if(v){m.off("click",n)}else{m.on("click",n)}}};b.prototype.handleClick=function(l){var n=this.mode;var m=this.ngModel;var j=this.$attrs;var k;if(n=="checkbox"){k=!m.$modelValue}else{if(n=="radio"){k=j.ngValue?this.$scope.$eval(j.ngValue):j.value}}m.$setViewValue(k);m.$render()};c["$inject"]=["$mdUtil","$mdConstant","$$mdSvgRegistry"];i.module("material.components.menuBar").directive("mdMenuItem",c);function c(l,j,k){return{controller:"MenuItemController",require:["mdMenuItem","?ngModel"],priority:j.BEFORE_NG_ARIA,compile:function(m,u){var o=u.type;var r="md-in-menu-bar";if((o=="checkbox"||o=="radio")&&m.hasClass(r)){var s=m[0].textContent;var n=i.element('<md-button type="button"></md-button>');var t='<md-icon md-svg-src="'+k.mdChecked+'"></md-icon>';n.html(s);n.attr("tabindex","0");m.html("");m.append(i.element(t));m.append(n);m.addClass("md-indent").removeClass(r);q("role",o=="checkbox"?"menuitemcheckbox":"menuitemradio",n);p("ng-disabled")}else{q("role","menuitem",m[0].querySelector("md-button, button, a"))}return function(y,x,w,v){var z=v[0];var A=v[1];z.init(A)};function q(v,x,w){w=w||m;if(w instanceof i.element){w=w[0]}if(!w.hasAttribute(v)){w.setAttribute(v,x)}}function p(w){var v=l.prefixer(w);i.forEach(v,function(x){if(m[0].hasAttribute(x)){var y=m[0].getAttribute(x);n[0].setAttribute(x,y);m[0].removeAttribute(x)}})}}}}})(window,window.angular);