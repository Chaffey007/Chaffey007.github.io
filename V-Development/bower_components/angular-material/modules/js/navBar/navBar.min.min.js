/*!
 * AngularJS Material Design
 * https://github.com/angular/material
 * @license MIT
 * v1.1.5
 */
(function(n,h,k){i["$inject"]=["$element","$scope","$timeout","$mdConstant"];l["$inject"]=["$mdAria","$$rAF"];m["$inject"]=["$element"];j["$inject"]=["$mdAria","$mdTheming"];h.module("material.components.navBar",["material.core"]).controller("MdNavBarController",i).directive("mdNavBar",j).controller("MdNavItemController",m).directive("mdNavItem",l);function j(b,a){return{restrict:"E",transclude:true,controller:i,controllerAs:"ctrl",bindToController:true,scope:{mdSelectedNavItem:"=?",mdNoInkBar:"=?",navBarAriaLabel:"@?"},template:'<div class="md-nav-bar"><nav role="navigation"><ul class="_md-nav-bar-list" ng-transclude role="listbox"tabindex="0"ng-focus="ctrl.onFocus()"ng-keydown="ctrl.onKeydown($event)"aria-label="{{ctrl.navBarAriaLabel}}"></ul></nav><md-nav-ink-bar ng-hide="ctrl.mdNoInkBar"></md-nav-ink-bar></div>',link:function(d,e,f,c){a(e);if(!c.navBarAriaLabel){b.expectAsync(e,"aria-label",h.noop)}}}}function i(f,d,a,b){this._$timeout=a;this._$scope=d;this._$mdConstant=b;this.mdSelectedNavItem;this.navBarAriaLabel;this._navBarEl=f[0];this._inkbar;var e=this;var c=this._$scope.$watch(function(){return e._navBarEl.querySelectorAll("._md-nav-button").length},function(g){if(g>0){e._initTabs();c()}})}i.prototype._initTabs=function(){this._inkbar=h.element(this._navBarEl.querySelector("md-nav-ink-bar"));var a=this;this._$timeout(function(){a._updateTabs(a.mdSelectedNavItem,k)});this._$scope.$watch("ctrl.mdSelectedNavItem",function(b,c){a._$timeout(function(){a._updateTabs(b,c)})})};i.prototype._updateTabs=function(b,e){var f=this;var c=this._getTabs();if(!c){return}var g=-1;var d=-1;var p=this._getTabByName(b);var a=this._getTabByName(e);if(a){a.setSelected(false);g=c.indexOf(a)}if(p){p.setSelected(true);d=c.indexOf(p)}this._$timeout(function(){f._updateInkBarStyles(p,d,g)})};i.prototype._updateInkBarStyles=function(d,e,a){this._inkbar.toggleClass("_md-left",e<a).toggleClass("_md-right",e>a);this._inkbar.css({display:e<0?"none":""});if(d){var b=d.getButtonEl();var c=b.offsetLeft;this._inkbar.css({left:c+"px",width:b.offsetWidth+"px"})}};i.prototype._getTabs=function(){var a=Array.prototype.slice.call(this._navBarEl.querySelectorAll(".md-nav-item")).map(function(b){return h.element(b).controller("mdNavItem")});return a.indexOf(k)?a:null};i.prototype._getTabByName=function(a){return this._findTab(function(b){return b.getName()==a})};i.prototype._getSelectedTab=function(){return this._findTab(function(a){return a.isSelected()})};i.prototype.getFocusedTab=function(){return this._findTab(function(a){return a.hasFocus()})};i.prototype._findTab=function(a){var b=this._getTabs();for(var c=0;c<b.length;c++){if(a(b[c])){return b[c]}}return null};i.prototype.onFocus=function(){var a=this._getSelectedTab();if(a){a.setFocused(true)}};i.prototype._moveFocus=function(b,a){b.setFocused(false);a.setFocused(true)};i.prototype.onKeydown=function(a){var d=this._$mdConstant.KEY_CODE;var b=this._getTabs();var e=this.getFocusedTab();if(!e){return}var c=b.indexOf(e);switch(a.keyCode){case d.UP_ARROW:case d.LEFT_ARROW:if(c>0){this._moveFocus(e,b[c-1])}break;case d.DOWN_ARROW:case d.RIGHT_ARROW:if(c<b.length-1){this._moveFocus(e,b[c+1])}break;case d.SPACE:case d.ENTER:this._$timeout(function(){e.getButtonEl().click()});break}};function l(b,a){return{restrict:"E",require:["mdNavItem","^mdNavBar"],controller:m,bindToController:true,controllerAs:"ctrl",replace:true,transclude:true,template:function(t,v){var c=v.mdNavClick;var u=v.mdNavHref;var s=v.mdNavSref;var e=v.srefOpts;var f;var d;var g;if((c?1:0)+(u?1:0)+(s?1:0)>1){throw Error("Must not specify more than one of the md-nav-click, md-nav-href, or md-nav-sref attributes per nav-item directive.")}if(c){f='ng-click="ctrl.mdNavClick()"'}else{if(u){f='ng-href="{{ctrl.mdNavHref}}"'}else{if(s){f='ui-sref="{{ctrl.mdNavSref}}"'}}}d=e?'ui-sref-opts="{{ctrl.srefOpts}}" ':"";if(f){g='<md-button class="_md-nav-button md-accent" ng-class="ctrl.getNgClassMap()" ng-blur="ctrl.setFocused(false)" tabindex="-1" '+d+f+'><span ng-transclude class="_md-nav-button-text"></span></md-button>'}return'<li class="md-nav-item" role="option" aria-selected="{{ctrl.isSelected()}}">'+(g||"")+"</li>"},scope:{mdNavClick:"&?",mdNavHref:"@?",mdNavSref:"@?",srefOpts:"=?",name:"@"},link:function(d,e,f,c){a(function(){var q=c[0];var g=c[1];var r=h.element(e[0].querySelector("._md-nav-button"));if(!q.name){q.name=h.element(e[0].querySelector("._md-nav-button-text")).text().trim()}r.on("click",function(){g.mdSelectedNavItem=q.name;d.$apply()});b.expectWithText(e,"aria-label")})}}}function m(a){this._$element=a;this.mdNavClick;this.mdNavHref;this.mdNavSref;this.srefOpts;this.name;this._selected=false;this._focused=false}m.prototype.getNgClassMap=function(){return{"md-active":this._selected,"md-primary":this._selected,"md-unselected":!this._selected,"md-focused":this._focused}};m.prototype.getName=function(){return this.name};m.prototype.getButtonEl=function(){return this._$element[0].querySelector("._md-nav-button")};m.prototype.setSelected=function(a){this._selected=a};m.prototype.isSelected=function(){return this._selected};m.prototype.setFocused=function(a){this._focused=a;if(a){this.getButtonEl().focus()}};m.prototype.hasFocus=function(){return this._focused}})(window,window.angular);