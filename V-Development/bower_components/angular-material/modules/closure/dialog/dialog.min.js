/*!
 * AngularJS Material Design
 * https://github.com/angular/material
 * @license MIT
 * v1.1.5
 */
;goog.provide("ngmaterial.components.dialog");goog.require("ngmaterial.components.backdrop");goog.require("ngmaterial.core");MdDialogDirective["$inject"]=["$$rAF","$mdTheming","$mdDialog"];MdDialogProvider["$inject"]=["$$interimElementProvider"];angular.module("material.components.dialog",["material.core","material.components.backdrop"]).directive("mdDialog",MdDialogDirective).provider("$mdDialog",MdDialogProvider);function MdDialogDirective(b,a,c){return{restrict:"E",link:function(e,d){d.addClass("_md");a(d);b(function(){var f;var g=d[0].querySelector("md-dialog-content");if(g){f=g.getElementsByTagName("img");h();angular.element(f).on("load",h)}e.$on("$destroy",function(){c.destroy(d)});function h(){d.toggleClass("md-content-overflow",g.scrollHeight>g.clientHeight)}})}}}function MdDialogProvider(d){c["$inject"]=["$mdDialog","$mdConstant"];b["$inject"]=["$mdDialog","$mdAria","$mdUtil","$mdConstant","$animate","$document","$window","$rootElement","$log","$injector","$mdTheming","$interpolate","$mdInteraction"];var f,e;return d("$mdDialog").setDefaults({methods:["disableParentScroll","hasBackdrop","clickOutsideToClose","escapeToClose","targetEvent","closeTo","openFrom","parent","fullscreen","multiple"],options:b}).addPreset("alert",{methods:["title","htmlContent","textContent","content","ariaLabel","ok","theme","css"],options:a}).addPreset("confirm",{methods:["title","htmlContent","textContent","content","ariaLabel","ok","cancel","theme","css"],options:a}).addPreset("prompt",{methods:["title","htmlContent","textContent","initialValue","content","placeholder","ariaLabel","ok","cancel","theme","css","required"],options:a});function a(){return{template:['<md-dialog md-theme="{{ dialog.theme || dialog.defaultTheme }}" aria-label="{{ dialog.ariaLabel }}" ng-class="dialog.css">','  <md-dialog-content class="md-dialog-content" role="document" tabIndex="-1">','    <h2 class="md-title">{{ dialog.title }}</h2>','    <div ng-if="::dialog.mdHtmlContent" class="md-dialog-content-body" ','        ng-bind-html="::dialog.mdHtmlContent"></div>','    <div ng-if="::!dialog.mdHtmlContent" class="md-dialog-content-body">',"      <p>{{::dialog.mdTextContent}}</p>","    </div>",'    <md-input-container md-no-float ng-if="::dialog.$type == \'prompt\'" class="md-prompt-input-container">','      <input ng-keypress="dialog.keypress($event)" md-autofocus ng-model="dialog.result"              placeholder="{{::dialog.placeholder}}" ng-required="dialog.required">',"    </md-input-container>","  </md-dialog-content>","  <md-dialog-actions>",'    <md-button ng-if="dialog.$type === \'confirm\' || dialog.$type === \'prompt\'"               ng-click="dialog.abort()" class="md-primary md-cancel-button">',"      {{ dialog.cancel }}","    </md-button>",'    <md-button ng-click="dialog.hide()" class="md-primary md-confirm-button" md-autofocus="dialog.$type===\'alert\'"               ng-disabled="dialog.required && !dialog.result">',"      {{ dialog.ok }}","    </md-button>","  </md-dialog-actions>","</md-dialog>"].join("").replace(/\s\s+/g,""),controller:c,controllerAs:"dialog",bindToController:true}}function c(h,g){this.$onInit=function(){var i=this.$type=="prompt";if(i&&this.initialValue){this.result=this.initialValue}this.hide=function(){h.hide(i?this.result:true)};this.abort=function(){h.cancel()};this.keypress=function(j){if(j.keyCode===g.KEY_CODE.ENTER){h.hide(this.result)}}}}function b(g,A,t,q,E,G,u,j,C,D,l,p,v){return{hasBackdrop:true,isolateScope:true,onCompiling:s,onShow:y,onShowing:F,onRemove:k,clickOutsideToClose:false,escapeToClose:true,targetEvent:null,closeTo:null,openFrom:null,focusOnOpen:true,disableParentScroll:true,autoWrap:true,fullscreen:false,transformTemplate:function(J,I){var L=p.startSymbol();var H=p.endSymbol();var K=L+(I.themeWatch?"":"::")+"theme"+H;return'<div class="md-dialog-container" tabindex="-1" md-theme="'+K+'">'+M(J)+"</div>";function M(N){if(I.autoWrap&&!/<\/md-dialog>/g.test(N)){return"<md-dialog>"+(N||"")+"</md-dialog>"}else{return N||""}}}};function s(H){H.defaultTheme=l.defaultTheme();o(H)}function F(L,K,I,H){if(H){var J=H.htmlContent||I.htmlContent||"";var M=H.textContent||I.textContent||H.content||I.content||"";if(J&&!D.has("$sanitize")){throw Error("The ngSanitize module must be loaded in order to use htmlContent.")}if(J&&M){throw Error("md-dialog cannot have both `htmlContent` and `textContent`")}H.mdHtmlContent=J;H.mdTextContent=M}}function y(N,L,J,I){angular.element(G[0].body).addClass("md-dialog-is-showing");var M=L.find("md-dialog");if(M.hasClass("ng-cloak")){var O="$mdDialog: using `<md-dialog ng-cloak>` will affect the dialog opening animations.";C.warn(O,L[0])}z(J);x(M,J);h(N,L,J);n(L,J);return w(L,J).then(function(){i(L,J);H();K()});function H(){if(L[0].querySelector(".md-actions")){C.warn("Using a class of md-actions is deprecated, please use <md-dialog-actions>.")}}function K(){if(J.focusOnOpen){var Q=t.findFocusTarget(L)||P()||M;Q.focus()}function P(){return L[0].querySelector(".dialog-close, md-dialog-actions button:last-child")}}}function k(K,J,I){I.deactivateListeners();I.unlockScreenReader();I.hideBackdrop(I.$destroy);if(f&&f.parentNode){f.parentNode.removeChild(f)}if(e&&e.parentNode){e.parentNode.removeChild(e)}return !!I.$destroy?H():L().then(H);function L(){return B(J,I)}function H(){angular.element(G[0].body).removeClass("md-dialog-is-showing");if(I.contentElement){I.reverseContainerStretch()}I.cleanupElement();if(!I.$destroy&&I.originInteraction==="keyboard"){I.origin.focus()}}}function o(I){var K;if(I.targetEvent&&I.targetEvent.target){K=angular.element(I.targetEvent.target)}var H=K&&K.controller("mdTheme");if(!H){return}I.themeWatch=H.$shouldWatch;var J=I.theme||H.$mdTheme;if(J){I.scope.theme=J}var L=H.registerChanges(function(M){I.scope.theme=M;if(!I.themeWatch){L()}})}function z(I){I.origin=angular.extend({element:null,bounds:null,focus:angular.noop},I.origin||{});I.parent=J(I.parent,j);I.closeTo=H(J(I.closeTo));I.openFrom=H(J(I.openFrom));if(I.targetEvent){I.origin=H(I.targetEvent.target,I.origin);I.originInteraction=v.getLastInteractionType()}function H(L,O){var N=angular.element((L||{}));if(N&&N.length){var M={top:0,left:0,height:0,width:0};var K=angular.isFunction(N[0].getBoundingClientRect);return angular.extend(O||{},{element:K?N:undefined,bounds:K?N[0].getBoundingClientRect():angular.extend({},M,N[0]),focus:angular.bind(N,N.focus)})}}function J(L,K){if(angular.isString(L)){L=G[0].querySelector(L)}return angular.element(L||K)}}function n(K,S){var O=angular.element(u);var P=t.debounce(function(){r(K,S)},60);var L=[];var H=function(){var T=(S.$type=="alert")?g.hide:g.cancel;t.nextTick(T,true)};if(S.escapeToClose){var I=S.parent;var R=function(T){if(T.keyCode===q.KEY_CODE.ESCAPE){T.stopPropagation();T.preventDefault();H()}};K.on("keydown",R);I.on("keydown",R);L.push(function(){K.off("keydown",R);I.off("keydown",R)})}O.on("resize",P);L.push(function(){O.off("resize",P)});if(S.clickOutsideToClose){var N=K;var J;var M=function(T){J=T.target};var Q=function(T){if(J===N[0]&&T.target===N[0]){T.stopPropagation();T.preventDefault();H()}};N.on("mousedown",M);N.on("mouseup",Q);L.push(function(){N.off("mousedown",M);N.off("mouseup",Q)})}S.deactivateListeners=function(){L.forEach(function(T){T()});S.deactivateListeners=null}}function h(K,J,I){if(I.disableParentScroll){I.restoreScroll=t.disableScrollAround(J,I.parent)}if(I.hasBackdrop){I.backdrop=t.createBackdrop(K,"md-dialog-backdrop md-opaque");E.enter(I.backdrop,I.parent)}I.hideBackdrop=function H(L){if(I.backdrop){if(!!L){I.backdrop.remove()}else{E.leave(I.backdrop)}}if(I.disableParentScroll){I.restoreScroll&&I.restoreScroll();delete I.restoreScroll}I.hideBackdrop=null}}function x(K,I){var N=(I.$type==="alert")?"alertdialog":"dialog";var L=K.find("md-dialog-content");var J=K.attr("id");var M="dialogContent_"+(J||t.nextUid());K.attr({role:N,tabIndex:"-1"});if(L.length===0){L=K;if(J){M=J}}L.attr("id",M);K.attr("aria-describedby",M);if(I.ariaLabel){A.expect(K,"aria-label",I.ariaLabel)}else{A.expectAsync(K,"aria-label",function(){if(I.title){return I.title}else{var O=L.text().split(/\s+/);if(O.length>3){O=O.slice(0,3).concat("...")}return O.join(" ")}})}f=document.createElement("div");f.classList.add("md-dialog-focus-trap");f.tabIndex=0;e=f.cloneNode(false);var H=function(){K.focus()};f.addEventListener("focus",H);e.addEventListener("focus",H);K[0].parentNode.insertBefore(f,K[0]);K.after(e)}function i(K,I){var J=true;H(K[0]);I.unlockScreenReader=function(){J=false;H(K[0]);I.unlockScreenReader=null};function H(N){while(N.parentNode){if(N===document.body){return}var M=N.parentNode.children;for(var L=0;L<M.length;L++){if(N!==M[L]&&!m(M[L],["SCRIPT","STYLE"])&&!M[L].hasAttribute("aria-live")){M[L].setAttribute("aria-hidden",J)}}H(N=N.parentNode)}}}function r(I,L){var N=u.getComputedStyle(G[0].body).position=="fixed";var K=L.backdrop?u.getComputedStyle(L.backdrop[0]):null;var H=K?Math.min(G[0].body.clientHeight,Math.ceil(Math.abs(parseInt(K.height,10)))):0;var J={top:I.css("top"),height:I.css("height")};var M=Math.abs(L.parent[0].getBoundingClientRect().top);I.css({top:(N?M:0)+"px",height:H?H+"px":"100%"});return function(){I.css(J)}}function w(I,K){K.parent.append(I);K.reverseContainerStretch=r(I,K);var M=I.find("md-dialog");var H=t.dom.animator;var J=H.calculateZoomToOrigin;var L={transitionInClass:"md-transition-in",transitionOutClass:"md-transition-out"};var O=H.toTransformCss(J(M,K.openFrom||K.origin));var N=H.toTransformCss("");M.toggleClass("md-dialog-fullscreen",!!K.fullscreen);return H.translate3d(M,O,N,L).then(function(P){K.reverseAnimate=function(){delete K.reverseAnimate;if(K.closeTo){L={transitionInClass:"md-transition-out",transitionOutClass:"md-transition-in"};O=N;N=H.toTransformCss(J(M,K.closeTo));return H.translate3d(M,O,N,L)}return P(N=H.toTransformCss(J(M,K.origin)))};K.clearAnimate=function(){delete K.clearAnimate;M.removeClass([L.transitionOutClass,L.transitionInClass].join(" "));return H.translate3d(M,N,H.toTransformCss(""),{})};return true})}function B(H,I){return I.reverseAnimate().then(function(){if(I.contentElement){I.clearAnimate()}})}function m(I,H){if(H.indexOf(I.nodeName)!==-1){return true}}}}ngmaterial.components.dialog=angular.module("material.components.dialog");