/*!
 * AngularJS Material Design
 * https://github.com/angular/material
 * @license MIT
 * v1.1.5
 */
;goog.provide("ngmaterial.components.input");goog.require("ngmaterial.core");mdInputContainerDirective["$inject"]=["$mdTheming","$parse"];inputTextareaDirective["$inject"]=["$mdUtil","$window","$mdAria","$timeout","$mdGesture"];mdMaxlengthDirective["$inject"]=["$animate","$mdUtil"];placeholderDirective["$inject"]=["$compile"];ngMessageDirective["$inject"]=["$mdUtil"];mdSelectOnFocusDirective["$inject"]=["$timeout"];mdInputInvalidMessagesAnimation["$inject"]=["$$AnimateRunner","$animateCss","$mdUtil","$log"];ngMessagesAnimation["$inject"]=["$$AnimateRunner","$animateCss","$mdUtil","$log"];ngMessageAnimation["$inject"]=["$$AnimateRunner","$animateCss","$mdUtil","$log"];var inputModule=angular.module("material.components.input",["material.core"]).directive("mdInputContainer",mdInputContainerDirective).directive("label",labelDirective).directive("input",inputTextareaDirective).directive("textarea",inputTextareaDirective).directive("mdMaxlength",mdMaxlengthDirective).directive("placeholder",placeholderDirective).directive("ngMessages",ngMessagesDirective).directive("ngMessage",ngMessageDirective).directive("ngMessageExp",ngMessageDirective).directive("mdSelectOnFocus",mdSelectOnFocusDirective).animation(".md-input-invalid",mdInputInvalidMessagesAnimation).animation(".md-input-messages-animation",ngMessagesAnimation).animation(".md-input-message-animation",ngMessageAnimation);if(window._mdMocksIncluded){inputModule.service("$$mdInput",function(){return{messages:{show:showInputMessages,hide:hideInputMessages,getElement:getMessagesElement}}}).service("mdInputInvalidAnimation",mdInputInvalidMessagesAnimation).service("mdInputMessagesAnimation",ngMessagesAnimation).service("mdInputMessageAnimation",ngMessageAnimation)}function mdInputContainerDirective(h,i){n["$inject"]=["$scope","$element","$attrs","$animate"];var k=["INPUT","TEXTAREA","SELECT","MD-SELECT"];var l=k.reduce(function(a,b){return a.concat(["md-icon ~ "+b,".md-icon ~ "+b])},[]).join(",");var j=k.reduce(function(a,b){return a.concat([b+" ~ md-icon",b+" ~ .md-icon"])},[]).join(",");return{restrict:"E",compile:m,controller:n};function m(b){var a=b[0].querySelector(l);var c=b[0].querySelector(j);if(a){b.addClass("md-icon-left")}if(c){b.addClass("md-icon-right")}return function d(e,f){h(f)}}function n(b,d,e,a){var c=this;c.isErrorGetter=e.mdIsError&&i(e.mdIsError);c.delegateClick=function(){c.input.focus()};c.element=d;c.setFocused=function(f){d.toggleClass("md-input-focused",!!f)};c.setHasValue=function(f){d.toggleClass("md-input-has-value",!!f)};c.setHasPlaceholder=function(f){d.toggleClass("md-input-has-placeholder",!!f)};c.setInvalid=function(f){if(f){a.addClass(d,"md-input-invalid")}else{a.removeClass(d,"md-input-invalid")}};b.$watch(function(){return c.label&&c.input},function(f){if(f&&!c.label.attr("for")){c.label.attr("for",c.input.attr("id"))}})}}function labelDirective(){return{restrict:"E",require:"^?mdInputContainer",link:function(g,h,f,e){if(!e||f.mdNoFloat||h.hasClass("md-container-ignore")){return}e.label=h;g.$on("$destroy",function(){e.label=null})}}}function inputTextareaDirective(i,j,g,l,k){return{restrict:"E",require:["^?mdInputContainer","?ngModel","?^form"],link:h};function h(J,I,f,e){var A=e[0];var y=!!e[1];var E=e[1]||i.fakeNgModel();var c=e[2];var G=angular.isDefined(f.readonly);var b=i.parseAttributeBoolean(f.mdNoAsterisk);var H=I[0].tagName.toLowerCase();if(!A){return}if(f.type==="hidden"){I.attr("aria-hidden","true");return}else{if(A.input){if(A.input[0].contains(I[0])){return}else{throw new Error("<md-input-container> can only have *one* <input>, <textarea> or <md-select> child element!")}}}A.input=I;B();var z=angular.element('<div class="md-errors-spacer">');I.after(z);var F=angular.isString(f.placeholder)?f.placeholder.trim():"";if(!A.label&&!F.length){g.expect(I,"aria-label")}I.addClass("md-input");if(!I.attr("id")){I.attr("id","input_"+i.nextUid())}if(H==="input"&&f.type==="number"&&f.min&&f.max&&!f.step){I.attr("step","any")}else{if(H==="textarea"){a()}}if(!y){D()}var d=A.isErrorGetter||function(){return E.$invalid&&(E.$touched||(c&&c.$submitted))};J.$watch(d,A.setInvalid);if(f.ngValue){f.$observe("value",D)}E.$parsers.push(C);E.$formatters.push(C);I.on("input",D);if(!G){I.on("focus",function(m){i.nextTick(function(){A.setFocused(true)})}).on("blur",function(m){i.nextTick(function(){A.setFocused(false);D()})})}J.$on("$destroy",function(){A.setFocused(false);A.setHasValue(false);A.input=null});function C(m){A.setHasValue(!E.$isEmpty(m));return m}function B(){if(A.label){f.$observe("required",function(m){A.label.toggleClass("md-required",m&&!b)})}}function D(){A.setHasValue(I.val().length>0||(I[0].validity||{}).badInput)}function a(){var s=!f.hasOwnProperty("mdNoAutogrow");r();if(!s){return}var p=f.hasOwnProperty("rows")?parseInt(f.rows):NaN;var t=f.hasOwnProperty("maxRows")?parseInt(f.maxRows):NaN;var n=J.$on("md-resize-textarea",q);var u=null;var o=I[0];l(function(){i.nextTick(q)},10,false);I.on("input",q);if(y){E.$formatters.push(v)}if(!p){I.attr("rows",1)}angular.element(j).on("resize",q);J.$on("$destroy",w);function q(){I.attr("rows",1).css("height","auto").addClass("md-no-flex");var O=x();if(!u){var N=I[0].style.padding||"";u=I.css("padding",0).prop("offsetHeight");I[0].style.padding=N}if(p&&u){O=Math.max(O,u*p)}if(t&&u){var P=u*t;if(P<O){I.attr("md-no-autogrow","");O=P}else{I.removeAttr("md-no-autogrow")}}if(u){I.attr("rows",Math.round(O/u))}I.css("height",O+"px").removeClass("md-no-flex")}function x(){var M=o.offsetHeight;var N=o.scrollHeight-M;return M+Math.max(N,0)}function v(L){i.nextTick(q);return L}function w(){if(!s){return}s=false;angular.element(j).off("resize",q);n&&n();I.attr("md-no-autogrow","").off("input",q);if(y){var L=E.$formatters.indexOf(v);if(L>-1){E.$formatters.splice(L,1)}}}function r(){if(f.hasOwnProperty("mdNoResize")){return}var Y=angular.element('<div class="md-resize-handle"></div>');var X=false;var V=null;var U=0;var ad=A.element;var aa=k.register(Y,"drag",{horizontal:false});I.wrap('<div class="md-resize-wrapper">').after(Y);Y.on("mousedown",W);ad.on("$md.dragstart",ac).on("$md.drag",Z).on("$md.dragend",ab);J.$on("$destroy",function(){Y.off("mousedown",W).remove();ad.off("$md.dragstart",ac).off("$md.drag",Z).off("$md.dragend",ab);aa();Y=null;ad=null;aa=null});function W(K){K.preventDefault();X=true;V=K.clientY;U=parseFloat(I.css("height"))||I.prop("offsetHeight")}function ac(K){if(!X){return}K.preventDefault();w();ad.addClass("md-input-resized")}function Z(K){if(!X){return}I.css("height",(U+K.pointer.distanceY)+"px")}function ab(K){if(!X){return}X=false;ad.removeClass("md-input-resized")}}if(f.hasOwnProperty("mdDetectHidden")){var m=function(){var L=false;return function(){var K=o.offsetHeight===0;if(K===false&&L===true){q()}L=K}}();J.$watch(function(){i.nextTick(m,false);return true})}}}}function mdMaxlengthDirective(f,d){return{restrict:"A",require:["ngModel","^mdInputContainer"],link:e};function e(a,c,b,n){var s;var r=n[0];var t=n[1];var o,p;d.nextTick(function(){p=angular.element(t.element[0].querySelector(".md-errors-spacer"));o=angular.element('<div class="md-char-counter">');p.append(o);b.$set("ngTrim","false");a.$watch(b.mdMaxlength,function(g){s=g;if(angular.isNumber(g)&&g>0){if(!o.parent().length){f.enter(o,p)}q()}else{f.leave(o)}});r.$validators["md-maxlength"]=function(h,g){if(!angular.isNumber(s)||s<0){return true}q();return(h||c.val()||g||"").length<=s}});function q(g){if(!o.parent){return g}o.text(String(c.val()||g||"").length+" / "+s);return g}}}function placeholderDirective(d){return{restrict:"A",require:"^^?mdInputContainer",priority:200,link:{pre:c}};function c(j,k,n,a){if(!a){return}var m=a.element.find("label");var b=a.element.attr("md-no-float");if((m&&m.length)||b===""||j.$eval(b)){a.setHasPlaceholder(true);return}if(k[0].nodeName!="MD-SELECT"){var l=angular.element('<label ng-click="delegateClick()" tabindex="-1">'+n.placeholder+"</label>");n.$set("placeholder",null);a.element.addClass("md-icon-float").prepend(l);d(l)(j)}}}function mdSelectOnFocusDirective(c){return{restrict:"A",link:d};function d(a,b,k){if(b[0].nodeName!=="INPUT"&&b[0].nodeName!=="TEXTAREA"){return}var l=false;b.on("focus",i).on("mouseup",j);a.$on("$destroy",function(){b.off("focus",i).off("mouseup",j)});function i(){l=true;c(function(){b[0].select();l=false},1,false)}function j(e){if(l){e.preventDefault()}}}}var visibilityDirectives=["ngIf","ngShow","ngHide","ngSwitchWhen","ngSwitchDefault"];function ngMessagesDirective(){return{restrict:"EA",link:c,require:"^^?mdInputContainer"};function c(b,g,h,a){if(!a){return}g.toggleClass("md-input-messages-animation",true);g.toggleClass("md-auto-hide",true);if(h.mdAutoHide=="false"||d(h)){g.toggleClass("md-auto-hide",false)}}function d(a){return visibilityDirectives.some(function(b){return a[b]})}}function ngMessageDirective(c){return{restrict:"EA",compile:d,priority:100};function d(h){if(!g(h)){if(a()){return function(e,f){if(g(f)){b(h)}}}}else{b(h)}function a(){var e=h[0];while(e=e.parentNode){if(e.nodeType===Node.DOCUMENT_FRAGMENT_NODE){return true}}return false}function g(e){return !!c.getClosest(e,"md-input-container")}function b(e){e.toggleClass("md-input-message-animation",true)}}}var $$AnimateRunner,$animateCss,$mdUtil,$log;function mdInputInvalidMessagesAnimation(g,e,h,f){saveSharedServices(g,e,h,f);return{addClass:function(b,a,c){showInputMessages(b,c)}}}function ngMessagesAnimation(g,e,h,f){saveSharedServices(g,e,h,f);return{enter:function(a,b){showInputMessages(a,b)},leave:function(a,b){hideInputMessages(a,b)},addClass:function(b,a,c){if(a=="ng-hide"){hideInputMessages(b,c)}else{c()}},removeClass:function(b,a,c){if(a=="ng-hide"){showInputMessages(b,c)}else{c()}}}}function ngMessageAnimation(g,e,h,f){saveSharedServices(g,e,h,f);return{enter:function(a,b){var c=showMessage(a);c.start().done(b)},leave:function(a,b){var c=hideMessage(a);c.start().done(b)}}}function showInputMessages(k,g){var i=[],h;var j=getMessagesElement(k);var l=j.children();if(j.length==0||l.length==0){$log.warn("mdInput messages show animation called on invalid messages element: ",k);g();return}angular.forEach(l,function(a){h=showMessage(angular.element(a));i.push(h.start())});$$AnimateRunner.all(i,g)}function hideInputMessages(k,g){var i=[],h;var j=getMessagesElement(k);var l=j.children();if(j.length==0||l.length==0){$log.warn("mdInput messages hide animation called on invalid messages element: ",k);g();return}angular.forEach(l,function(a){h=hideMessage(angular.element(a));i.push(h.start())});$$AnimateRunner.all(i,g)}function showMessage(k){var h=parseInt(window.getComputedStyle(k[0]).height);var l=parseInt(window.getComputedStyle(k[0]).marginTop);var i=getMessagesElement(k);var g=getInputElement(k);var j=(l>-h);if(j||(i.hasClass("md-auto-hide")&&!g.hasClass("md-input-invalid"))){return $animateCss(k,{})}return $animateCss(k,{event:"enter",structural:true,from:{opacity:0,"margin-top":-h+"px"},to:{opacity:1,"margin-top":"0"},duration:0.3})}function hideMessage(d){var e=d[0].offsetHeight;var f=window.getComputedStyle(d[0]);if(parseInt(f.opacity)===0){return $animateCss(d,{})}return $animateCss(d,{event:"leave",structural:true,from:{opacity:1,"margin-top":0},to:{opacity:0,"margin-top":-e+"px"},duration:0.3})}function getInputElement(d){var c=d.controller("mdInputContainer");return c.element}function getMessagesElement(b){if(b.hasClass("md-input-messages-animation")){return b}if(b.hasClass("md-input-message-animation")){return angular.element($mdUtil.getClosest(b,function(a){return a.classList.contains("md-input-messages-animation")}))}return angular.element(b[0].querySelector(".md-input-messages-animation"))}function saveSharedServices(g,h,e,f){$$AnimateRunner=g;$animateCss=h;$mdUtil=e;$log=f}ngmaterial.components.input=angular.module("material.components.input");