/*!
 * AngularJS Material Design
 * https://github.com/angular/material
 * @license MIT
 * v1.1.5
 */
;goog.provide("ngmaterial.components.fabShared");goog.require("ngmaterial.core");(function(){b["$inject"]=["$scope","$element","$animate","$mdUtil","$mdConstant","$timeout"];angular.module("material.components.fabShared",["material.core"]).controller("MdFabController",b);function b(W,H,R,J,Y,K){var N=this;var af=0;N.open=function(){W.$evalAsync("vm.isOpen = true")};N.close=function(){W.$evalAsync("vm.isOpen = false");H.find("md-fab-trigger")[0].focus()};N.toggle=function(){W.$evalAsync("vm.isOpen = !vm.isOpen")};N.$onInit=function(){U();T();Q();al()};if(angular.version.major===1&&angular.version.minor<=4){this.$onInit()}function U(){N.direction=N.direction||"down";N.isOpen=N.isOpen||false;ac();H.addClass("md-animations-waiting")}function T(){var c=["click","focusin","focusout"];angular.forEach(c,function(d){H.on(d,X)});W.$on("$destroy",function(){angular.forEach(c,function(d){H.off(d,X)});L()})}var V;function X(c){if(c.type=="click"){ab(c)}if(c.type=="focusout"&&!V){V=K(function(){N.close()},100,false)}if(c.type=="focusin"&&V){K.cancel(V);V=null}}function ac(){N.currentActionIndex=-1}function Q(){W.$watch("vm.direction",function(e,f){R.removeClass(H,"md-"+f);R.addClass(H,"md-"+e);ac()});var d,c;W.$watch("vm.isOpen",function(f){ac();if(!d||!c){d=aj();c=ad()}if(f){S()}else{L()}var g=f?"md-is-open":"";var e=f?"":"md-is-open";d.attr("aria-haspopup",true);d.attr("aria-expanded",f);c.attr("aria-hidden",!f);R.setClass(H,g,e)})}function al(){if(H[0].scrollHeight>0){R.addClass(H,"_md-animations-ready").then(function(){H.removeClass("md-animations-waiting")})}else{if(af<10){K(al,100);af=af+1}}}function S(){H.on("keydown",Z);J.nextTick(function(){angular.element(document).on("click touchend",a)})}function L(){H.off("keydown",Z);angular.element(document).off("click touchend",a)}function a(c){if(c.target){var d=J.getClosest(c.target,"md-fab-trigger");var e=J.getClosest(c.target,"md-fab-actions");if(!d&&!e){N.close()}}}function Z(c){switch(c.which){case Y.KEY_CODE.ESCAPE:N.close();c.preventDefault();return false;case Y.KEY_CODE.LEFT_ARROW:ak(c);return false;case Y.KEY_CODE.UP_ARROW:O(c);return false;case Y.KEY_CODE.RIGHT_ARROW:ae(c);return false;case Y.KEY_CODE.DOWN_ARROW:aa(c);return false}}function ah(c){P(c,-1)}function ag(c){P(c,1)}function P(e,d){var c=M();N.currentActionIndex=N.currentActionIndex+d;N.currentActionIndex=Math.min(c.length-1,N.currentActionIndex);N.currentActionIndex=Math.max(0,N.currentActionIndex);var f=angular.element(c[N.currentActionIndex]).children()[0];angular.element(f).attr("tabindex",0);f.focus();e.preventDefault();e.stopImmediatePropagation()}function M(){var c=ad()[0].querySelectorAll(".md-fab-action-item");angular.forEach(c,function(d){angular.element(angular.element(d).children()[0]).attr("tabindex",-1)});return c}function ak(c){if(N.direction==="left"){ag(c)}else{ah(c)}}function O(c){if(N.direction==="down"){ah(c)}else{ag(c)}}function ae(c){if(N.direction==="left"){ah(c)}else{ag(c)}}function aa(c){if(N.direction==="up"){ah(c)}else{ag(c)}}function I(c){return J.getClosest(c,"md-fab-trigger")}function ai(c){return J.getClosest(c,"md-fab-actions")}function ab(c){if(I(c.target)){N.toggle()}if(ai(c.target)){N.close()}}function aj(){return H.find("md-fab-trigger")}function ad(){return H.find("md-fab-actions")}}})();(function(){h["$inject"]=["$timeout"];g["$inject"]=["$timeout"];var e=300;angular.module("material.components.fabSpeedDial",["material.core","material.components.fabShared","material.components.fabActions"]).directive("mdFabSpeedDial",f).animation(".md-fling",h).animation(".md-scale",g).service("mdFabSpeedDialFlingAnimation",h).service("mdFabSpeedDialScaleAnimation",g);function f(){return{restrict:"E",scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:true,controller:"MdFabController",controllerAs:"vm",link:a};function a(b,c){c.prepend('<div class="_md-css-variables"></div>')}}function h(b){function c(d){b(d,e,false)}function a(q){if(q.hasClass("md-animations-waiting")&&!q.hasClass("_md-animations-ready")){return}var p=q[0];var o=q.controller("mdFabSpeedDial");var r=p.querySelectorAll(".md-fab-action-item");var t=p.querySelector("md-fab-trigger");var d=p.querySelector("._md-css-variables");var s=parseInt(window.getComputedStyle(d).zIndex);angular.forEach(r,function(i,k){var j=i.style;j.transform=j.webkitTransform="";j.transitionDelay="";j.opacity=1;j.zIndex=(r.length-k)+s});t.style.zIndex=s+r.length+1;if(!o.isOpen){angular.forEach(r,function(i,n){var l,k;var j=i.style;var x=(t.clientHeight-i.clientHeight)/2;var w=(t.clientWidth-i.clientWidth)/2;switch(o.direction){case"up":l=(i.scrollHeight*(n+1)+x);k="Y";break;case"down":l=-(i.scrollHeight*(n+1)+x);k="Y";break;case"left":l=(i.scrollWidth*(n+1)+w);k="X";break;case"right":l=-(i.scrollWidth*(n+1)+w);k="X";break}var m="translate"+k+"("+l+"px)";j.transform=j.webkitTransform=m})}}return{addClass:function(k,d,l){if(k.hasClass("md-fling")){a(k);c(l)}else{l()}},removeClass:function(k,d,l){a(k);c(l)}}}function g(b){function d(j){b(j,e,false)}var c=65;function a(q){var p=q[0];var o=q.controller("mdFabSpeedDial");var r=p.querySelectorAll(".md-fab-action-item");var t=p.querySelector("._md-css-variables");var s=parseInt(window.getComputedStyle(t).zIndex);angular.forEach(r,function(i,k){var j=i.style,l=k*c;j.opacity=o.isOpen?1:0;j.transform=j.webkitTransform=o.isOpen?"scale(1)":"scale(0)";j.transitionDelay=(o.isOpen?l:(r.length-l))+"ms";j.zIndex=(r.length-k)+s})}return{addClass:function(m,l,n){a(m);d(n)},removeClass:function(m,l,n){a(m);d(n)}}}})();ngmaterial.components.fabShared=angular.module("material.components.fabShared");