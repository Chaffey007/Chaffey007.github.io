"use strict";var _reqAnimFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame;var _cancelAnimFrame=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.oCancelAnimationFrame;function styleNormCalc(f,b,c){var d,a,e={};for(d in f){switch(d){case"fill":case"stroke":e[d]=clone(f[d]);e[d].r=f[d].r+(b[d].r-f[d].r)*c;e[d].g=f[d].g+(b[d].g-f[d].g)*c;e[d].b=f[d].b+(b[d].b-f[d].b)*c;e[d].opacity=f[d].opacity+(b[d].opacity-f[d].opacity)*c;break;case"opacity":case"fill-opacity":case"stroke-opacity":case"stroke-width":e[d]=f[d]+(b[d]-f[d])*c;break}}return e}function styleNormToString(c){var a;var b={};for(a in c){switch(a){case"fill":case"stroke":b[a]=rgbToString(c[a]);break;case"opacity":case"fill-opacity":case"stroke-opacity":case"stroke-width":b[a]=c[a];break}}return b}function styleToNorm(a,b){var d=[{},{}];var c;for(c in a){switch(c){case"fill":case"stroke":d[0][c]=getRGB(a[c]);if(b[c]===undefined){d[1][c]=getRGB(a[c]);d[1][c].opacity=0}break;case"opacity":case"fill-opacity":case"stroke-opacity":case"stroke-width":d[0][c]=a[c];if(b[c]===undefined){d[1][c]=1}break}}for(c in b){switch(c){case"fill":case"stroke":d[1][c]=getRGB(b[c]);if(a[c]===undefined){d[0][c]=getRGB(b[c]);d[0][c].opacity=0}break;case"opacity":case"fill-opacity":case"stroke-opacity":case"stroke-width":d[1][c]=b[c];if(a[c]===undefined){d[0][c]=1}break}}return d}function transCalc(e,f,b){var d={};for(var c in e){switch(c){case"rotate":d[c]=[0,0,0];for(var a=0;a<3;a++){d[c][a]=e[c][a]+(f[c][a]-e[c][a])*b}break}}return d}function trans2string(b){var a="";if(!!b.rotate){a+="rotate("+b.rotate.join(" ")+")"}return a}function curveCalc(g,f,d){var h=[];for(var e=0,c=g.length;e<c;e++){h.push([g[e][0]]);for(var b=1,a=g[e].length;b<a;b++){h[e].push(g[e][b]+(f[e][b]-g[e][b])*d)}}return h}function clone(d){var e;if(d instanceof Array){e=[];for(var c=0,b=d.length;c<b;c++){e[c]=clone(d[c])}return e}if(d instanceof Object){e={};for(var a in d){if(d.hasOwnProperty(a)){e[a]=clone(d[a])}}return e}return d};