/*!
 * AngularJS Material Design
 * https://github.com/angular/material
 * @license MIT
 * v1.1.4-master-87d1cb1
 */
;function MenuController(z,E,k,b,j,w,C,v,F){var D,A,B=j.prefixer(),q=this;this.nestLevel=parseInt(E.mdNestLevel,10)||0,this.init=function(e,d){d=d||{},D=e,A=k[0].querySelector(B.buildSelector(["ng-click","ng-mouseenter"])),A.setAttribute("aria-expanded","false"),this.isInMenuBar=d.isInMenuBar,this.nestedMenus=j.nodesToArray(D[0].querySelectorAll(".md-nested-menu")),D.on("$mdInterimElementRemove",function(){q.isOpen=!1,j.nextTick(function(){q.onIsOpenChanged(q.isOpen)})}),j.nextTick(function(){q.onIsOpenChanged(q.isOpen)});var c="menu_container_"+j.nextUid();D.attr("id",c),angular.element(A).attr({"aria-owns":c,"aria-haspopup":"true"}),b.$on("$destroy",angular.bind(this,function(){this.disableHoverListener(),z.destroy()})),D.on("$destroy",function(){z.destroy()})};var y,g,x=[];this.enableHoverListener=function(){x.push(C.$on("$mdMenuOpen",function(c,a){D[0].contains(a[0])&&(q.currentlyOpenMenu=a.controller("mdMenu"),q.isAlreadyOpening=!1,q.currentlyOpenMenu.registerContainerProxy(q.triggerContainerProxy.bind(q)))})),x.push(C.$on("$mdMenuClose",function(c,a){D[0].contains(a[0])&&(q.currentlyOpenMenu=void 0)})),g=angular.element(j.nodesToArray(D[0].children[0].children)),g.on("mouseenter",q.handleMenuItemHover),g.on("mouseleave",q.handleMenuItemMouseLeave)},this.disableHoverListener=function(){for(;x.length;){x.shift()()}g&&g.off("mouseenter",q.handleMenuItemHover),g&&g.off("mouseleave",q.handleMenuItemMouseLeave)},this.handleMenuItemHover=function(c){if(!q.isAlreadyOpening){var a=c.target.querySelector("md-menu")||j.getClosest(c.target,"MD-MENU");y=w(function(){if(a&&(a=angular.element(a).controller("mdMenu")),q.currentlyOpenMenu&&q.currentlyOpenMenu!=a){var f=q.nestLevel+1;q.currentlyOpenMenu.close(!0,{closeTo:f}),q.isAlreadyOpening=!!a,a&&a.open()}else{a&&!a.isOpen&&a.open&&(q.isAlreadyOpening=!!a,a&&a.open())}},a?100:250);var d=c.currentTarget.querySelector(".md-button:not([disabled])");d&&d.focus()}},this.handleMenuItemMouseLeave=function(){y&&(w.cancel(y),y=void 0)},this.open=function(a){a&&a.stopPropagation(),a&&a.preventDefault(),q.isOpen||(q.enableHoverListener(),q.isOpen=!0,j.nextTick(function(){q.onIsOpenChanged(q.isOpen)}),A=A||(a?a.target:k[0]),A.setAttribute("aria-expanded","true"),b.$emit("$mdMenuOpen",k),z.show({scope:b,mdMenuCtrl:q,nestLevel:q.nestLevel,element:D,target:A,preserveElement:!0,parent:"body"})["finally"](function(){A.setAttribute("aria-expanded","false"),q.disableHoverListener()}))},this.onIsOpenChanged=function(a){a?(D.attr("aria-hidden","false"),k[0].classList.add("md-open"),angular.forEach(q.nestedMenus,function(c){c.classList.remove("md-open")})):(D.attr("aria-hidden","true"),k[0].classList.remove("md-open")),b.$mdMenuIsOpen=q.isOpen},this.focusMenuContainer=function(){var a=D[0].querySelector(B.buildSelector(["md-menu-focus-target","md-autofocus"]));a||(a=D[0].querySelector(".md-button:not([disabled])")),a.focus()},this.registerContainerProxy=function(a){this.containerProxy=a},this.triggerContainerProxy=function(a){this.containerProxy&&this.containerProxy(a)},this.destroy=function(){return q.isOpen?z.destroy():v.when(!1)},this.close=function(f,e){if(q.isOpen){q.isOpen=!1,j.nextTick(function(){q.onIsOpenChanged(q.isOpen)});var d=angular.extend({},e,{skipFocus:f});if(b.$emit("$mdMenuClose",k,d),z.hide(null,e),!f){var c=q.restoreFocusTo||k.find("button")[0];c instanceof angular.element&&(c=c[0]),c&&c.focus()}}},this.positionMode=function(){var a=(E.mdPositionMode||"target").split(" ");return 1==a.length&&a.push(a[0]),{left:a[0],top:a[1]}},this.offsets=function(){var a=(E.mdOffset||"0 0").split(" ").map(parseFloat);if(2==a.length){return{left:a[0],top:a[1]}}if(1==a.length){return{top:a[0],left:a[0]}}throw Error("Invalid offsets specified. Please follow format <x, y> or <n>")},b.$mdMenu={open:this.open,close:this.close},b.$mdOpenMenu=angular.bind(this,function(){return F.warn("mdMenu: The $mdOpenMenu method is deprecated. Please use `$mdMenu.open`."),this.open.apply(this,arguments)})}function MenuDirective(c){function a(j){j.addClass("md-menu");var m=j.children()[0],h=j.children()[1],f=c.prefixer();f.hasAttribute(m,"ng-click")||(m=m.querySelector(f.buildSelector(["ng-click","ng-mouseenter"]))||m);var e="MD-BUTTON"===m.nodeName||"BUTTON"===m.nodeName;if(m&&e&&!m.hasAttribute("type")&&m.setAttribute("type","button"),!m){throw Error(b+"Expected the menu to have a trigger element.")}if(!h||"MD-MENU-CONTENT"!==h.nodeName){throw Error(b+"Expected the menu to contain a `md-menu-content` element.")}m&&m.setAttribute("aria-haspopup","true");var k=j[0].querySelectorAll("md-menu"),g=parseInt(j[0].getAttribute("md-nest-level"),10)||0;return k&&angular.forEach(c.nodesToArray(k),function(i){i.hasAttribute("md-position-mode")||i.setAttribute("md-position-mode","cascade"),i.classList.add("_md-nested-menu"),i.setAttribute("md-nest-level",g+1)}),d}function d(m,j,q,k){var p=k[0],h=!!k[1],g=angular.element('<div class="_md md-open-menu-container md-whiteframe-z2"></div>'),f=j.children()[1];j.addClass("_md"),f.hasAttribute("role")||f.setAttribute("role","menu"),g.append(f),j.on("$destroy",function(){g.remove()}),j.append(g),g[0].style.display="none",p.init(g,{isInMenuBar:h})}var b="Invalid HTML for md-menu: ";return{restrict:"E",require:["mdMenu","?^mdMenuBar"],controller:"mdMenuCtrl",scope:!0,compile:a}}function MenuProvider(c){function a(G,q,y,B,K,A,r,n,H,I){function z(e,g,f){return f.nestLevel?angular.noop:(f.disableParentScroll&&!G.getClosest(f.target,"MD-DIALOG")?f.restoreScroll=G.disableScrollAround(f.element,f.parent):f.disableParentScroll=!1,f.hasBackdrop&&(f.backdrop=G.createBackdrop(e,"md-menu-backdrop md-click-catcher"),H.enter(f.backdrop,B[0].body)),function(){f.backdrop&&f.backdrop.remove(),f.disableParentScroll&&f.restoreScroll()})}function F(h,f,l){function g(){return n(f,{addClass:"md-leave"}).start()}function i(){f.removeClass("md-active"),k(f,l),l.alreadyOpen=!1}return l.cleanupInteraction(),l.cleanupBackdrop(),l.cleanupResizing(),l.hideBackdrop(),f.removeClass("md-clickable"),l.$destroy===!0?i():g().then(i)}function x(l,e,m){function t(){return m.parent.append(e),e[0].style.display="",A(function(g){var f=j(e,m);e.removeClass("md-leave"),n(e,{addClass:"md-active",from:w.toCss(f),to:w.toCss({transform:""})}).start().then(g)})}function s(){if(!m.target){throw Error("$mdMenu.show() expected a target to animate from in options.target")}angular.extend(m,{alreadyOpen:!1,isRemoved:!1,target:angular.element(m.target),parent:angular.element(m.parent),menuContentEl:angular.element(e[0].querySelector("md-menu-content"))})}function h(){var f=function(i,g){return r.throttle(function(){if(!m.isRemoved){var p=j(i,g);i.css(w.toCss(p))}})}(e,m);return K.addEventListener("resize",f),K.addEventListener("orientationchange",f),function(){K.removeEventListener("resize",f),K.removeEventListener("orientationchange",f)}}function o(){return m.backdrop?(m.backdrop.on("click",C),function(){m.backdrop.off("click",C)}):angular.noop}function C(f){f.preventDefault(),f.stopPropagation(),l.$apply(function(){m.mdMenuCtrl.close(!0,{closeAll:!0})})}function u(){function p(M){var O;switch(M.keyCode){case y.KEY_CODE.ESCAPE:m.mdMenuCtrl.close(!1,{closeAll:!0}),O=!0;break;case y.KEY_CODE.UP_ARROW:D(M,m.menuContentEl,m,-1)||m.nestLevel||m.mdMenuCtrl.triggerContainerProxy(M),O=!0;break;case y.KEY_CODE.DOWN_ARROW:D(M,m.menuContentEl,m,1)||m.nestLevel||m.mdMenuCtrl.triggerContainerProxy(M),O=!0;break;case y.KEY_CODE.LEFT_ARROW:m.nestLevel?m.mdMenuCtrl.close():m.mdMenuCtrl.triggerContainerProxy(M),O=!0;break;case y.KEY_CODE.RIGHT_ARROW:var N=G.getClosest(M.target,"MD-MENU");N&&N!=m.parent[0]?M.target.click():m.mdMenuCtrl.triggerContainerProxy(M),O=!0}O&&(M.preventDefault(),M.stopImmediatePropagation())}function L(O){function P(){l.$apply(function(){m.mdMenuCtrl.close(!0,{closeAll:!0})})}function Q(T,R){if(!T){return !1}for(var U,S=0;U=R[S];++S){if(J.hasAttribute(T,U)){return !0}}return !1}var N=O.target;do{if(N==m.menuContentEl[0]){return}if((Q(N,["ng-click","ng-href","ui-sref"])||"BUTTON"==N.nodeName||"MD-BUTTON"==N.nodeName)&&!Q(N,["md-prevent-menu-close"])){var M=G.getClosest(N,"MD-MENU");N.hasAttribute("disabled")||M&&M!=m.parent[0]||P();break}}while(N=N.parentNode)}if(!m.menuContentEl[0]){return angular.noop}m.menuContentEl.on("keydown",p),m.menuContentEl[0].addEventListener("click",L,!0);var g=m.menuContentEl[0].querySelector(J.buildSelector(["md-menu-focus-target","md-autofocus"]));if(!g){for(var f=m.menuContentEl[0].children.length,v=0;v<f;v++){var i=m.menuContentEl[0].children[v];if(g=i.querySelector(".md-button:not([disabled])")){break}if(i.firstElementChild&&!i.firstElementChild.disabled){g=i.firstElementChild;break}}}return g&&g.focus(),function(){m.menuContentEl.off("keydown",p),m.menuContentEl[0].removeEventListener("click",L,!0)}}return s(m),m.menuContentEl[0]?q.inherit(m.menuContentEl,m.target):I.warn("$mdMenu: Menu elements should always contain a `md-menu-content` element,otherwise interactivity features will not work properly.",e),m.cleanupResizing=h(),m.hideBackdrop=z(l,e,m),t().then(function(f){return m.alreadyOpen=!0,m.cleanupInteraction=u(),m.cleanupBackdrop=o(),e.addClass("md-clickable"),f})}function D(L,g,e,f){for(var m,v=G.getClosest(L.target,"MD-MENU-ITEM"),h=G.nodesToArray(g[0].children),M=h.indexOf(v),C=M+f;C>=0&&C<h.length;C+=f){var p=h[C].querySelector(".md-button");if(m=E(p)){break}}return m}function E(f){if(f&&f.getAttribute("tabindex")!=-1){return f.focus(),B[0].activeElement==f}}function k(g,f){f.preserveElement?d(g).style.display="none":d(g).parentNode===d(f.parent)&&d(f.parent).removeChild(d(g))}function j(U,aa){function Z(f){f.top=Math.max(Math.min(f.top,R.bottom-S.offsetHeight),R.top),f.left=Math.max(Math.min(f.left,R.right-S.offsetWidth),R.left)}function ac(){for(var f=0;f<ah.children.length;++f){if("none"!=K.getComputedStyle(ah.children[f]).display){return ah.children[f]}}}var V,S=U[0],ah=U[0].firstElementChild,ai=ah.getBoundingClientRect(),ab=B[0].body,ag=ab.getBoundingClientRect(),Y=K.getComputedStyle(ah),ae=aa.target[0].querySelector(J.buildSelector("md-menu-origin"))||aa.target[0],af=ae.getBoundingClientRect(),R={left:ag.left+b,top:Math.max(ag.top,0)+b,bottom:Math.max(ag.bottom,Math.max(ag.top,0)+ag.height)-b,right:ag.right-b},L={top:0,left:0,right:0,bottom:0},W={top:0,left:0,right:0,bottom:0},N=aa.mdMenuCtrl.positionMode();"target"!=N.top&&"target"!=N.left&&"target-right"!=N.left||(V=ac(),V&&(V=V.firstElementChild||V,V=V.querySelector(J.buildSelector("md-menu-align-target"))||V,L=V.getBoundingClientRect(),W={top:parseFloat(S.style.top||0),left:parseFloat(S.style.left||0)}));var T={},ad="top ";switch(N.top){case"target":T.top=W.top+af.top-L.top;break;case"cascade":T.top=af.top-parseFloat(Y.paddingTop)-ae.style.top;break;case"bottom":T.top=af.top+af.height;break;default:throw new Error('Invalid target mode "'+N.top+'" specified for md-menu on Y axis.')}var i="rtl"==G.bidi();switch(N.left){case"target":T.left=W.left+af.left-L.left,ad+=i?"right":"left";break;case"target-left":T.left=af.left,ad+="left";break;case"target-right":T.left=af.right-ai.width+(ai.right-L.right),ad+="right";break;case"cascade":var e=i?af.left-ai.width<R.left:af.right+ai.width<R.right;T.left=e?af.right-ae.style.left:af.left-ae.style.left-ai.width,ad+=e?"left":"right";break;case"right":i?(T.left=af.right-af.width,ad+="left"):(T.left=af.right-ai.width,ad+="right");break;case"left":i?(T.left=af.right-ai.width,ad+="right"):(T.left=af.left,ad+="left");break;default:throw new Error('Invalid target mode "'+N.left+'" specified for md-menu on X axis.')}var Q=aa.mdMenuCtrl.offsets();T.top+=Q.top,T.left+=Q.left,Z(T);var P=Math.round(100*Math.min(af.width/S.offsetWidth,1))/100,X=Math.round(100*Math.min(af.height/S.offsetHeight,1))/100;return{top:Math.round(T.top),left:Math.round(T.left),transform:aa.alreadyOpen?void 0:G.supplant("scale({0},{1})",[P,X]),transformOrigin:ad}}var J=G.prefixer(),w=G.dom.animator;return{parent:"body",onShow:x,onRemove:F,hasBackdrop:!0,disableParentScroll:!0,skipCompile:!0,preserveScope:!0,multiple:!0,themable:!0}}function d(f){return f instanceof angular.element&&(f=f[0]),f}a.$inject=["$mdUtil","$mdTheming","$mdConstant","$document","$window","$q","$$rAF","$animateCss","$animate","$log"];var b=8;return c("$mdMenu").setDefaults({methods:["target"],options:a})}goog.provide("ngmaterial.components.menu"),goog.require("ngmaterial.components.backdrop"),goog.require("ngmaterial.core"),angular.module("material.components.menu",["material.core","material.components.backdrop"]),MenuController.$inject=["$mdMenu","$attrs","$element","$scope","$mdUtil","$timeout","$rootScope","$q","$log"],angular.module("material.components.menu").controller("mdMenuCtrl",MenuController),MenuDirective.$inject=["$mdUtil"],angular.module("material.components.menu").directive("mdMenu",MenuDirective),MenuProvider.$inject=["$$interimElementProvider"],angular.module("material.components.menu").provider("$mdMenu",MenuProvider),ngmaterial.components.menu=angular.module("material.components.menu");