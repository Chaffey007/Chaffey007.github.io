/*!
 * AngularJS Material Design
 * https://github.com/angular/material
 * @license MIT
 * v1.1.5
 */
;goog.provide("ngmaterial.components.tooltip");goog.require("ngmaterial.components.panel");goog.require("ngmaterial.core");MdTooltipDirective["$inject"]=["$timeout","$window","$$rAF","$document","$interpolate","$mdUtil","$mdPanel","$$mdTooltipRegistry"];angular.module("material.components.tooltip",["material.core","material.components.panel"]).directive("mdTooltip",MdTooltipDirective).service("$$mdTooltipRegistry",MdTooltipRegistry);function MdTooltipDirective(e,c,k,f,g,a,b,n){var h="focus touchstart mouseenter";var o="blur touchcancel mouseleave";var j=100;var l=0;var d="bottom";var m={top:{x:b.xPosition.CENTER,y:b.yPosition.ABOVE},right:{x:b.xPosition.OFFSET_END,y:b.yPosition.CENTER},bottom:{x:b.xPosition.CENTER,y:b.yPosition.BELOW},left:{x:b.xPosition.OFFSET_START,y:b.yPosition.CENTER}};return{restrict:"E",priority:210,scope:{mdZIndex:"=?mdZIndex",mdDelay:"=?mdDelay",mdVisible:"=?mdVisible",mdAutohide:"=?mdAutohide",mdDirection:"@?mdDirection"},link:i};function i(r,u,D){var E="md-tooltip-"+a.nextUid();var z=a.getParentWithPointerEvents(u);var G=k.throttle(s);var F=false;var K,L,A,C,t,y,p=null;B();I();u.detach();s();q();w();function B(){r.mdZIndex=r.mdZIndex||j;r.mdDelay=r.mdDelay||l;if(!m[r.mdDirection]){r.mdDirection=d}}function I(N){var M=N||g(u.text().trim())(r.$parent);if((!z.attr("aria-label")&&!z.attr("aria-labelledby"))||z.attr("md-labeled-by-tooltip")){z.attr("aria-label",M);if(!z.attr("md-labeled-by-tooltip")){z.attr("md-labeled-by-tooltip",E)}}}function s(){B();if(C&&C.panelEl){C.panelEl.removeClass(K)}K="md-origin-"+r.mdDirection;L=m[r.mdDirection];A=b.newPanelPosition().relativeTo(z).addPanelPosition(L.x,L.y);if(C&&C.panelEl){C.panelEl.addClass(K);C.updatePosition(A)}}function q(){if(z[0]&&"MutationObserver" in c){var N=new MutationObserver(function(U){if(T(U)){a.nextTick(function(){H(false)})}});N.observe(z[0],{attributes:true})}p=false;n.register("scroll",P,true);n.register("blur",O);n.register("resize",G);r.$on("$destroy",R);z.on("mousedown",Q);z.on(h,M);function T(U){U.some(function(V){return V.attributeName==="disabled"&&z[0].disabled});return false}function P(){H(false)}function O(){p=document.activeElement===z[0]}function M(U){if(U.type==="focus"&&p){p=false}else{if(!r.mdVisible){z.on(o,S);H(true);if(U.type==="touchstart"){z.one("touchend",function(){a.nextTick(function(){f.one("touchend",S)},false)})}}}}function S(){t=r.hasOwnProperty("mdAutohide")?r.mdAutohide:D.hasOwnProperty("mdAutohide");if(t||F||f[0].activeElement!==z[0]){if(y){e.cancel(y);H.queued=false;y=null}z.off(o,S);z.triggerHandler("blur");H(false)}F=false}function Q(){F=true}function R(){n.deregister("scroll",P,true);n.deregister("blur",O);n.deregister("resize",G);z.off(h,M).off(o,S).off("mousedown",Q);S();N&&N.disconnect()}}function w(){if(u[0]&&"MutationObserver" in c){var M=new MutationObserver(function(O){O.forEach(function(P){if(P.attributeName==="md-visible"&&!r.visibleWatcher){r.visibleWatcher=r.$watch("mdVisible",J)}})});M.observe(u[0],{attributes:true});if(D.hasOwnProperty("mdVisible")){r.visibleWatcher=r.$watch("mdVisible",J)}}else{r.visibleWatcher=r.$watch("mdVisible",J)}r.$watch("mdDirection",s);u.one("$destroy",N);z.one("$destroy",N);r.$on("$destroy",function(){H(false);C&&C.destroy();M&&M.disconnect();u.remove()});if(u.text().indexOf(g.startSymbol())>-1){r.$watch(function(){return u.text().trim()},I)}function N(){r.$destroy()}}function H(M){if(H.queued&&H.value===!!M||!H.queued&&r.mdVisible===!!M){return}H.value=!!M;if(!H.queued){if(M){H.queued=true;y=e(function(){r.mdVisible=H.value;H.queued=false;y=null;if(!r.visibleWatcher){J(r.mdVisible)}},r.mdDelay)}else{a.nextTick(function(){r.mdVisible=false;if(!r.visibleWatcher){J(false)}})}}}function J(M){M?v():x()}function v(){if(!u[0].textContent.trim()){throw new Error("Text for the tooltip has not been provided. Please include text within the mdTooltip element.")}if(!C){var N=angular.element(document.body);var M=b.newPanelAnimation().openFrom(z).closeTo(z).withAnimation({open:"md-show",close:"md-hide"});var O={id:E,attachTo:N,contentElement:u,propagateContainerEvents:true,panelClass:"md-tooltip "+K,animation:M,position:A,zIndex:r.mdZIndex,focusOnOpen:false};C=b.create(O)}C.open().then(function(){C.panelEl.attr("role","tooltip")})}function x(){C&&C.close()}}}function MdTooltipRegistry(){var d={};var a=angular.element(window);return{register:c,deregister:e};function b(f){if(d[f.type]){d[f.type].forEach(function(g){g.call(this,f)},this)}}function c(i,h,f){var g=d[i]=d[i]||[];if(!g.length){f?window.addEventListener(i,b,true):a.on(i,b)}if(g.indexOf(h)===-1){g.push(h)}}function e(j,i,f){var g=d[j];var h=g?g.indexOf(i):-1;if(h>-1){g.splice(h,1);if(g.length===0){f?window.removeEventListener(j,b,true):a.off(j,b)}}}}ngmaterial.components.tooltip=angular.module("material.components.tooltip");