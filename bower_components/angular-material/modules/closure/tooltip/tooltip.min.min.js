/*!
 * AngularJS Material Design
 * https://github.com/angular/material
 * @license MIT
 * v1.1.5
 */
;goog.provide("ngmaterial.components.tooltip");goog.require("ngmaterial.components.panel");goog.require("ngmaterial.core");MdTooltipDirective["$inject"]=["$timeout","$window","$$rAF","$document","$interpolate","$mdUtil","$mdPanel","$$mdTooltipRegistry"];angular.module("material.components.tooltip",["material.core","material.components.panel"]).directive("mdTooltip",MdTooltipDirective).service("$$mdTooltipRegistry",MdTooltipRegistry);function MdTooltipDirective(z,B,t,y,x,D,C,q){var w="focus touchstart mouseenter";var p="blur touchcancel mouseleave";var u=100;var s=0;var A="bottom";var r={top:{x:C.xPosition.CENTER,y:C.yPosition.ABOVE},right:{x:C.xPosition.OFFSET_END,y:C.yPosition.CENTER},bottom:{x:C.xPosition.CENTER,y:C.yPosition.BELOW},left:{x:C.xPosition.OFFSET_START,y:C.yPosition.CENTER}};return{restrict:"E",priority:210,scope:{mdZIndex:"=?mdZIndex",mdDelay:"=?mdDelay",mdVisible:"=?mdVisible",mdAutohide:"=?mdAutohide",mdDirection:"@?mdDirection"},link:v};function v(P,m,N){var n="md-tooltip-"+D.nextUid();var c=D.getParentWithPointerEvents(m);var k=t.throttle(M);var l=false;var b,a,S,O,o,e,T=null;R();g();m.detach();M();Q();i();function R(){P.mdZIndex=P.mdZIndex||u;P.mdDelay=P.mdDelay||s;if(!r[P.mdDirection]){P.mdDirection=A}}function g(E){var F=E||x(m.text().trim())(P.$parent);if((!c.attr("aria-label")&&!c.attr("aria-labelledby"))||c.attr("md-labeled-by-tooltip")){c.attr("aria-label",F);if(!c.attr("md-labeled-by-tooltip")){c.attr("md-labeled-by-tooltip",n)}}}function M(){R();if(O&&O.panelEl){O.panelEl.removeClass(b)}b="md-origin-"+P.mdDirection;a=r[P.mdDirection];S=C.newPanelPosition().relativeTo(c).addPanelPosition(a.x,a.y);if(O&&O.panelEl){O.panelEl.addClass(b);O.updatePosition(S)}}function Q(){if(c[0]&&"MutationObserver" in B){var K=new MutationObserver(function(V){if(E(V)){D.nextTick(function(){h(false)})}});K.observe(c[0],{attributes:true})}T=false;q.register("scroll",I,true);q.register("blur",J);q.register("resize",k);P.$on("$destroy",G);c.on("mousedown",H);c.on(w,L);function E(V){V.some(function(U){return U.attributeName==="disabled"&&c[0].disabled});return false}function I(){h(false)}function J(){T=document.activeElement===c[0]}function L(V){if(V.type==="focus"&&T){T=false}else{if(!P.mdVisible){c.on(p,F);h(true);if(V.type==="touchstart"){c.one("touchend",function(){D.nextTick(function(){y.one("touchend",F)},false)})}}}}function F(){o=P.hasOwnProperty("mdAutohide")?P.mdAutohide:N.hasOwnProperty("mdAutohide");if(o||l||y[0].activeElement!==c[0]){if(e){z.cancel(e);h.queued=false;e=null}c.off(p,F);c.triggerHandler("blur");h(false)}l=false}function H(){l=true}function G(){q.deregister("scroll",I,true);q.deregister("blur",J);q.deregister("resize",k);c.off(w,L).off(p,F).off("mousedown",H);F();K&&K.disconnect()}}function i(){if(m[0]&&"MutationObserver" in B){var F=new MutationObserver(function(G){G.forEach(function(H){if(H.attributeName==="md-visible"&&!P.visibleWatcher){P.visibleWatcher=P.$watch("mdVisible",d)}})});F.observe(m[0],{attributes:true});if(N.hasOwnProperty("mdVisible")){P.visibleWatcher=P.$watch("mdVisible",d)}}else{P.visibleWatcher=P.$watch("mdVisible",d)}P.$watch("mdDirection",M);m.one("$destroy",E);c.one("$destroy",E);P.$on("$destroy",function(){h(false);O&&O.destroy();F&&F.disconnect();m.remove()});if(m.text().indexOf(x.startSymbol())>-1){P.$watch(function(){return m.text().trim()},g)}function E(){P.$destroy()}}function h(E){if(h.queued&&h.value===!!E||!h.queued&&P.mdVisible===!!E){return}h.value=!!E;if(!h.queued){if(E){h.queued=true;e=z(function(){P.mdVisible=h.value;h.queued=false;e=null;if(!P.visibleWatcher){d(P.mdVisible)}},P.mdDelay)}else{D.nextTick(function(){P.mdVisible=false;if(!P.visibleWatcher){d(false)}})}}}function d(E){E?j():f()}function j(){if(!m[0].textContent.trim()){throw new Error("Text for the tooltip has not been provided. Please include text within the mdTooltip element.")}if(!O){var F=angular.element(document.body);var G=C.newPanelAnimation().openFrom(c).closeTo(c).withAnimation({open:"md-show",close:"md-hide"});var E={id:n,attachTo:F,contentElement:m,propagateContainerEvents:true,panelClass:"md-tooltip "+b,animation:G,position:S,zIndex:P.mdZIndex,focusOnOpen:false};O=C.create(E)}O.open().then(function(){O.panelEl.attr("role","tooltip")})}function f(){O&&O.close()}}}function MdTooltipRegistry(){var i={};var g=angular.element(window);return{register:j,deregister:h};function f(a){if(i[a.type]){i[a.type].forEach(function(b){b.call(this,a)},this)}}function j(a,b,d){var c=i[a]=i[a]||[];if(!c.length){d?window.addEventListener(a,f,true):g.on(a,f)}if(c.indexOf(b)===-1){c.push(b)}}function h(a,b,e){var d=i[a];var c=d?d.indexOf(b):-1;if(c>-1){d.splice(c,1);if(d.length===0){e?window.removeEventListener(a,f,true):g.off(a,f)}}}}ngmaterial.components.tooltip=angular.module("material.components.tooltip");