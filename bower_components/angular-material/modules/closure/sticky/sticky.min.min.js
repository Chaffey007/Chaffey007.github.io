/*!
 * AngularJS Material Design
 * https://github.com/angular/material
 * @license MIT
 * v1.1.5
 */
;goog.provide("ngmaterial.components.sticky");goog.require("ngmaterial.components.content");goog.require("ngmaterial.core");MdSticky["$inject"]=["$mdConstant","$$rAF","$mdUtil","$compile"];angular.module("material.components.sticky",["material.core","material.components.content"]).factory("$mdSticky",MdSticky);function MdSticky(i,l,k,j){var m=k.checkStickySupport();return function n(c,d,b){var e=d.controller("mdContent");if(!e){return}if(m){d.css({position:m,top:0,"z-index":2})}else{var f=e.$element.data("$$sticky");if(!f){f=o(e);e.$element.data("$$sticky",f)}var g=b||j(d.clone())(c);var a=f.add(d,g);c.$on("$destroy",a)}};function o(t){var u=t.$element;var c=l.throttle(g);p(u);u.on("$scrollstart",c);u.on("$scroll",d);var v;return v={prev:null,current:null,next:null,items:[],add:a,refreshElements:g};function a(s,q){q.addClass("md-sticky-clone");var r={element:s,clone:q};v.items.push(r);k.nextTick(function(){u.prepend(r.clone)});c();return function x(){v.items.forEach(function(z,w){if(z.element[0]===s[0]){v.items.splice(w,1);z.clone.remove()}});c()}}function g(){v.items.forEach(f);v.items=v.items.sort(function(y,z){return y.top<z.top?-1:1});var r;var q=u.prop("scrollTop");for(var s=v.items.length-1;s>=0;s--){if(q>v.items[s].top){r=v.items[s];break}}e(r)}function f(s){var r=s.element[0];s.top=0;s.left=0;s.right=0;while(r&&r!==u[0]){s.top+=r.offsetTop;s.left+=r.offsetLeft;if(r.offsetParent){s.right+=r.offsetParent.offsetWidth-r.offsetWidth-r.offsetLeft}r=r.offsetParent}s.height=s.element.prop("offsetHeight");var q=k.floatingScrollbars()?"0":undefined;k.bidi(s.clone,"margin-left",s.left,q);k.bidi(s.clone,"margin-right",q,s.right)}function d(){var r=u.prop("scrollTop");var q=r>(d.prevScrollTop||0);d.prevScrollTop=r;if(r===0){e(null);return}if(q){if(v.next&&v.next.top<=r){e(v.next);return}if(v.current&&v.next&&v.next.top-r<=v.next.height){h(v.current,r+(v.next.top-v.next.height-r));return}}if(!q){if(v.current&&v.prev&&r<v.current.top){e(v.prev);return}if(v.next&&v.current&&(r>=(v.next.top-v.current.height))){h(v.current,r+(v.next.top-r-v.current.height));return}}if(v.current){h(v.current,r)}}function e(q){if(v.current===q){return}if(v.current){h(v.current,null);b(v.current,null)}if(q){b(q,"active")}v.current=q;var r=v.items.indexOf(q);v.next=v.items[r+1];v.prev=v.items[r-1];b(v.next,"next");b(v.prev,"prev")}function b(r,q){if(!r||r.state===q){return}if(r.state){r.clone.attr("sticky-prev-state",r.state);r.element.attr("sticky-prev-state",r.state)}r.clone.attr("sticky-state",q);r.element.attr("sticky-state",q);r.state=q}function h(q,r){if(!q){return}if(r===null||r===undefined){if(q.translateY){q.translateY=null;q.clone.css(i.CSS.TRANSFORM,"")}}else{q.translateY=r;k.bidi(q.clone,i.CSS.TRANSFORM,"translate3d("+q.left+"px,"+r+"px,0)","translateY("+r+"px)")}}}function p(d){var b=200;var a;var e;d.on("scroll touchmove",function(){if(!a){a=true;l.throttle(c);d.triggerHandler("$scrollstart")}d.triggerHandler("$scroll");e=+k.now()});function c(){if(+k.now()-e>b){a=false;d.triggerHandler("$scrollend")}else{d.triggerHandler("$scroll");l.throttle(c)}}}}ngmaterial.components.sticky=angular.module("material.components.sticky");