/*!
 * AngularJS Material Design
 * https://github.com/angular/material
 * @license MIT
 * v1.1.5
 */
;goog.provide("ngmaterial.components.sticky");goog.require("ngmaterial.components.content");goog.require("ngmaterial.core");MdSticky["$inject"]=["$mdConstant","$$rAF","$mdUtil","$compile"];angular.module("material.components.sticky",["material.core","material.components.content"]).factory("$mdSticky",MdSticky);function MdSticky(b,g,h,a){var f=h.checkStickySupport();return function e(k,j,l){var i=j.controller("mdContent");if(!i){return}if(f){j.css({position:f,top:0,"z-index":2})}else{var o=i.$element.data("$$sticky");if(!o){o=d(i);i.$element.data("$$sticky",o)}var n=l||a(j.clone())(k);var m=o.add(j,n);k.$on("$destroy",m)}};function d(j){var i=j.$element;var p=g.throttle(l);c(i);i.on("$scrollstart",p);i.on("$scroll",o);var s;return s={prev:null,current:null,next:null,items:[],add:r,refreshElements:l};function r(u,w){w.addClass("md-sticky-clone");var v={element:u,clone:w};s.items.push(v);h.nextTick(function(){i.prepend(v.clone)});p();return function t(){s.items.forEach(function(y,x){if(y.element[0]===u[0]){s.items.splice(x,1);y.clone.remove()}});p()}}function l(){s.items.forEach(m);s.items=s.items.sort(function(x,w){return x.top<w.top?-1:1});var u;var v=i.prop("scrollTop");for(var t=s.items.length-1;t>=0;t--){if(v>s.items[t].top){u=s.items[t];break}}n(u)}function m(t){var u=t.element[0];t.top=0;t.left=0;t.right=0;while(u&&u!==i[0]){t.top+=u.offsetTop;t.left+=u.offsetLeft;if(u.offsetParent){t.right+=u.offsetParent.offsetWidth-u.offsetWidth-u.offsetLeft}u=u.offsetParent}t.height=t.element.prop("offsetHeight");var v=h.floatingScrollbars()?"0":undefined;h.bidi(t.clone,"margin-left",t.left,v);h.bidi(t.clone,"margin-right",v,t.right)}function o(){var t=i.prop("scrollTop");var u=t>(o.prevScrollTop||0);o.prevScrollTop=t;if(t===0){n(null);return}if(u){if(s.next&&s.next.top<=t){n(s.next);return}if(s.current&&s.next&&s.next.top-t<=s.next.height){k(s.current,t+(s.next.top-s.next.height-t));return}}if(!u){if(s.current&&s.prev&&t<s.current.top){n(s.prev);return}if(s.next&&s.current&&(t>=(s.next.top-s.current.height))){k(s.current,t+(s.next.top-t-s.current.height));return}}if(s.current){k(s.current,t)}}function n(u){if(s.current===u){return}if(s.current){k(s.current,null);q(s.current,null)}if(u){q(u,"active")}s.current=u;var t=s.items.indexOf(u);s.next=s.items[t+1];s.prev=s.items[t-1];q(s.next,"next");q(s.prev,"prev")}function q(t,u){if(!t||t.state===u){return}if(t.state){t.clone.attr("sticky-prev-state",t.state);t.element.attr("sticky-prev-state",t.state)}t.clone.attr("sticky-state",u);t.element.attr("sticky-state",u);t.state=u}function k(u,t){if(!u){return}if(t===null||t===undefined){if(u.translateY){u.translateY=null;u.clone.css(b.CSS.TRANSFORM,"")}}else{u.translateY=t;h.bidi(u.clone,b.CSS.TRANSFORM,"translate3d("+u.left+"px,"+t+"px,0)","translateY("+t+"px)")}}}function c(j){var l=200;var m;var i;j.on("scroll touchmove",function(){if(!m){m=true;g.throttle(k);j.triggerHandler("$scrollstart")}j.triggerHandler("$scroll");i=+h.now()});function k(){if(+h.now()-i>l){m=false;j.triggerHandler("$scrollend")}else{j.triggerHandler("$scroll");g.throttle(k)}}}}ngmaterial.components.sticky=angular.module("material.components.sticky");