/*!
 * AngularJS Material Design
 * https://github.com/angular/material
 * @license MIT
 * v1.1.5
 */
;goog.provide("ngmaterial.components.bottomSheet");goog.require("ngmaterial.components.backdrop");goog.require("ngmaterial.core");MdBottomSheetDirective["$inject"]=["$mdBottomSheet"];MdBottomSheetProvider["$inject"]=["$$interimElementProvider"];angular.module("material.components.bottomSheet",["material.core","material.components.backdrop"]).directive("mdBottomSheet",MdBottomSheetDirective).provider("$mdBottomSheet",MdBottomSheetProvider);function MdBottomSheetDirective(b){return{restrict:"E",link:function a(d,c){c.addClass("_md");d.$on("$destroy",function(){b.destroy()})}}}function MdBottomSheetProvider(d){a["$inject"]=["$animate","$mdConstant","$mdUtil","$mdTheming","$mdBottomSheet","$rootElement","$mdGesture","$log"];var b=0.5;var c=80;return d("$mdBottomSheet").setDefaults({methods:["disableParentScroll","escapeToClose","clickOutsideToClose"],options:a});function a(k,e,f,i,l,o,j,p){var g;return{themable:true,onShow:m,onRemove:h,disableBackdrop:false,escapeToClose:true,clickOutsideToClose:true,disableParentScroll:true};function m(u,t,r,q){t=f.extractElementByName(t,"md-bottom-sheet");t.attr("tabindex","-1");if(t.hasClass("ng-cloak")){var v="$mdBottomSheet: using `<md-bottom-sheet ng-cloak >` will affect the bottom-sheet opening animations.";p.warn(v,t[0])}if(!r.disableBackdrop){g=f.createBackdrop(u,"md-bottom-sheet-backdrop md-opaque");g[0].tabIndex=-1;if(r.clickOutsideToClose){g.on("click",function(){f.nextTick(l.cancel,true)})}i.inherit(g,r.parent);k.enter(g,r.parent,null)}var s=new n(t,r.parent);r.bottomSheet=s;i.inherit(s.element,r.parent);if(r.disableParentScroll){r.restoreScroll=f.disableScrollAround(s.element,r.parent)}return k.enter(s.element,r.parent,g).then(function(){var w=f.findFocusTarget(t)||angular.element(t[0].querySelector("button")||t[0].querySelector("a")||t[0].querySelector(f.prefixer("ng-click",true)))||g;if(r.escapeToClose){r.rootElementKeyupCallback=function(x){if(x.keyCode===e.KEY_CODE.ESCAPE){f.nextTick(l.cancel,true)}};o.on("keyup",r.rootElementKeyupCallback);w&&w.focus()}})}function h(t,s,q){var r=q.bottomSheet;if(!q.disableBackdrop){k.leave(g)}return k.leave(r.element).then(function(){if(q.disableParentScroll){q.restoreScroll();delete q.restoreScroll}r.cleanup()})}function n(s,u){var v=j.register(u,"drag",{horizontal:false});u.on("$md.dragstart",w).on("$md.drag",r).on("$md.dragend",q);return{element:s,cleanup:function t(){v();u.off("$md.dragstart",w);u.off("$md.drag",r);u.off("$md.dragend",q)}};function w(x){s.css(e.CSS.TRANSITION_DURATION,"0ms")}function r(y){var x=y.pointer.distanceY;if(x<5){x=Math.max(-c,x/2)}s.css(e.CSS.TRANSFORM,"translate3d(0,"+(c+x)+"px,0)")}function q(z){if(z.pointer.distanceY>0&&(z.pointer.distanceY>20||Math.abs(z.pointer.velocityY)>b)){var y=s.prop("offsetHeight")-z.pointer.distanceY;var x=Math.min(y/z.pointer.velocityY*0.75,500);s.css(e.CSS.TRANSITION_DURATION,x+"ms");f.nextTick(l.cancel,true)}else{s.css(e.CSS.TRANSITION_DURATION,"");s.css(e.CSS.TRANSFORM,"")}}}}}ngmaterial.components.bottomSheet=angular.module("material.components.bottomSheet");