/*!
 * AngularJS Material Design
 * https://github.com/angular/material
 * @license MIT
 * v1.1.5
 */
;goog.provide("ngmaterial.components.bottomSheet");goog.require("ngmaterial.components.backdrop");goog.require("ngmaterial.core");MdBottomSheetDirective["$inject"]=["$mdBottomSheet"];MdBottomSheetProvider["$inject"]=["$$interimElementProvider"];angular.module("material.components.bottomSheet",["material.core","material.components.backdrop"]).directive("mdBottomSheet",MdBottomSheetDirective).provider("$mdBottomSheet",MdBottomSheetProvider);function MdBottomSheetDirective(c){return{restrict:"E",link:function d(a,b){b.addClass("_md");a.$on("$destroy",function(){c.destroy()})}}}function MdBottomSheetProvider(g){f["$inject"]=["$animate","$mdConstant","$mdUtil","$mdTheming","$mdBottomSheet","$rootElement","$mdGesture","$log"];var e=0.5;var h=80;return g("$mdBottomSheet").setDefaults({methods:["disableParentScroll","escapeToClose","clickOutsideToClose"],options:f});function f(r,x,w,t,q,b,s,a){var v;return{themable:true,onShow:d,onRemove:u,disableBackdrop:false,escapeToClose:true,clickOutsideToClose:true,disableParentScroll:true};function d(j,k,m,n){k=w.extractElementByName(k,"md-bottom-sheet");k.attr("tabindex","-1");if(k.hasClass("ng-cloak")){var i="$mdBottomSheet: using `<md-bottom-sheet ng-cloak >` will affect the bottom-sheet opening animations.";a.warn(i,k[0])}if(!m.disableBackdrop){v=w.createBackdrop(j,"md-bottom-sheet-backdrop md-opaque");v[0].tabIndex=-1;if(m.clickOutsideToClose){v.on("click",function(){w.nextTick(q.cancel,true)})}t.inherit(v,m.parent);r.enter(v,m.parent,null)}var l=new c(k,m.parent);m.bottomSheet=l;t.inherit(l.element,m.parent);if(m.disableParentScroll){m.restoreScroll=w.disableScrollAround(l.element,m.parent)}return r.enter(l.element,m.parent,v).then(function(){var o=w.findFocusTarget(k)||angular.element(k[0].querySelector("button")||k[0].querySelector("a")||k[0].querySelector(w.prefixer("ng-click",true)))||v;if(m.escapeToClose){m.rootElementKeyupCallback=function(p){if(p.keyCode===x.KEY_CODE.ESCAPE){w.nextTick(q.cancel,true)}};b.on("keyup",m.rootElementKeyupCallback);o&&o.focus()}})}function u(i,j,l){var k=l.bottomSheet;if(!l.disableBackdrop){r.leave(v)}return r.leave(k.element).then(function(){if(l.disableParentScroll){l.restoreScroll();delete l.restoreScroll}k.cleanup()})}function c(m,k){var j=s.register(k,"drag",{horizontal:false});k.on("$md.dragstart",i).on("$md.drag",n).on("$md.dragend",o);return{element:m,cleanup:function l(){j();k.off("$md.dragstart",i);k.off("$md.drag",n);k.off("$md.dragend",o)}};function i(p){m.css(x.CSS.TRANSITION_DURATION,"0ms")}function n(z){var p=z.pointer.distanceY;if(p<5){p=Math.max(-h,p/2)}m.css(x.CSS.TRANSFORM,"translate3d(0,"+(h+p)+"px,0)")}function o(A){if(A.pointer.distanceY>0&&(A.pointer.distanceY>20||Math.abs(A.pointer.velocityY)>e)){var B=m.prop("offsetHeight")-A.pointer.distanceY;var p=Math.min(B/A.pointer.velocityY*0.75,500);m.css(x.CSS.TRANSITION_DURATION,p+"ms");w.nextTick(q.cancel,true)}else{m.css(x.CSS.TRANSITION_DURATION,"");m.css(x.CSS.TRANSFORM,"")}}}}}ngmaterial.components.bottomSheet=angular.module("material.components.bottomSheet");