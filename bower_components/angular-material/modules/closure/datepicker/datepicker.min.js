/*!
 * AngularJS Material Design
 * https://github.com/angular/material
 * @license MIT
 * v1.1.5
 */
;goog.provide("ngmaterial.components.datepicker");goog.require("ngmaterial.components.icon");goog.require("ngmaterial.components.virtualRepeat");goog.require("ngmaterial.core");angular.module("material.components.datepicker",["material.core","material.components.icon","material.components.virtualRepeat"]);(function(){d["$inject"]=["$element","$scope","$$mdDateUtil","$mdUtil","$mdConstant","$mdTheming","$$rAF","$attrs","$mdDateLocale"];angular.module("material.components.datepicker").directive("mdCalendar",b);function b(){return{template:function(f,e){var h=e.hasOwnProperty("ngIf")?"":'ng-if="calendarCtrl.isInitialized"';var g='<div ng-switch="calendarCtrl.currentView" '+h+'><md-calendar-year ng-switch-when="year"></md-calendar-year><md-calendar-month ng-switch-default></md-calendar-month></div>';return g},scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",dateFilter:"=mdDateFilter",_currentView:"@mdCurrentView"},require:["ngModel","mdCalendar"],controller:d,controllerAs:"calendarCtrl",bindToController:true,link:function(i,g,f,j){var e=j[0];var h=j[1];h.configureNgModel(e)}}}var a=340;var c=0;function d(o,n,k,f,e,i,l,m,g){i(o);this.$element=o;this.$scope=n;this.dateUtil=k;this.$mdUtil=f;this.keyCode=e.KEY_CODE;this.$$rAF=l;this.$mdDateLocale=g;this.today=this.dateUtil.createDateAtMidnight();this.ngModelCtrl=null;this.SELECTED_DATE_CLASS="md-calendar-selected-date";this.TODAY_CLASS="md-calendar-date-today";this.FOCUSED_DATE_CLASS="md-focus";this.id=c++;this.displayDate=null;this.selectedDate=null;this.firstRenderableDate=null;this.lastRenderableDate=null;this.isInitialized=false;this.width=0;this.scrollbarWidth=0;if(!m.tabindex){o.attr("tabindex","-1")}var j=angular.bind(this,this.handleKeyEvent);var h;if(o.parent().hasClass("md-datepicker-calendar")){h=angular.element(document.body)}else{h=o}h.on("keydown",j);n.$on("$destroy",function(){h.off("keydown",j)});if(angular.version.major===1&&angular.version.minor<=4){this.$onInit()}}d.prototype.$onInit=function(){this.currentView=this._currentView||"month";var e=this.$mdDateLocale;if(this.minDate&&this.minDate>e.firstRenderableDate){this.firstRenderableDate=this.minDate}else{this.firstRenderableDate=e.firstRenderableDate}if(this.maxDate&&this.maxDate<e.lastRenderableDate){this.lastRenderableDate=this.maxDate}else{this.lastRenderableDate=e.lastRenderableDate}};d.prototype.configureNgModel=function(f){var e=this;e.ngModelCtrl=f;e.$mdUtil.nextTick(function(){e.isInitialized=true});f.$render=function(){var g=this.$viewValue;e.$scope.$broadcast("md-calendar-parent-changed",g);if(!e.selectedDate){e.selectedDate=g}if(!e.displayDate){e.displayDate=e.selectedDate||e.today}}};d.prototype.setNgModelValue=function(e){var f=this.dateUtil.createDateAtMidnight(e);this.focus(f);this.$scope.$emit("md-calendar-change",f);this.ngModelCtrl.$setViewValue(f);this.ngModelCtrl.$render();return f};d.prototype.setCurrentView=function(g,f){var e=this;e.$mdUtil.nextTick(function(){e.currentView=g;if(f){e.displayDate=angular.isDate(f)?f:new Date(f)}})};d.prototype.focus=function(g){if(this.dateUtil.isValidDate(g)){var h=this.$element[0].querySelector(".md-focus");if(h){h.classList.remove(this.FOCUSED_DATE_CLASS)}var i=this.getDateId(g,this.currentView);var f=document.getElementById(i);if(f){f.classList.add(this.FOCUSED_DATE_CLASS);f.focus();this.displayDate=g}}else{var e=this.$element[0].querySelector("[ng-switch]");if(e){e.focus()}}};d.prototype.getActionFromKeyEvent=function(e){var f=this.keyCode;switch(e.which){case f.ENTER:return"select";case f.RIGHT_ARROW:return"move-right";case f.LEFT_ARROW:return"move-left";case f.DOWN_ARROW:return e.metaKey?"move-page-down":"move-row-down";case f.UP_ARROW:return e.metaKey?"move-page-up":"move-row-up";case f.PAGE_DOWN:return"move-page-down";case f.PAGE_UP:return"move-page-up";case f.HOME:return"start";case f.END:return"end";default:return null}};d.prototype.handleKeyEvent=function(f){var e=this;this.$scope.$apply(function(){if(f.which==e.keyCode.ESCAPE||f.which==e.keyCode.TAB){e.$scope.$emit("md-calendar-close");if(f.which==e.keyCode.TAB){f.preventDefault()}return}var g=e.getActionFromKeyEvent(f);if(g){f.preventDefault();f.stopPropagation();e.$scope.$broadcast("md-calendar-parent-action",g)}})};d.prototype.hideVerticalScrollbar=function(h){var f=this;var g=h.$element[0];var e=g.querySelector(".md-calendar-scroll-mask");if(f.width>0){i()}else{f.$$rAF(function(){var j=h.calendarScroller;f.scrollbarWidth=j.offsetWidth-j.clientWidth;f.width=g.querySelector("table").offsetWidth;i()})}function i(){var k=f.width||a;var l=f.scrollbarWidth;var j=h.calendarScroller;e.style.width=k+"px";j.style.width=(k+l)+"px";j.style.paddingRight=l+"px"}};d.prototype.getDateId=function(e,f){if(!f){throw new Error("A namespace for the date id has to be specified.")}return["md",this.id,f,e.getFullYear(),e.getMonth(),e.getDate()].join("-")};d.prototype.updateVirtualRepeat=function(){var f=this.$scope;var e=f.$on("$md-resize-enable",function(){if(!f.$$phase){f.$apply()}e()})}})();(function(){d["$inject"]=["$element","$scope","$animate","$q","$$mdDateUtil","$mdDateLocale"];angular.module("material.components.datepicker").directive("mdCalendarMonth",a);var b=265;var c=45;function a(){return{template:'<table aria-hidden="true" class="md-calendar-day-header"><thead></thead></table><div class="md-calendar-scroll-mask"><md-virtual-repeat-container class="md-calendar-scroll-container" md-offset-size="'+(c-b)+'"><table role="grid" tabindex="0" class="md-calendar" aria-readonly="true"><tbody md-calendar-month-body role="rowgroup" md-virtual-repeat="i in monthCtrl.items" md-month-offset="$index" class="md-calendar-month" md-start-index="monthCtrl.getSelectedMonthIndex()" md-item-size="'+b+'"><tr aria-hidden="true" md-force-height="\''+b+"px'\"></tr></tbody></table></md-virtual-repeat-container></div>",require:["^^mdCalendar","mdCalendarMonth"],controller:d,controllerAs:"monthCtrl",bindToController:true,link:function(h,f,e,i){var j=i[0];var g=i[1];g.initialize(j)}}}function d(f,i,k,h,j,e){this.$element=f;this.$scope=i;this.$animate=k;this.$q=h;this.dateUtil=j;this.dateLocale=e;this.calendarScroller=f[0].querySelector(".md-virtual-repeat-scroller");this.isInitialized=false;this.isMonthTransitionInProgress=false;var g=this;this.cellClickHandler=function(){var l=j.getTimestampFromNode(this);g.$scope.$apply(function(){g.calendarCtrl.setNgModelValue(l)})};this.headerClickHandler=function(){g.calendarCtrl.setCurrentView("year",j.getTimestampFromNode(this))}}d.prototype.initialize=function(e){this.items={length:this.dateUtil.getMonthDistance(e.firstRenderableDate,e.lastRenderableDate)+2};this.calendarCtrl=e;this.attachScopeListeners();e.updateVirtualRepeat();e.ngModelCtrl&&e.ngModelCtrl.$render()};d.prototype.getSelectedMonthIndex=function(){var e=this.calendarCtrl;return this.dateUtil.getMonthDistance(e.firstRenderableDate,e.displayDate||e.selectedDate||e.today)};d.prototype.changeSelectedDate=function(g){var f=this;var h=f.calendarCtrl;var e=h.selectedDate;h.selectedDate=g;this.changeDisplayDate(g).then(function(){var i=h.SELECTED_DATE_CLASS;var j="month";if(e){var k=document.getElementById(h.getDateId(e,j));if(k){k.classList.remove(i);k.setAttribute("aria-selected","false")}}if(g){var l=document.getElementById(h.getDateId(g,j));if(l){l.classList.add(i);l.setAttribute("aria-selected","true")}}})};d.prototype.changeDisplayDate=function(f){if(!this.isInitialized){this.buildWeekHeader();this.calendarCtrl.hideVerticalScrollbar(this);this.isInitialized=true;return this.$q.when()}if(!this.dateUtil.isValidDate(f)||this.isMonthTransitionInProgress){return this.$q.when()}this.isMonthTransitionInProgress=true;var g=this.animateDateChange(f);this.calendarCtrl.displayDate=f;var e=this;g.then(function(){e.isMonthTransitionInProgress=false});return g};d.prototype.animateDateChange=function(e){if(this.dateUtil.isValidDate(e)){var f=this.dateUtil.getMonthDistance(this.calendarCtrl.firstRenderableDate,e);this.calendarScroller.scrollTop=f*b}return this.$q.when()};d.prototype.buildWeekHeader=function(){var e=this.dateLocale.firstDayOfWeek;var h=this.dateLocale.shortDays;var j=document.createElement("tr");for(var f=0;f<7;f++){var g=document.createElement("th");g.textContent=h[(f+e)%7];j.appendChild(g)}this.$element.find("thead").append(j)};d.prototype.attachScopeListeners=function(){var e=this;e.$scope.$on("md-calendar-parent-changed",function(f,g){e.changeSelectedDate(g)});e.$scope.$on("md-calendar-parent-action",angular.bind(this,this.handleKeyEvent))};d.prototype.handleKeyEvent=function(h,i){var j=this.calendarCtrl;var f=j.displayDate;if(i==="select"){j.setNgModelValue(f)}else{var g=null;var e=this.dateUtil;switch(i){case"move-right":g=e.incrementDays(f,1);break;case"move-left":g=e.incrementDays(f,-1);break;case"move-page-down":g=e.incrementMonths(f,1);break;case"move-page-up":g=e.incrementMonths(f,-1);break;case"move-row-down":g=e.incrementDays(f,7);break;case"move-row-up":g=e.incrementDays(f,-7);break;case"start":g=e.getFirstDateOfMonth(f);break;case"end":g=e.getLastDateOfMonth(f);break}if(g){g=this.dateUtil.clampDate(g,j.minDate,j.maxDate);this.changeDisplayDate(g).then(function(){j.focus(g)})}}}})();(function(){b["$inject"]=["$compile","$$mdSvgRegistry"];a["$inject"]=["$element","$$mdDateUtil","$mdDateLocale"];angular.module("material.components.datepicker").directive("mdCalendarMonthBody",b);function b(d,e){var c=d('<md-icon md-svg-src="'+e.mdTabsArrow+'"></md-icon>')({})[0];return{require:["^^mdCalendar","^^mdCalendarMonth","mdCalendarMonthBody"],scope:{offset:"=mdMonthOffset"},controller:a,controllerAs:"mdMonthBodyCtrl",bindToController:true,link:function(j,h,f,k){var l=k[0];var i=k[1];var g=k[2];g.calendarCtrl=l;g.monthCtrl=i;g.arrowIcon=c.cloneNode(true);j.$watch(function(){return g.offset},function(m){if(angular.isNumber(m)){g.generateContent()}})}}}function a(d,e,c){this.$element=d;this.dateUtil=e;this.dateLocale=c;this.monthCtrl=null;this.calendarCtrl=null;this.offset=null;this.focusAfterAppend=null}a.prototype.generateContent=function(){var c=this.dateUtil.incrementMonths(this.calendarCtrl.firstRenderableDate,this.offset);this.$element.empty().append(this.buildCalendarForMonth(c));if(this.focusAfterAppend){this.focusAfterAppend.classList.add(this.calendarCtrl.FOCUSED_DATE_CLASS);this.focusAfterAppend.focus();this.focusAfterAppend=null}};a.prototype.buildDateCell=function(g){var e=this.monthCtrl;var h=this.calendarCtrl;var c=document.createElement("td");c.tabIndex=-1;c.classList.add("md-calendar-date");c.setAttribute("role","gridcell");if(g){c.setAttribute("tabindex","-1");c.setAttribute("aria-label",this.dateLocale.longDateFormatter(g));c.id=h.getDateId(g,"month");c.setAttribute("data-timestamp",g.getTime());if(this.dateUtil.isSameDay(g,h.today)){c.classList.add(h.TODAY_CLASS)}if(this.dateUtil.isValidDate(h.selectedDate)&&this.dateUtil.isSameDay(g,h.selectedDate)){c.classList.add(h.SELECTED_DATE_CLASS);c.setAttribute("aria-selected","true")}var d=this.dateLocale.dates[g.getDate()];if(this.isDateEnabled(g)){var f=document.createElement("span");f.classList.add("md-calendar-date-selection-indicator");f.textContent=d;c.appendChild(f);c.addEventListener("click",e.cellClickHandler);if(h.displayDate&&this.dateUtil.isSameDay(g,h.displayDate)){this.focusAfterAppend=c}}else{c.classList.add("md-calendar-date-disabled");c.textContent=d}}return c};a.prototype.isDateEnabled=function(c){return this.dateUtil.isDateWithinRange(c,this.calendarCtrl.minDate,this.calendarCtrl.maxDate)&&(!angular.isFunction(this.calendarCtrl.dateFilter)||this.calendarCtrl.dateFilter(c))};a.prototype.buildDateRow=function(c){var d=document.createElement("tr");d.setAttribute("role","row");d.setAttribute("aria-label",this.dateLocale.weekNumberFormatter(c));return d};a.prototype.buildCalendarForMonth=function(u){var x=this.dateUtil.isValidDate(u)?u:new Date();var s=this.dateUtil.getFirstDateOfMonth(x);var c=this.getLocaleDay_(s);var l=this.dateUtil.getNumberOfDaysInMonth(x);var w=document.createDocumentFragment();var n=1;var k=this.buildDateRow(n);w.appendChild(k);var h=this.offset===this.monthCtrl.items.length-1;var g=0;var e=document.createElement("td");var r=document.createElement("span");r.textContent=this.dateLocale.monthHeaderFormatter(x);e.appendChild(r);e.classList.add("md-calendar-month-label");if(this.calendarCtrl.maxDate&&s>this.calendarCtrl.maxDate){e.classList.add("md-calendar-month-label-disabled")}else{e.addEventListener("click",this.monthCtrl.headerClickHandler);e.setAttribute("data-timestamp",s.getTime());e.setAttribute("aria-label",this.dateLocale.monthFormatter(x));e.appendChild(this.arrowIcon.cloneNode(true))}if(c<=2){e.setAttribute("colspan","7");var o=this.buildDateRow();o.appendChild(e);w.insertBefore(o,k);if(h){return w}}else{g=3;e.setAttribute("colspan","3");k.appendChild(e)}for(var t=g;t<c;t++){k.appendChild(this.buildDateCell())}var p=c;var m=s;for(var v=1;v<=l;v++){if(p===7){if(h){return w}p=0;n++;k=this.buildDateRow(n);w.appendChild(k)}m.setDate(v);var f=this.buildDateCell(m);k.appendChild(f);p++}while(k.childNodes.length<7){k.appendChild(this.buildDateCell())}while(w.childNodes.length<6){var y=this.buildDateRow();for(var q=0;q<7;q++){y.appendChild(this.buildDateCell())}w.appendChild(y)}return w};a.prototype.getLocaleDay_=function(c){return(c.getDay()+(7-this.dateLocale.firstDayOfWeek))%7}})();(function(){c["$inject"]=["$element","$scope","$animate","$q","$$mdDateUtil"];angular.module("material.components.datepicker").directive("mdCalendarYear",a);var b=88;function a(){return{template:'<div class="md-calendar-scroll-mask"><md-virtual-repeat-container class="md-calendar-scroll-container"><table role="grid" tabindex="0" class="md-calendar" aria-readonly="true"><tbody md-calendar-year-body role="rowgroup" md-virtual-repeat="i in yearCtrl.items" md-year-offset="$index" class="md-calendar-year" md-start-index="yearCtrl.getFocusedYearIndex()" md-item-size="'+b+'"><tr aria-hidden="true" md-force-height="\''+b+"px'\"></tr></tbody></table></md-virtual-repeat-container></div>",require:["^^mdCalendar","mdCalendarYear"],controller:c,controllerAs:"yearCtrl",bindToController:true,link:function(f,e,d,h){var i=h[0];var g=h[1];g.initialize(i)}}}function c(d,g,i,f,h){this.$element=d;this.$scope=g;this.$animate=i;this.$q=f;this.dateUtil=h;this.calendarScroller=d[0].querySelector(".md-virtual-repeat-scroller");this.isInitialized=false;this.isMonthTransitionInProgress=false;var e=this;this.cellClickHandler=function(){e.calendarCtrl.setCurrentView("month",h.getTimestampFromNode(this))}}c.prototype.initialize=function(d){this.items={length:this.dateUtil.getYearDistance(d.firstRenderableDate,d.lastRenderableDate)+1};this.calendarCtrl=d;this.attachScopeListeners();d.updateVirtualRepeat();d.ngModelCtrl&&d.ngModelCtrl.$render()};c.prototype.getFocusedYearIndex=function(){var d=this.calendarCtrl;return this.dateUtil.getYearDistance(d.firstRenderableDate,d.displayDate||d.selectedDate||d.today)};c.prototype.changeDate=function(e){if(!this.isInitialized){this.calendarCtrl.hideVerticalScrollbar(this);this.isInitialized=true;return this.$q.when()}else{if(this.dateUtil.isValidDate(e)&&!this.isMonthTransitionInProgress){var d=this;var f=this.animateDateChange(e);d.isMonthTransitionInProgress=true;d.calendarCtrl.displayDate=e;return f.then(function(){d.isMonthTransitionInProgress=false})}}};c.prototype.animateDateChange=function(d){if(this.dateUtil.isValidDate(d)){var e=this.dateUtil.getYearDistance(this.calendarCtrl.firstRenderableDate,d);this.calendarScroller.scrollTop=e*b}return this.$q.when()};c.prototype.handleKeyEvent=function(i,j){var k=this.calendarCtrl;var f=k.displayDate;if(j==="select"){this.changeDate(f).then(function(){k.setCurrentView("month",f);k.focus(f)})}else{var g=null;var e=this.dateUtil;switch(j){case"move-right":g=e.incrementMonths(f,1);break;case"move-left":g=e.incrementMonths(f,-1);break;case"move-row-down":g=e.incrementMonths(f,6);break;case"move-row-up":g=e.incrementMonths(f,-6);break}if(g){var h=k.minDate?e.getFirstDateOfMonth(k.minDate):null;var d=k.maxDate?e.getFirstDateOfMonth(k.maxDate):null;g=e.getFirstDateOfMonth(this.dateUtil.clampDate(g,h,d));this.changeDate(g).then(function(){k.focus(g)})}}};c.prototype.attachScopeListeners=function(){var d=this;d.$scope.$on("md-calendar-parent-changed",function(e,f){d.changeDate(f)});d.$scope.$on("md-calendar-parent-action",angular.bind(d,d.handleKeyEvent))}})();(function(){a["$inject"]=["$element","$$mdDateUtil","$mdDateLocale"];angular.module("material.components.datepicker").directive("mdCalendarYearBody",b);function b(){return{require:["^^mdCalendar","^^mdCalendarYear","mdCalendarYearBody"],scope:{offset:"=mdYearOffset"},controller:a,controllerAs:"mdYearBodyCtrl",bindToController:true,link:function(e,d,c,h){var i=h[0];var g=h[1];var f=h[2];f.calendarCtrl=i;f.yearCtrl=g;e.$watch(function(){return f.offset},function(j){if(angular.isNumber(j)){f.generateContent()}})}}}function a(d,e,c){this.$element=d;this.dateUtil=e;this.dateLocale=c;this.calendarCtrl=null;this.yearCtrl=null;this.offset=null;this.focusAfterAppend=null}a.prototype.generateContent=function(){var c=this.dateUtil.incrementYears(this.calendarCtrl.firstRenderableDate,this.offset);this.$element.empty().append(this.buildCalendarForYear(c));if(this.focusAfterAppend){this.focusAfterAppend.classList.add(this.calendarCtrl.FOCUSED_DATE_CLASS);this.focusAfterAppend.focus();this.focusAfterAppend=null}};a.prototype.buildMonthCell=function(e,h){var j=this.calendarCtrl;var g=this.yearCtrl;var c=this.buildBlankCell();var i=new Date(e,h,1);c.setAttribute("aria-label",this.dateLocale.monthFormatter(i));c.id=j.getDateId(i,"year");c.setAttribute("data-timestamp",i.getTime());if(this.dateUtil.isSameMonthAndYear(i,j.today)){c.classList.add(j.TODAY_CLASS)}if(this.dateUtil.isValidDate(j.selectedDate)&&this.dateUtil.isSameMonthAndYear(i,j.selectedDate)){c.classList.add(j.SELECTED_DATE_CLASS);c.setAttribute("aria-selected","true")}var d=this.dateLocale.shortMonths[h];if(this.dateUtil.isMonthWithinRange(i,j.minDate,j.maxDate)){var f=document.createElement("span");f.classList.add("md-calendar-date-selection-indicator");f.textContent=d;c.appendChild(f);c.addEventListener("click",g.cellClickHandler);if(j.displayDate&&this.dateUtil.isSameMonthAndYear(i,j.displayDate)){this.focusAfterAppend=c}}else{c.classList.add("md-calendar-date-disabled");c.textContent=d}return c};a.prototype.buildBlankCell=function(){var c=document.createElement("td");c.tabIndex=-1;c.classList.add("md-calendar-date");c.setAttribute("role","gridcell");c.setAttribute("tabindex","-1");return c};a.prototype.buildCalendarForYear=function(e){var g=e.getFullYear();var d=document.createDocumentFragment();var k,f;var j=document.createElement("tr");var h=document.createElement("td");h.className="md-calendar-month-label";h.textContent=g;j.appendChild(h);for(f=0;f<6;f++){j.appendChild(this.buildMonthCell(g,f))}d.appendChild(j);var c=document.createElement("tr");c.appendChild(this.buildBlankCell());for(f=6;f<12;f++){c.appendChild(this.buildMonthCell(g,f))}d.appendChild(c);return d}})();(function(){angular.module("material.components.datepicker").config(["$provide",function(b){function a(){this.months=null;this.shortMonths=null;this.days=null;this.shortDays=null;this.dates=null;this.firstDayOfWeek=0;this.formatDate=null;this.parseDate=null;this.monthHeaderFormatter=null;this.weekNumberFormatter=null;this.longDateFormatter=null;this.msgCalendar="";this.msgOpenCalendar=""}a.prototype.$get=function(h,n){function d(i,w){if(!i){return""}var v=i.toLocaleTimeString();var u=i;if(i.getHours()===0&&(v.indexOf("11:")!==-1||v.indexOf("23:")!==-1)){u=new Date(i.getFullYear(),i.getMonth(),i.getDate(),1,0,0)}return n("date")(u,"M/d/yyyy",w)}function j(i){return new Date(i)}function c(u){u=u.trim();var i=/^(([a-zA-Z]{3,}|[0-9]{1,4})([ \.,]+|[\/\-])){2}([a-zA-Z]{3,}|[0-9]{1,4})$/;return i.test(u)}function t(i){return l.shortMonths[i.getMonth()]+" "+i.getFullYear()}function r(i){return l.months[i.getMonth()]+" "+i.getFullYear()}function f(i){return"Week "+i}function g(i){return[l.days[i.getDay()],l.months[i.getMonth()],l.dates[i.getDate()],i.getFullYear()].join(" ")}var q=h.DATETIME_FORMATS.SHORTDAY.map(function(i){return i.substring(0,1)});var s=Array(32);for(var k=1;k<=31;k++){s[k]=k}var m="Calendar";var p="Open calendar";var e=new Date(1880,0,1);var o=new Date(e.getFullYear()+250,0,1);var l={months:this.months||h.DATETIME_FORMATS.MONTH,shortMonths:this.shortMonths||h.DATETIME_FORMATS.SHORTMONTH,days:this.days||h.DATETIME_FORMATS.DAY,shortDays:this.shortDays||q,dates:this.dates||s,firstDayOfWeek:this.firstDayOfWeek||0,formatDate:this.formatDate||d,parseDate:this.parseDate||j,isDateComplete:this.isDateComplete||c,monthHeaderFormatter:this.monthHeaderFormatter||t,monthFormatter:this.monthFormatter||r,weekNumberFormatter:this.weekNumberFormatter||f,longDateFormatter:this.longDateFormatter||g,msgCalendar:this.msgCalendar||m,msgOpenCalendar:this.msgOpenCalendar||p,firstRenderableDate:this.firstRenderableDate||e,lastRenderableDate:this.lastRenderableDate||o};return l};a.prototype.$get["$inject"]=["$locale","$filter"];b.provider("$mdDateLocale",new a())}])})();(function(){angular.module("material.components.datepicker").factory("$$mdDateUtil",function(){return{getFirstDateOfMonth:j,getNumberOfDaysInMonth:s,getDateInNextMonth:k,getDateInPreviousMonth:c,isInNextMonth:l,isInPreviousMonth:d,getDateMidpoint:w,isSameMonthAndYear:r,getWeekOfMonth:u,incrementDays:m,incrementMonths:v,getLastDateOfMonth:b,isSameDay:i,getMonthDistance:e,isValidDate:g,setDateTimeToMidnight:a,createDateAtMidnight:h,isDateWithinRange:f,incrementYears:p,getYearDistance:n,clampDate:o,getTimestampFromNode:t,isMonthWithinRange:q};function j(x){return new Date(x.getFullYear(),x.getMonth(),1)}function s(x){return new Date(x.getFullYear(),x.getMonth()+1,0).getDate()}function k(x){return new Date(x.getFullYear(),x.getMonth()+1,1)}function c(x){return new Date(x.getFullYear(),x.getMonth()-1,1)}function r(y,x){return y.getFullYear()===x.getFullYear()&&y.getMonth()===x.getMonth()}function i(y,x){return y.getDate()==x.getDate()&&r(y,x)}function l(x,z){var y=k(x);return r(y,z)}function d(x,z){var y=c(x);return r(z,y)}function w(y,x){return h((y.getTime()+x.getTime())/2)}function u(x){var y=j(x);return Math.floor((y.getDay()+x.getDate()-1)/7)}function m(x,y){return new Date(x.getFullYear(),x.getMonth(),x.getDate()+y)}function v(z,x){var A=new Date(z.getFullYear(),z.getMonth()+x,1);var y=s(A);if(y<z.getDate()){A.setDate(y)}else{A.setDate(z.getDate())}return A}function e(y,x){return(12*(x.getFullYear()-y.getFullYear()))+(x.getMonth()-y.getMonth())}function b(x){return new Date(x.getFullYear(),x.getMonth(),s(x))}function g(x){return x&&x.getTime&&!isNaN(x.getTime())}function a(x){if(g(x)){x.setHours(0,0,0,0)}}function h(x){var y;if(angular.isUndefined(x)){y=new Date()}else{y=new Date(x)}a(y);return y}function f(A,B,C){var z=h(A);var y=g(B)?h(B):null;var x=g(C)?h(C):null;return(!y||y<=z)&&(!x||x>=z)}function p(y,x){return v(y,x*12)}function n(y,x){return x.getFullYear()-y.getFullYear()}function o(x,y,z){var A=x;if(y&&x<y){A=new Date(y.getTime())}if(z&&x>z){A=new Date(z.getTime())}return A}function t(x){if(x&&x.hasAttribute("data-timestamp")){return Number(x.getAttribute("data-timestamp"))}}function q(x,z,B){var A=x.getMonth();var y=x.getFullYear();return(!z||z.getFullYear()<y||z.getMonth()<=A)&&(!B||B.getFullYear()>y||B.getMonth()>=A)}})})();(function(){b["$inject"]=["$scope","$element","$attrs","$window","$mdConstant","$mdTheming","$mdUtil","$mdDateLocale","$$mdDateUtil","$$rAF","$filter"];j["$inject"]=["$$mdSvgRegistry","$mdUtil","$mdAria","inputDirective"];angular.module("material.components.datepicker").directive("mdDatepicker",j);function j(o,p,m,n){return{template:function(r,s){var u=s.mdHideIcons;var v=s.ariaLabel||s.mdPlaceholder;var q=(u==="all"||u==="calendar")?"":'<md-button class="md-datepicker-button md-icon-button" type="button" tabindex="-1" aria-hidden="true" ng-click="ctrl.openCalendarPane($event)"><md-icon class="md-datepicker-calendar-icon" aria-label="md-calendar" md-svg-src="'+o.mdCalendar+'"></md-icon></md-button>';var t="";if(u!=="all"&&u!=="triangle"){t='<md-button type="button" md-no-ink class="md-datepicker-triangle-button md-icon-button" ng-click="ctrl.openCalendarPane($event)" aria-label="{{::ctrl.locale.msgOpenCalendar}}"><div class="md-datepicker-expand-triangle"></div></md-button>';r.addClass(h)}return q+'<div class="md-datepicker-input-container" ng-class="{\'md-datepicker-focused\': ctrl.isFocused}"><input '+(v?'aria-label="'+v+'" ':"")+'class="md-datepicker-input" aria-haspopup="true" aria-expanded="{{ctrl.isCalendarOpen}}" ng-focus="ctrl.setFocused(true)" ng-blur="ctrl.setFocused(false)"> '+t+'</div><div class="md-datepicker-calendar-pane md-whiteframe-z1" id="{{::ctrl.calendarPaneId}}"><div class="md-datepicker-input-mask"><div class="md-datepicker-input-mask-opaque"></div></div><div class="md-datepicker-calendar"><md-calendar role="dialog" aria-label="{{::ctrl.locale.msgCalendar}}" md-current-view="{{::ctrl.currentView}}"md-min-date="ctrl.minDate"md-max-date="ctrl.maxDate"md-date-filter="ctrl.dateFilter"ng-model="ctrl.date" ng-if="ctrl.isCalendarOpen"></md-calendar></div></div>'},require:["ngModel","mdDatepicker","?^mdInputContainer","?^form"],scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",placeholder:"@mdPlaceholder",currentView:"@mdCurrentView",dateFilter:"=mdDateFilter",isOpen:"=?mdIsOpen",debounceInterval:"=mdDebounceInterval",dateLocale:"=mdDateLocale"},controller:b,controllerAs:"ctrl",bindToController:true,link:function(A,w,x,s){var q=s[0];var t=s[1];var r=s[2];var u=s[3];var v=p.parseAttributeBoolean(x.mdNoAsterisk);t.configureNgModel(q,r,n);if(r){var y=w[0].querySelector(".md-errors-spacer");if(y){w.after(angular.element("<div>").append(y))}r.setHasPlaceholder(x.mdPlaceholder);r.input=w;r.element.addClass(e).toggleClass(d,x.mdHideIcons!=="calendar"&&x.mdHideIcons!=="all");if(!r.label){m.expect(w,"aria-label",x.mdPlaceholder)}else{if(!v){x.$observe("required",function(B){r.label.toggleClass("md-required",!!B)})}}A.$watch(r.isErrorGetter||function(){return q.$invalid&&(q.$touched||(u&&u.$submitted))},r.setInvalid)}else{if(u){var z=A.$watch(function(){return u.$submitted},function(B){if(B){t.updateErrorState();z()}})}}}}}var f=3;var c="md-datepicker-invalid";var l="md-datepicker-open";var e="_md-datepicker-floating-label";var d="_md-datepicker-has-calendar-icon";var h="_md-datepicker-has-triangle-icon";var a=500;var g=368;var k=360;var i=/ipad|iphone|ipod|android/i;function b(v,w,u,o,m,q,n,p,r,s,t){this.$window=o;this.dateUtil=r;this.$mdConstant=m;this.$mdUtil=n;this.$$rAF=s;this.$mdDateLocale=p;this.documentElement=angular.element(document.documentElement);this.ngModelCtrl=null;this.inputElement=w[0].querySelector("input");this.ngInputElement=angular.element(this.inputElement);this.inputContainer=w[0].querySelector(".md-datepicker-input-container");this.calendarPane=w[0].querySelector(".md-datepicker-calendar-pane");this.calendarButton=w[0].querySelector(".md-datepicker-button");this.inputMask=angular.element(w[0].querySelector(".md-datepicker-input-mask-opaque"));this.$element=w;this.$attrs=u;this.$scope=v;this.date=null;this.isFocused=false;this.isDisabled;this.setDisabled(w[0].disabled||angular.isString(u.disabled));this.isCalendarOpen=false;this.openOnFocus=u.hasOwnProperty("mdOpenOnFocus");this.mdInputContainer=null;this.calendarPaneOpenedFrom=null;this.calendarPaneId="md-date-pane-"+n.nextUid();this.bodyClickHandler=angular.bind(this,this.handleBodyClick);this.windowEventName=i.test(navigator.userAgent||navigator.vendor||window.opera)?"orientationchange":"resize";this.windowEventHandler=n.debounce(angular.bind(this,this.closeCalendarPane),100);this.windowBlurHandler=angular.bind(this,this.handleWindowBlur);this.ngDateFilter=t("date");this.leftMargin=20;this.topMargin=null;if(u.tabindex){this.ngInputElement.attr("tabindex",u.tabindex);u.$set("tabindex",null)}else{u.$set("tabindex","-1")}u.$set("aria-owns",this.calendarPaneId);q(w);q(angular.element(this.calendarPane));var x=this;v.$on("$destroy",function(){x.detachCalendarPane()});if(u.mdIsOpen){v.$watch("ctrl.isOpen",function(y){if(y){x.openCalendarPane({target:x.inputElement})}else{x.closeCalendarPane()}})}if(angular.version.major===1&&angular.version.minor<=4){this.$onInit()}}b.prototype.$onInit=function(){this.locale=this.dateLocale?angular.extend({},this.$mdDateLocale,this.dateLocale):this.$mdDateLocale;this.installPropertyInterceptors();this.attachChangeListeners();this.attachInteractionListeners()};b.prototype.configureNgModel=function(o,m,p){this.ngModelCtrl=o;this.mdInputContainer=m;this.$attrs.$set("type","date");p[0].link.pre(this.$scope,{on:angular.noop,val:angular.noop,0:{}},this.$attrs,[o]);var n=this;n.ngModelCtrl.$formatters.push(function(s){var r=angular.isDefined(s)?Date.parse(s):null;if(!isNaN(r)&&angular.isNumber(r)){s=new Date(r)}if(s&&!(s instanceof Date)){throw Error("The ng-model for md-datepicker must be a Date instance or a value that can be parsed into a date. Currently the model is of type: "+typeof s)}n.onExternalChange(s);return s});o.$viewChangeListeners.unshift(angular.bind(this,this.updateErrorState));var q=n.$mdUtil.getModelOption(o,"updateOn");if(q){this.ngInputElement.on(q,angular.bind(this.$element,this.$element.triggerHandler,q))}};b.prototype.attachChangeListeners=function(){var m=this;m.$scope.$on("md-calendar-change",function(p,o){m.setModelValue(o);m.onExternalChange(o);m.closeCalendarPane()});m.ngInputElement.on("input",angular.bind(m,m.resizeInputElement));var n=angular.isDefined(this.debounceInterval)?this.debounceInterval:a;m.ngInputElement.on("input",m.$mdUtil.debounce(m.handleInputEvent,n,m))};b.prototype.attachInteractionListeners=function(){var n=this;var m=this.$scope;var o=this.$mdConstant.KEY_CODE;n.ngInputElement.on("keydown",function(p){if(p.altKey&&p.keyCode==o.DOWN_ARROW){n.openCalendarPane(p);m.$digest()}});if(n.openOnFocus){n.ngInputElement.on("focus",angular.bind(n,n.openCalendarPane));angular.element(n.$window).on("blur",n.windowBlurHandler);m.$on("$destroy",function(){angular.element(n.$window).off("blur",n.windowBlurHandler)})}m.$on("md-calendar-close",function(){n.closeCalendarPane()})};b.prototype.installPropertyInterceptors=function(){var m=this;if(this.$attrs.ngDisabled){var n=this.$scope.$parent;if(n){n.$watch(this.$attrs.ngDisabled,function(o){m.setDisabled(o)})}}Object.defineProperty(this,"placeholder",{get:function(){return m.inputElement.placeholder},set:function(o){m.inputElement.placeholder=o||""}})};b.prototype.setDisabled=function(m){this.isDisabled=m;this.inputElement.disabled=m;if(this.calendarButton){this.calendarButton.disabled=m}};b.prototype.updateErrorState=function(o){var m=o||this.date;this.clearErrorState();if(this.dateUtil.isValidDate(m)){m=this.dateUtil.createDateAtMidnight(m);if(this.dateUtil.isValidDate(this.minDate)){var n=this.dateUtil.createDateAtMidnight(this.minDate);this.ngModelCtrl.$setValidity("mindate",m>=n)}if(this.dateUtil.isValidDate(this.maxDate)){var p=this.dateUtil.createDateAtMidnight(this.maxDate);this.ngModelCtrl.$setValidity("maxdate",m<=p)}if(angular.isFunction(this.dateFilter)){this.ngModelCtrl.$setValidity("filtered",this.dateFilter(m))}}else{this.ngModelCtrl.$setValidity("valid",m==null)}angular.element(this.inputContainer).toggleClass(c,!this.ngModelCtrl.$valid)};b.prototype.clearErrorState=function(){this.inputContainer.classList.remove(c);["mindate","maxdate","filtered","valid"].forEach(function(m){this.ngModelCtrl.$setValidity(m,true)},this)};b.prototype.resizeInputElement=function(){this.inputElement.size=this.inputElement.value.length+f};b.prototype.handleInputEvent=function(){var o=this.inputElement.value;var n=o?this.locale.parseDate(o):null;this.dateUtil.setDateTimeToMidnight(n);var m=o==""||(this.dateUtil.isValidDate(n)&&this.locale.isDateComplete(o)&&this.isDateEnabled(n));if(m){this.setModelValue(n);this.date=n}this.updateErrorState(n)};b.prototype.isDateEnabled=function(m){return this.dateUtil.isDateWithinRange(m,this.minDate,this.maxDate)&&(!angular.isFunction(this.dateFilter)||this.dateFilter(m))};b.prototype.attachCalendarPane=function(){var n=this.calendarPane;var s=document.body;n.style.transform="";this.$element.addClass(l);this.mdInputContainer&&this.mdInputContainer.element.addClass(l);angular.element(s).addClass("md-datepicker-is-showing");var v=this.inputContainer.getBoundingClientRect();var w=s.getBoundingClientRect();if(!this.topMargin||this.topMargin<0){this.topMargin=(this.inputMask.parent().prop("clientHeight")-this.ngInputElement.prop("clientHeight"))/2}var r=v.top-w.top-this.topMargin;var m=v.left-w.left-this.leftMargin;var o=(w.top<0&&document.body.scrollTop==0)?-w.top:document.body.scrollTop;var u=(w.left<0&&document.body.scrollLeft==0)?-w.left:document.body.scrollLeft;var t=o+this.$window.innerHeight;var q=u+this.$window.innerWidth;this.inputMask.css({position:"absolute",left:this.leftMargin+"px",top:this.topMargin+"px",width:(v.width-1)+"px",height:(v.height-2)+"px"});if(m+k>q){if(q-k>0){m=q-k}else{m=u;var p=this.$window.innerWidth/k;n.style.transform="scale("+p+")"}n.classList.add("md-datepicker-pos-adjusted")}if(r+g>t&&t-g>o){r=t-g;n.classList.add("md-datepicker-pos-adjusted")}n.style.left=m+"px";n.style.top=r+"px";document.body.appendChild(n);this.$$rAF(function(){n.classList.add("md-pane-open")})};b.prototype.detachCalendarPane=function(){this.$element.removeClass(l);this.mdInputContainer&&this.mdInputContainer.element.removeClass(l);angular.element(document.body).removeClass("md-datepicker-is-showing");this.calendarPane.classList.remove("md-pane-open");this.calendarPane.classList.remove("md-datepicker-pos-adjusted");if(this.isCalendarOpen){this.$mdUtil.enableScrolling()}if(this.calendarPane.parentNode){this.calendarPane.parentNode.removeChild(this.calendarPane)}};b.prototype.openCalendarPane=function(n){if(!this.isCalendarOpen&&!this.isDisabled&&!this.inputFocusedOnWindowBlur){this.isCalendarOpen=this.isOpen=true;this.calendarPaneOpenedFrom=n.target;this.$mdUtil.disableScrollAround(this.calendarPane);this.attachCalendarPane();this.focusCalendar();this.evalAttr("ngFocus");var m=this;this.$mdUtil.nextTick(function(){m.documentElement.on("click touchstart",m.bodyClickHandler)},false);window.addEventListener(this.windowEventName,this.windowEventHandler)}};b.prototype.closeCalendarPane=function(){if(this.isCalendarOpen){var m=this;m.detachCalendarPane();m.ngModelCtrl.$setTouched();m.evalAttr("ngBlur");m.documentElement.off("click touchstart",m.bodyClickHandler);window.removeEventListener(m.windowEventName,m.windowEventHandler);m.calendarPaneOpenedFrom.focus();m.calendarPaneOpenedFrom=null;if(m.openOnFocus){m.$mdUtil.nextTick(n)}else{n()}}function n(){m.isCalendarOpen=m.isOpen=false}};b.prototype.getCalendarCtrl=function(){return angular.element(this.calendarPane.querySelector("md-calendar")).controller("mdCalendar")};b.prototype.focusCalendar=function(){var m=this;this.$mdUtil.nextTick(function(){m.getCalendarCtrl().focus()},false)};b.prototype.setFocused=function(m){if(!m){this.ngModelCtrl.$setTouched()}if(!this.openOnFocus){this.evalAttr(m?"ngFocus":"ngBlur")}this.isFocused=m};b.prototype.handleBodyClick=function(n){if(this.isCalendarOpen){var m=this.$mdUtil.getClosest(n.target,"md-calendar");if(!m){this.closeCalendarPane()}this.$scope.$digest()}};b.prototype.handleWindowBlur=function(){this.inputFocusedOnWindowBlur=document.activeElement===this.inputElement};b.prototype.evalAttr=function(m){if(this.$attrs[m]){this.$scope.$parent.$eval(this.$attrs[m])}};b.prototype.setModelValue=function(n){var m=this.$mdUtil.getModelOption(this.ngModelCtrl,"timezone");this.ngModelCtrl.$setViewValue(this.ngDateFilter(n,"yyyy-MM-dd",m))};b.prototype.onExternalChange=function(n){var m=this.$mdUtil.getModelOption(this.ngModelCtrl,"timezone");this.date=n;this.inputElement.value=this.locale.formatDate(n,m);this.mdInputContainer&&this.mdInputContainer.setHasValue(!!n);this.resizeInputElement();this.updateErrorState()}})();ngmaterial.components.datepicker=angular.module("material.components.datepicker");