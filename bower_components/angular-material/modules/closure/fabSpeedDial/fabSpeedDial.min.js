/*!
 * AngularJS Material Design
 * https://github.com/angular/material
 * @license MIT
 * v1.1.5
 */
;goog.provide("ngmaterial.components.fabShared");goog.require("ngmaterial.core");(function(){a["$inject"]=["$scope","$element","$animate","$mdUtil","$mdConstant","$timeout"];angular.module("material.components.fabShared",["material.core"]).controller("MdFabController",a);function a(A,y,D,w,o,G){var F=this;var h=0;F.open=function(){A.$evalAsync("vm.isOpen = true")};F.close=function(){A.$evalAsync("vm.isOpen = false");y.find("md-fab-trigger")[0].focus()};F.toggle=function(){A.$evalAsync("vm.isOpen = !vm.isOpen")};F.$onInit=function(){B();r();s();b()};if(angular.version.major===1&&angular.version.minor<=4){this.$onInit()}function B(){F.direction=F.direction||"down";F.isOpen=F.isOpen||false;k();y.addClass("md-animations-waiting")}function r(){var H=["click","focusin","focusout"];angular.forEach(H,function(I){y.on(I,p)});A.$on("$destroy",function(){angular.forEach(H,function(I){y.off(I,p)});v()})}var q;function p(H){if(H.type=="click"){l(H)}if(H.type=="focusout"&&!q){q=G(function(){F.close()},100,false)}if(H.type=="focusin"&&q){G.cancel(q);q=null}}function k(){F.currentActionIndex=-1}function s(){A.$watch("vm.direction",function(K,J){D.removeClass(y,"md-"+J);D.addClass(y,"md-"+K);k()});var H,I;A.$watch("vm.isOpen",function(K){k();if(!H||!I){H=d();I=j()}if(K){C()}else{v()}var J=K?"md-is-open":"";var L=K?"":"md-is-open";H.attr("aria-haspopup",true);H.attr("aria-expanded",K);I.attr("aria-hidden",!K);D.setClass(y,J,L)})}function b(){if(y[0].scrollHeight>0){D.addClass(y,"_md-animations-ready").then(function(){y.removeClass("md-animations-waiting")})}else{if(h<10){G(b,100);h=h+1}}}function C(){y.on("keydown",n);w.nextTick(function(){angular.element(document).on("click touchend",z)})}function v(){y.off("keydown",n);angular.element(document).off("click touchend",z)}function z(J){if(J.target){var I=w.getClosest(J.target,"md-fab-trigger");var H=w.getClosest(J.target,"md-fab-actions");if(!I&&!H){F.close()}}}function n(H){switch(H.which){case o.KEY_CODE.ESCAPE:F.close();H.preventDefault();return false;case o.KEY_CODE.LEFT_ARROW:c(H);return false;case o.KEY_CODE.UP_ARROW:t(H);return false;case o.KEY_CODE.RIGHT_ARROW:i(H);return false;case o.KEY_CODE.DOWN_ARROW:m(H);return false}}function f(H){E(H,-1)}function g(H){E(H,1)}function E(I,J){var K=u();F.currentActionIndex=F.currentActionIndex+J;F.currentActionIndex=Math.min(K.length-1,F.currentActionIndex);F.currentActionIndex=Math.max(0,F.currentActionIndex);var H=angular.element(K[F.currentActionIndex]).children()[0];angular.element(H).attr("tabindex",0);H.focus();I.preventDefault();I.stopImmediatePropagation()}function u(){var H=j()[0].querySelectorAll(".md-fab-action-item");angular.forEach(H,function(I){angular.element(angular.element(I).children()[0]).attr("tabindex",-1)});return H}function c(H){if(F.direction==="left"){g(H)}else{f(H)}}function t(H){if(F.direction==="down"){f(H)}else{g(H)}}function i(H){if(F.direction==="left"){f(H)}else{g(H)}}function m(H){if(F.direction==="up"){f(H)}else{g(H)}}function x(H){return w.getClosest(H,"md-fab-trigger")}function e(H){return w.getClosest(H,"md-fab-actions")}function l(H){if(x(H.target)){F.toggle()}if(e(H.target)){F.close()}}function d(){return y.find("md-fab-trigger")}function j(){return y.find("md-fab-actions")}}})();(function(){c["$inject"]=["$timeout"];d["$inject"]=["$timeout"];var b=300;angular.module("material.components.fabSpeedDial",["material.core","material.components.fabShared","material.components.fabActions"]).directive("mdFabSpeedDial",a).animation(".md-fling",c).animation(".md-scale",d).service("mdFabSpeedDialFlingAnimation",c).service("mdFabSpeedDialScaleAnimation",d);function a(){return{restrict:"E",scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:true,controller:"MdFabController",controllerAs:"vm",link:e};function e(g,f){f.prepend('<div class="_md-css-variables"></div>')}}function c(f){function e(h){f(h,b,false)}function g(j){if(j.hasClass("md-animations-waiting")&&!j.hasClass("_md-animations-ready")){return}var k=j[0];var l=j.controller("mdFabSpeedDial");var i=k.querySelectorAll(".md-fab-action-item");var n=k.querySelector("md-fab-trigger");var m=k.querySelector("._md-css-variables");var h=parseInt(window.getComputedStyle(m).zIndex);angular.forEach(i,function(q,o){var p=q.style;p.transform=p.webkitTransform="";p.transitionDelay="";p.opacity=1;p.zIndex=(i.length-o)+h});n.style.zIndex=h+i.length+1;if(!l.isOpen){angular.forEach(i,function(v,q){var s,t;var u=v.style;var o=(n.clientHeight-v.clientHeight)/2;var p=(n.clientWidth-v.clientWidth)/2;switch(l.direction){case"up":s=(v.scrollHeight*(q+1)+o);t="Y";break;case"down":s=-(v.scrollHeight*(q+1)+o);t="Y";break;case"left":s=(v.scrollWidth*(q+1)+p);t="X";break;case"right":s=-(v.scrollWidth*(q+1)+p);t="X";break}var r="translate"+t+"("+s+"px)";u.transform=u.webkitTransform=r})}}return{addClass:function(i,j,h){if(i.hasClass("md-fling")){g(i);e(h)}else{h()}},removeClass:function(i,j,h){g(i);e(h)}}}function d(g){function e(i){g(i,b,false)}var f=65;function h(k){var l=k[0];var m=k.controller("mdFabSpeedDial");var j=l.querySelectorAll(".md-fab-action-item");var n=l.querySelector("._md-css-variables");var i=parseInt(window.getComputedStyle(n).zIndex);angular.forEach(j,function(r,p){var q=r.style,o=p*f;q.opacity=m.isOpen?1:0;q.transform=q.webkitTransform=m.isOpen?"scale(1)":"scale(0)";q.transitionDelay=(m.isOpen?o:(j.length-o))+"ms";q.zIndex=(j.length-p)+i})}return{addClass:function(j,k,i){h(j);e(i)},removeClass:function(j,k,i){h(j);e(i)}}}})();ngmaterial.components.fabShared=angular.module("material.components.fabShared");