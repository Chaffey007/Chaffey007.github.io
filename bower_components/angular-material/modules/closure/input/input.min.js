/*!
 * AngularJS Material Design
 * https://github.com/angular/material
 * @license MIT
 * v1.1.5
 */
;goog.provide("ngmaterial.components.input");goog.require("ngmaterial.core");mdInputContainerDirective["$inject"]=["$mdTheming","$parse"];inputTextareaDirective["$inject"]=["$mdUtil","$window","$mdAria","$timeout","$mdGesture"];mdMaxlengthDirective["$inject"]=["$animate","$mdUtil"];placeholderDirective["$inject"]=["$compile"];ngMessageDirective["$inject"]=["$mdUtil"];mdSelectOnFocusDirective["$inject"]=["$timeout"];mdInputInvalidMessagesAnimation["$inject"]=["$$AnimateRunner","$animateCss","$mdUtil","$log"];ngMessagesAnimation["$inject"]=["$$AnimateRunner","$animateCss","$mdUtil","$log"];ngMessageAnimation["$inject"]=["$$AnimateRunner","$animateCss","$mdUtil","$log"];var inputModule=angular.module("material.components.input",["material.core"]).directive("mdInputContainer",mdInputContainerDirective).directive("label",labelDirective).directive("input",inputTextareaDirective).directive("textarea",inputTextareaDirective).directive("mdMaxlength",mdMaxlengthDirective).directive("placeholder",placeholderDirective).directive("ngMessages",ngMessagesDirective).directive("ngMessage",ngMessageDirective).directive("ngMessageExp",ngMessageDirective).directive("mdSelectOnFocus",mdSelectOnFocusDirective).animation(".md-input-invalid",mdInputInvalidMessagesAnimation).animation(".md-input-messages-animation",ngMessagesAnimation).animation(".md-input-message-animation",ngMessageAnimation);if(window._mdMocksIncluded){inputModule.service("$$mdInput",function(){return{messages:{show:showInputMessages,hide:hideInputMessages,getElement:getMessagesElement}}}).service("mdInputInvalidAnimation",mdInputInvalidMessagesAnimation).service("mdInputMessagesAnimation",ngMessagesAnimation).service("mdInputMessageAnimation",ngMessageAnimation)}function mdInputContainerDirective(b,a){c["$inject"]=["$scope","$element","$attrs","$animate"];var f=["INPUT","TEXTAREA","SELECT","MD-SELECT"];var e=f.reduce(function(i,h){return i.concat(["md-icon ~ "+h,".md-icon ~ "+h])},[]).join(",");var g=f.reduce(function(i,h){return i.concat([h+" ~ md-icon",h+" ~ .md-icon"])},[]).join(",");return{restrict:"E",compile:d,controller:c};function d(j){var k=j[0].querySelector(e);var i=j[0].querySelector(g);if(k){j.addClass("md-icon-left")}if(i){j.addClass("md-icon-right")}return function h(m,l){b(l)}}function c(k,i,h,l){var j=this;j.isErrorGetter=h.mdIsError&&a(h.mdIsError);j.delegateClick=function(){j.input.focus()};j.element=i;j.setFocused=function(m){i.toggleClass("md-input-focused",!!m)};j.setHasValue=function(m){i.toggleClass("md-input-has-value",!!m)};j.setHasPlaceholder=function(m){i.toggleClass("md-input-has-placeholder",!!m)};j.setInvalid=function(m){if(m){l.addClass(i,"md-input-invalid")}else{l.removeClass(i,"md-input-invalid")}};k.$watch(function(){return j.label&&j.input},function(m){if(m&&!j.label.attr("for")){j.label.attr("for",j.input.attr("id"))}})}}function labelDirective(){return{restrict:"E",require:"^?mdInputContainer",link:function(d,c,a,b){if(!b||a.mdNoFloat||c.hasClass("md-container-ignore")){return}b.label=c;d.$on("$destroy",function(){b.label=null})}}}function inputTextareaDirective(f,e,b,c,d){return{restrict:"E",require:["^?mdInputContainer","?ngModel","?^form"],link:a};function a(g,h,s,t){var p=t[0];var r=!!t[1];var l=t[1]||f.fakeNgModel();var v=t[2];var j=angular.isDefined(s.readonly);var w=f.parseAttributeBoolean(s.mdNoAsterisk);var i=h[0].tagName.toLowerCase();if(!p){return}if(s.type==="hidden"){h.attr("aria-hidden","true");return}else{if(p.input){if(p.input[0].contains(h[0])){return}else{throw new Error("<md-input-container> can only have *one* <input>, <textarea> or <md-select> child element!")}}}p.input=h;o();var q=angular.element('<div class="md-errors-spacer">');h.after(q);var k=angular.isString(s.placeholder)?s.placeholder.trim():"";if(!p.label&&!k.length){b.expect(h,"aria-label")}h.addClass("md-input");if(!h.attr("id")){h.attr("id","input_"+f.nextUid())}if(i==="input"&&s.type==="number"&&s.min&&s.max&&!s.step){h.attr("step","any")}else{if(i==="textarea"){x()}}if(!r){m()}var u=p.isErrorGetter||function(){return l.$invalid&&(l.$touched||(v&&v.$submitted))};g.$watch(u,p.setInvalid);if(s.ngValue){s.$observe("value",m)}l.$parsers.push(n);l.$formatters.push(n);h.on("input",m);if(!j){h.on("focus",function(y){f.nextTick(function(){p.setFocused(true)})}).on("blur",function(y){f.nextTick(function(){p.setFocused(false);m()})})}g.$on("$destroy",function(){p.setFocused(false);p.setHasValue(false);p.input=null});function n(y){p.setHasValue(!l.$isEmpty(y));return y}function o(){if(p.label){s.$observe("required",function(y){p.label.toggleClass("md-required",y&&!w)})}}function m(){p.setHasValue(h.val().length>0||(h[0].validity||{}).badInput)}function x(){var J=!s.hasOwnProperty("mdNoAutogrow");y();if(!J){return}var A=s.hasOwnProperty("rows")?parseInt(s.rows):NaN;var I=s.hasOwnProperty("maxRows")?parseInt(s.maxRows):NaN;var C=g.$on("md-resize-textarea",z);var H=null;var B=h[0];c(function(){f.nextTick(z)},10,false);h.on("input",z);if(r){l.$formatters.push(G)}if(!A){h.attr("rows",1)}angular.element(e).on("resize",z);g.$on("$destroy",F);function z(){h.attr("rows",1).css("height","auto").addClass("md-no-flex");var K=E();if(!H){var L=h[0].style.padding||"";H=h.css("padding",0).prop("offsetHeight");h[0].style.padding=L}if(A&&H){K=Math.max(K,H*A)}if(I&&H){var M=H*I;if(M<K){h.attr("md-no-autogrow","");K=M}else{h.removeAttr("md-no-autogrow")}}if(H){h.attr("rows",Math.round(K/H))}h.css("height",K+"px").removeClass("md-no-flex")}function E(){var L=B.offsetHeight;var K=B.scrollHeight-L;return L+Math.max(K,0)}function G(K){f.nextTick(z);return K}function F(){if(!J){return}J=false;angular.element(e).off("resize",z);C&&C();h.attr("md-no-autogrow","").off("input",z);if(r){var K=l.$formatters.indexOf(G);if(K>-1){l.$formatters.splice(K,1)}}}function y(){if(s.hasOwnProperty("mdNoResize")){return}var P=angular.element('<div class="md-resize-handle"></div>');var Q=false;var S=null;var T=0;var K=p.element;var N=d.register(P,"drag",{horizontal:false});h.wrap('<div class="md-resize-wrapper">').after(P);P.on("mousedown",R);K.on("$md.dragstart",L).on("$md.drag",O).on("$md.dragend",M);g.$on("$destroy",function(){P.off("mousedown",R).remove();K.off("$md.dragstart",L).off("$md.drag",O).off("$md.dragend",M);N();P=null;K=null;N=null});function R(U){U.preventDefault();Q=true;S=U.clientY;T=parseFloat(h.css("height"))||h.prop("offsetHeight")}function L(U){if(!Q){return}U.preventDefault();F();K.addClass("md-input-resized")}function O(U){if(!Q){return}h.css("height",(T+U.pointer.distanceY)+"px")}function M(U){if(!Q){return}Q=false;K.removeClass("md-input-resized")}}if(s.hasOwnProperty("mdDetectHidden")){var D=function(){var K=false;return function(){var L=B.offsetHeight===0;if(L===false&&K===true){z()}K=L}}();g.$watch(function(){f.nextTick(D,false);return true})}}}}function mdMaxlengthDirective(c,b){return{restrict:"A",require:["ngModel","^mdInputContainer"],link:a};function a(m,k,l,j){var e;var f=j[0];var d=j[1];var i,h;b.nextTick(function(){h=angular.element(d.element[0].querySelector(".md-errors-spacer"));i=angular.element('<div class="md-char-counter">');h.append(i);l.$set("ngTrim","false");m.$watch(l.mdMaxlength,function(n){e=n;if(angular.isNumber(n)&&n>0){if(!i.parent().length){c.enter(i,h)}g()}else{c.leave(i)}});f.$validators["md-maxlength"]=function(n,o){if(!angular.isNumber(e)||e<0){return true}g();return(n||k.val()||o||"").length<=e}});function g(n){if(!i.parent){return n}i.text(String(k.val()||n||"").length+" / "+e);return n}}}function placeholderDirective(a){return{restrict:"A",require:"^^?mdInputContainer",priority:200,link:{pre:b}};function b(g,f,c,i){if(!i){return}var d=i.element.find("label");var h=i.element.attr("md-no-float");if((d&&d.length)||h===""||g.$eval(h)){i.setHasPlaceholder(true);return}if(f[0].nodeName!="MD-SELECT"){var e=angular.element('<label ng-click="delegateClick()" tabindex="-1">'+c.placeholder+"</label>");c.$set("placeholder",null);i.element.addClass("md-icon-float").prepend(e);a(e)(g)}}}function mdSelectOnFocusDirective(b){return{restrict:"A",link:a};function a(h,g,d){if(g[0].nodeName!=="INPUT"&&g[0].nodeName!=="TEXTAREA"){return}var c=false;g.on("focus",f).on("mouseup",e);h.$on("$destroy",function(){g.off("focus",f).off("mouseup",e)});function f(){c=true;b(function(){g[0].select();c=false},1,false)}function e(i){if(c){i.preventDefault()}}}}var visibilityDirectives=["ngIf","ngShow","ngHide","ngSwitchWhen","ngSwitchDefault"];function ngMessagesDirective(){return{restrict:"EA",link:b,require:"^^?mdInputContainer"};function b(e,d,c,f){if(!f){return}d.toggleClass("md-input-messages-animation",true);d.toggleClass("md-auto-hide",true);if(c.mdAutoHide=="false"||a(c)){d.toggleClass("md-auto-hide",false)}}function a(c){return visibilityDirectives.some(function(d){return c[d]})}}function ngMessageDirective(b){return{restrict:"EA",compile:a,priority:100};function a(c){if(!d(c)){if(f()){return function(h,g){if(d(g)){e(c)}}}}else{e(c)}function f(){var g=c[0];while(g=g.parentNode){if(g.nodeType===Node.DOCUMENT_FRAGMENT_NODE){return true}}return false}function d(g){return !!b.getClosest(g,"md-input-container")}function e(g){g.toggleClass("md-input-message-animation",true)}}}var $$AnimateRunner,$animateCss,$mdUtil,$log;function mdInputInvalidMessagesAnimation(d,b,c,a){saveSharedServices(d,b,c,a);return{addClass:function(f,g,e){showInputMessages(f,e)}}}function ngMessagesAnimation(d,b,c,a){saveSharedServices(d,b,c,a);return{enter:function(f,e){showInputMessages(f,e)},leave:function(f,e){hideInputMessages(f,e)},addClass:function(f,g,e){if(g=="ng-hide"){hideInputMessages(f,e)}else{e()}},removeClass:function(f,g,e){if(g=="ng-hide"){showInputMessages(f,e)}else{e()}}}}function ngMessageAnimation(d,b,c,a){saveSharedServices(d,b,c,a);return{enter:function(g,f){var e=showMessage(g);e.start().done(f)},leave:function(g,f){var e=hideMessage(g);e.start().done(f)}}}function showInputMessages(d,b){var f=[],a;var e=getMessagesElement(d);var c=e.children();if(e.length==0||c.length==0){$log.warn("mdInput messages show animation called on invalid messages element: ",d);b();return}angular.forEach(c,function(g){a=showMessage(angular.element(g));f.push(a.start())});$$AnimateRunner.all(f,b)}function hideInputMessages(d,b){var f=[],a;var e=getMessagesElement(d);var c=e.children();if(e.length==0||c.length==0){$log.warn("mdInput messages hide animation called on invalid messages element: ",d);b();return}angular.forEach(c,function(g){a=hideMessage(angular.element(g));f.push(a.start())});$$AnimateRunner.all(f,b)}function showMessage(d){var a=parseInt(window.getComputedStyle(d[0]).height);var c=parseInt(window.getComputedStyle(d[0]).marginTop);var f=getMessagesElement(d);var b=getInputElement(d);var e=(c>-a);if(e||(f.hasClass("md-auto-hide")&&!b.hasClass("md-input-invalid"))){return $animateCss(d,{})}return $animateCss(d,{event:"enter",structural:true,from:{opacity:0,"margin-top":-a+"px"},to:{opacity:1,"margin-top":"0"},duration:0.3})}function hideMessage(b){var a=b[0].offsetHeight;var c=window.getComputedStyle(b[0]);if(parseInt(c.opacity)===0){return $animateCss(b,{})}return $animateCss(b,{event:"leave",structural:true,from:{opacity:1,"margin-top":0},to:{opacity:0,"margin-top":-a+"px"},duration:0.3})}function getInputElement(a){var b=a.controller("mdInputContainer");return b.element}function getMessagesElement(a){if(a.hasClass("md-input-messages-animation")){return a}if(a.hasClass("md-input-message-animation")){return angular.element($mdUtil.getClosest(a,function(b){return b.classList.contains("md-input-messages-animation")}))}return angular.element(a[0].querySelector(".md-input-messages-animation"))}function saveSharedServices(d,c,b,a){$$AnimateRunner=d;$animateCss=c;$mdUtil=b;$log=a}ngmaterial.components.input=angular.module("material.components.input");