/*!
 * AngularJS Material Design
 * https://github.com/angular/material
 * @license MIT
 * v1.1.5
 */
;goog.provide("ngmaterial.components.navBar");goog.require("ngmaterial.core");MdNavBarController["$inject"]=["$element","$scope","$timeout","$mdConstant"];MdNavItem["$inject"]=["$mdAria","$$rAF"];MdNavItemController["$inject"]=["$element"];MdNavBar["$inject"]=["$mdAria","$mdTheming"];angular.module("material.components.navBar",["material.core"]).controller("MdNavBarController",MdNavBarController).directive("mdNavBar",MdNavBar).controller("MdNavItemController",MdNavItemController).directive("mdNavItem",MdNavItem);function MdNavBar(a,b){return{restrict:"E",transclude:true,controller:MdNavBarController,controllerAs:"ctrl",bindToController:true,scope:{mdSelectedNavItem:"=?",mdNoInkBar:"=?",navBarAriaLabel:"@?"},template:'<div class="md-nav-bar"><nav role="navigation"><ul class="_md-nav-bar-list" ng-transclude role="listbox"tabindex="0"ng-focus="ctrl.onFocus()"ng-keydown="ctrl.onKeydown($event)"aria-label="{{ctrl.navBarAriaLabel}}"></ul></nav><md-nav-ink-bar ng-hide="ctrl.mdNoInkBar"></md-nav-ink-bar></div>',link:function(e,d,c,f){b(d);if(!f.navBarAriaLabel){a.expectAsync(d,"aria-label",angular.noop)}}}}function MdNavBarController(a,c,f,e){this._$timeout=f;this._$scope=c;this._$mdConstant=e;this.mdSelectedNavItem;this.navBarAriaLabel;this._navBarEl=a[0];this._inkbar;var b=this;var d=this._$scope.$watch(function(){return b._navBarEl.querySelectorAll("._md-nav-button").length},function(g){if(g>0){b._initTabs();d()}})}MdNavBarController.prototype._initTabs=function(){this._inkbar=angular.element(this._navBarEl.querySelector("md-nav-ink-bar"));var a=this;this._$timeout(function(){a._updateTabs(a.mdSelectedNavItem,undefined)});this._$scope.$watch("ctrl.mdSelectedNavItem",function(c,b){a._$timeout(function(){a._updateTabs(c,b)})})};MdNavBarController.prototype._updateTabs=function(e,b){var a=this;var d=this._getTabs();if(!d){return}var h=-1;var c=-1;var g=this._getTabByName(e);var f=this._getTabByName(b);if(f){f.setSelected(false);h=d.indexOf(f)}if(g){g.setSelected(true);c=d.indexOf(g)}this._$timeout(function(){a._updateInkBarStyles(g,c,h)})};MdNavBarController.prototype._updateInkBarStyles=function(b,a,e){this._inkbar.toggleClass("_md-left",a<e).toggleClass("_md-right",a>e);this._inkbar.css({display:a<0?"none":""});if(b){var d=b.getButtonEl();var c=d.offsetLeft;this._inkbar.css({left:c+"px",width:d.offsetWidth+"px"})}};MdNavBarController.prototype._getTabs=function(){var a=Array.prototype.slice.call(this._navBarEl.querySelectorAll(".md-nav-item")).map(function(b){return angular.element(b).controller("mdNavItem")});return a.indexOf(undefined)?a:null};MdNavBarController.prototype._getTabByName=function(a){return this._findTab(function(b){return b.getName()==a})};MdNavBarController.prototype._getSelectedTab=function(){return this._findTab(function(a){return a.isSelected()})};MdNavBarController.prototype.getFocusedTab=function(){return this._findTab(function(a){return a.hasFocus()})};MdNavBarController.prototype._findTab=function(c){var b=this._getTabs();for(var a=0;a<b.length;a++){if(c(b[a])){return b[a]}}return null};MdNavBarController.prototype.onFocus=function(){var a=this._getSelectedTab();if(a){a.setFocused(true)}};MdNavBarController.prototype._moveFocus=function(a,b){a.setFocused(false);b.setFocused(true)};MdNavBarController.prototype.onKeydown=function(f){var b=this._$mdConstant.KEY_CODE;var d=this._getTabs();var a=this.getFocusedTab();if(!a){return}var c=d.indexOf(a);switch(f.keyCode){case b.UP_ARROW:case b.LEFT_ARROW:if(c>0){this._moveFocus(a,d[c-1])}break;case b.DOWN_ARROW:case b.RIGHT_ARROW:if(c<d.length-1){this._moveFocus(a,d[c+1])}break;case b.SPACE:case b.ENTER:this._$timeout(function(){a.getButtonEl().click()});break}};function MdNavItem(a,b){return{restrict:"E",require:["mdNavItem","^mdNavBar"],controller:MdNavItemController,bindToController:true,controllerAs:"ctrl",replace:true,transclude:true,template:function(e,c){var k=c.mdNavClick;var d=c.mdNavHref;var f=c.mdNavSref;var i=c.srefOpts;var h;var j;var g;if((k?1:0)+(d?1:0)+(f?1:0)>1){throw Error("Must not specify more than one of the md-nav-click, md-nav-href, or md-nav-sref attributes per nav-item directive.")}if(k){h='ng-click="ctrl.mdNavClick()"'}else{if(d){h='ng-href="{{ctrl.mdNavHref}}"'}else{if(f){h='ui-sref="{{ctrl.mdNavSref}}"'}}}j=i?'ui-sref-opts="{{ctrl.srefOpts}}" ':"";if(h){g='<md-button class="_md-nav-button md-accent" ng-class="ctrl.getNgClassMap()" ng-blur="ctrl.setFocused(false)" tabindex="-1" '+j+h+'><span ng-transclude class="_md-nav-button-text"></span></md-button>'}return'<li class="md-nav-item" role="option" aria-selected="{{ctrl.isSelected()}}">'+(g||"")+"</li>"},scope:{mdNavClick:"&?",mdNavHref:"@?",mdNavSref:"@?",srefOpts:"=?",name:"@"},link:function(e,d,c,f){b(function(){var h=f[0];var i=f[1];var g=angular.element(d[0].querySelector("._md-nav-button"));if(!h.name){h.name=angular.element(d[0].querySelector("._md-nav-button-text")).text().trim()}g.on("click",function(){i.mdSelectedNavItem=h.name;e.$apply()});a.expectWithText(d,"aria-label")})}}}function MdNavItemController(a){this._$element=a;this.mdNavClick;this.mdNavHref;this.mdNavSref;this.srefOpts;this.name;this._selected=false;this._focused=false}MdNavItemController.prototype.getNgClassMap=function(){return{"md-active":this._selected,"md-primary":this._selected,"md-unselected":!this._selected,"md-focused":this._focused}};MdNavItemController.prototype.getName=function(){return this.name};MdNavItemController.prototype.getButtonEl=function(){return this._$element[0].querySelector("._md-nav-button")};MdNavItemController.prototype.setSelected=function(a){this._selected=a};MdNavItemController.prototype.isSelected=function(){return this._selected};MdNavItemController.prototype.setFocused=function(a){this._focused=a;if(a){this.getButtonEl().focus()}};MdNavItemController.prototype.hasFocus=function(){return this._focused};ngmaterial.components.navBar=angular.module("material.components.navBar");