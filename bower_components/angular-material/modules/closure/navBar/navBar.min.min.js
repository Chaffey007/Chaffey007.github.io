/*!
 * AngularJS Material Design
 * https://github.com/angular/material
 * @license MIT
 * v1.1.5
 */
;goog.provide("ngmaterial.components.navBar");goog.require("ngmaterial.core");MdNavBarController["$inject"]=["$element","$scope","$timeout","$mdConstant"];MdNavItem["$inject"]=["$mdAria","$$rAF"];MdNavItemController["$inject"]=["$element"];MdNavBar["$inject"]=["$mdAria","$mdTheming"];angular.module("material.components.navBar",["material.core"]).controller("MdNavBarController",MdNavBarController).directive("mdNavBar",MdNavBar).controller("MdNavItemController",MdNavItemController).directive("mdNavItem",MdNavItem);function MdNavBar(d,c){return{restrict:"E",transclude:true,controller:MdNavBarController,controllerAs:"ctrl",bindToController:true,scope:{mdSelectedNavItem:"=?",mdNoInkBar:"=?",navBarAriaLabel:"@?"},template:'<div class="md-nav-bar"><nav role="navigation"><ul class="_md-nav-bar-list" ng-transclude role="listbox"tabindex="0"ng-focus="ctrl.onFocus()"ng-keydown="ctrl.onKeydown($event)"aria-label="{{ctrl.navBarAriaLabel}}"></ul></nav><md-nav-ink-bar ng-hide="ctrl.mdNoInkBar"></md-nav-ink-bar></div>',link:function(b,g,h,a){c(g);if(!a.navBarAriaLabel){d.expectAsync(g,"aria-label",angular.noop)}}}}function MdNavBarController(h,l,i,j){this._$timeout=i;this._$scope=l;this._$mdConstant=j;this.mdSelectedNavItem;this.navBarAriaLabel;this._navBarEl=h[0];this._inkbar;var g=this;var k=this._$scope.$watch(function(){return g._navBarEl.querySelectorAll("._md-nav-button").length},function(a){if(a>0){g._initTabs();k()}})}MdNavBarController.prototype._initTabs=function(){this._inkbar=angular.element(this._navBarEl.querySelector("md-nav-ink-bar"));var b=this;this._$timeout(function(){b._updateTabs(b.mdSelectedNavItem,undefined)});this._$scope.$watch("ctrl.mdSelectedNavItem",function(d,a){b._$timeout(function(){b._updateTabs(d,a)})})};MdNavBarController.prototype._updateTabs=function(n,i){var j=this;var o=this._getTabs();if(!o){return}var k=-1;var p=-1;var l=this._getTabByName(n);var m=this._getTabByName(i);if(m){m.setSelected(false);k=o.indexOf(m)}if(l){l.setSelected(true);p=o.indexOf(l)}this._$timeout(function(){j._updateInkBarStyles(l,p,k)})};MdNavBarController.prototype._updateInkBarStyles=function(f,g,h){this._inkbar.toggleClass("_md-left",g<h).toggleClass("_md-right",g>h);this._inkbar.css({display:g<0?"none":""});if(f){var i=f.getButtonEl();var j=i.offsetLeft;this._inkbar.css({left:j+"px",width:i.offsetWidth+"px"})}};MdNavBarController.prototype._getTabs=function(){var b=Array.prototype.slice.call(this._navBarEl.querySelectorAll(".md-nav-item")).map(function(a){return angular.element(a).controller("mdNavItem")});return b.indexOf(undefined)?b:null};MdNavBarController.prototype._getTabByName=function(b){return this._findTab(function(a){return a.getName()==b})};MdNavBarController.prototype._getSelectedTab=function(){return this._findTab(function(b){return b.isSelected()})};MdNavBarController.prototype.getFocusedTab=function(){return this._findTab(function(b){return b.hasFocus()})};MdNavBarController.prototype._findTab=function(f){var d=this._getTabs();for(var e=0;e<d.length;e++){if(f(d[e])){return d[e]}}return null};MdNavBarController.prototype.onFocus=function(){var b=this._getSelectedTab();if(b){b.setFocused(true)}};MdNavBarController.prototype._moveFocus=function(d,c){d.setFocused(false);c.setFocused(true)};MdNavBarController.prototype.onKeydown=function(h){var e=this._$mdConstant.KEY_CODE;var i=this._getTabs();var g=this.getFocusedTab();if(!g){return}var j=i.indexOf(g);switch(h.keyCode){case e.UP_ARROW:case e.LEFT_ARROW:if(j>0){this._moveFocus(g,i[j-1])}break;case e.DOWN_ARROW:case e.RIGHT_ARROW:if(j<i.length-1){this._moveFocus(g,i[j+1])}break;case e.SPACE:case e.ENTER:this._$timeout(function(){g.getButtonEl().click()});break}};function MdNavItem(d,c){return{restrict:"E",require:["mdNavItem","^mdNavBar"],controller:MdNavItemController,bindToController:true,controllerAs:"ctrl",replace:true,transclude:true,template:function(p,r){var a=r.mdNavClick;var q=r.mdNavHref;var o=r.mdNavSref;var l=r.srefOpts;var m;var b;var n;if((a?1:0)+(q?1:0)+(o?1:0)>1){throw Error("Must not specify more than one of the md-nav-click, md-nav-href, or md-nav-sref attributes per nav-item directive.")}if(a){m='ng-click="ctrl.mdNavClick()"'}else{if(q){m='ng-href="{{ctrl.mdNavHref}}"'}else{if(o){m='ui-sref="{{ctrl.mdNavSref}}"'}}}b=l?'ui-sref-opts="{{ctrl.srefOpts}}" ':"";if(m){n='<md-button class="_md-nav-button md-accent" ng-class="ctrl.getNgClassMap()" ng-blur="ctrl.setFocused(false)" tabindex="-1" '+b+m+'><span ng-transclude class="_md-nav-button-text"></span></md-button>'}return'<li class="md-nav-item" role="option" aria-selected="{{ctrl.isSelected()}}">'+(n||"")+"</li>"},scope:{mdNavClick:"&?",mdNavHref:"@?",mdNavSref:"@?",srefOpts:"=?",name:"@"},link:function(b,g,h,a){c(function(){var f=a[0];var e=a[1];var j=angular.element(g[0].querySelector("._md-nav-button"));if(!f.name){f.name=angular.element(g[0].querySelector("._md-nav-button-text")).text().trim()}j.on("click",function(){e.mdSelectedNavItem=f.name;b.$apply()});d.expectWithText(g,"aria-label")})}}}function MdNavItemController(b){this._$element=b;this.mdNavClick;this.mdNavHref;this.mdNavSref;this.srefOpts;this.name;this._selected=false;this._focused=false}MdNavItemController.prototype.getNgClassMap=function(){return{"md-active":this._selected,"md-primary":this._selected,"md-unselected":!this._selected,"md-focused":this._focused}};MdNavItemController.prototype.getName=function(){return this.name};MdNavItemController.prototype.getButtonEl=function(){return this._$element[0].querySelector("._md-nav-button")};MdNavItemController.prototype.setSelected=function(b){this._selected=b};MdNavItemController.prototype.isSelected=function(){return this._selected};MdNavItemController.prototype.setFocused=function(b){this._focused=b;if(b){this.getButtonEl().focus()}};MdNavItemController.prototype.hasFocus=function(){return this._focused};ngmaterial.components.navBar=angular.module("material.components.navBar");