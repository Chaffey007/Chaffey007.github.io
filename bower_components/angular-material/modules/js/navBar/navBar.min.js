/*!
 * AngularJS Material Design
 * https://github.com/angular/material
 * @license MIT
 * v1.1.5
 */
(function(c,b,f){a["$inject"]=["$element","$scope","$timeout","$mdConstant"];e["$inject"]=["$mdAria","$$rAF"];d["$inject"]=["$element"];g["$inject"]=["$mdAria","$mdTheming"];b.module("material.components.navBar",["material.core"]).controller("MdNavBarController",a).directive("mdNavBar",g).controller("MdNavItemController",d).directive("mdNavItem",e);function g(h,i){return{restrict:"E",transclude:true,controller:a,controllerAs:"ctrl",bindToController:true,scope:{mdSelectedNavItem:"=?",mdNoInkBar:"=?",navBarAriaLabel:"@?"},template:'<div class="md-nav-bar"><nav role="navigation"><ul class="_md-nav-bar-list" ng-transclude role="listbox"tabindex="0"ng-focus="ctrl.onFocus()"ng-keydown="ctrl.onKeydown($event)"aria-label="{{ctrl.navBarAriaLabel}}"></ul></nav><md-nav-ink-bar ng-hide="ctrl.mdNoInkBar"></md-nav-ink-bar></div>',link:function(l,k,j,m){i(k);if(!m.navBarAriaLabel){h.expectAsync(k,"aria-label",b.noop)}}}}function a(h,j,m,l){this._$timeout=m;this._$scope=j;this._$mdConstant=l;this.mdSelectedNavItem;this.navBarAriaLabel;this._navBarEl=h[0];this._inkbar;var i=this;var k=this._$scope.$watch(function(){return i._navBarEl.querySelectorAll("._md-nav-button").length},function(n){if(n>0){i._initTabs();k()}})}a.prototype._initTabs=function(){this._inkbar=b.element(this._navBarEl.querySelector("md-nav-ink-bar"));var h=this;this._$timeout(function(){h._updateTabs(h.mdSelectedNavItem,f)});this._$scope.$watch("ctrl.mdSelectedNavItem",function(j,i){h._$timeout(function(){h._updateTabs(j,i)})})};a.prototype._updateTabs=function(l,i){var h=this;var k=this._getTabs();if(!k){return}var o=-1;var j=-1;var n=this._getTabByName(l);var m=this._getTabByName(i);if(m){m.setSelected(false);o=k.indexOf(m)}if(n){n.setSelected(true);j=k.indexOf(n)}this._$timeout(function(){h._updateInkBarStyles(n,j,o)})};a.prototype._updateInkBarStyles=function(i,h,l){this._inkbar.toggleClass("_md-left",h<l).toggleClass("_md-right",h>l);this._inkbar.css({display:h<0?"none":""});if(i){var k=i.getButtonEl();var j=k.offsetLeft;this._inkbar.css({left:j+"px",width:k.offsetWidth+"px"})}};a.prototype._getTabs=function(){var h=Array.prototype.slice.call(this._navBarEl.querySelectorAll(".md-nav-item")).map(function(i){return b.element(i).controller("mdNavItem")});return h.indexOf(f)?h:null};a.prototype._getTabByName=function(h){return this._findTab(function(i){return i.getName()==h})};a.prototype._getSelectedTab=function(){return this._findTab(function(h){return h.isSelected()})};a.prototype.getFocusedTab=function(){return this._findTab(function(h){return h.hasFocus()})};a.prototype._findTab=function(k){var j=this._getTabs();for(var h=0;h<j.length;h++){if(k(j[h])){return j[h]}}return null};a.prototype.onFocus=function(){var h=this._getSelectedTab();if(h){h.setFocused(true)}};a.prototype._moveFocus=function(h,i){h.setFocused(false);i.setFocused(true)};a.prototype.onKeydown=function(l){var i=this._$mdConstant.KEY_CODE;var k=this._getTabs();var h=this.getFocusedTab();if(!h){return}var j=k.indexOf(h);switch(l.keyCode){case i.UP_ARROW:case i.LEFT_ARROW:if(j>0){this._moveFocus(h,k[j-1])}break;case i.DOWN_ARROW:case i.RIGHT_ARROW:if(j<k.length-1){this._moveFocus(h,k[j+1])}break;case i.SPACE:case i.ENTER:this._$timeout(function(){h.getButtonEl().click()});break}};function e(h,i){return{restrict:"E",require:["mdNavItem","^mdNavBar"],controller:d,bindToController:true,controllerAs:"ctrl",replace:true,transclude:true,template:function(l,j){var r=j.mdNavClick;var k=j.mdNavHref;var m=j.mdNavSref;var p=j.srefOpts;var o;var q;var n;if((r?1:0)+(k?1:0)+(m?1:0)>1){throw Error("Must not specify more than one of the md-nav-click, md-nav-href, or md-nav-sref attributes per nav-item directive.")}if(r){o='ng-click="ctrl.mdNavClick()"'}else{if(k){o='ng-href="{{ctrl.mdNavHref}}"'}else{if(m){o='ui-sref="{{ctrl.mdNavSref}}"'}}}q=p?'ui-sref-opts="{{ctrl.srefOpts}}" ':"";if(o){n='<md-button class="_md-nav-button md-accent" ng-class="ctrl.getNgClassMap()" ng-blur="ctrl.setFocused(false)" tabindex="-1" '+q+o+'><span ng-transclude class="_md-nav-button-text"></span></md-button>'}return'<li class="md-nav-item" role="option" aria-selected="{{ctrl.isSelected()}}">'+(n||"")+"</li>"},scope:{mdNavClick:"&?",mdNavHref:"@?",mdNavSref:"@?",srefOpts:"=?",name:"@"},link:function(l,k,j,m){i(function(){var o=m[0];var p=m[1];var n=b.element(k[0].querySelector("._md-nav-button"));if(!o.name){o.name=b.element(k[0].querySelector("._md-nav-button-text")).text().trim()}n.on("click",function(){p.mdSelectedNavItem=o.name;l.$apply()});h.expectWithText(k,"aria-label")})}}}function d(h){this._$element=h;this.mdNavClick;this.mdNavHref;this.mdNavSref;this.srefOpts;this.name;this._selected=false;this._focused=false}d.prototype.getNgClassMap=function(){return{"md-active":this._selected,"md-primary":this._selected,"md-unselected":!this._selected,"md-focused":this._focused}};d.prototype.getName=function(){return this.name};d.prototype.getButtonEl=function(){return this._$element[0].querySelector("._md-nav-button")};d.prototype.setSelected=function(h){this._selected=h};d.prototype.isSelected=function(){return this._selected};d.prototype.setFocused=function(h){this._focused=h;if(h){this.getButtonEl().focus()}};d.prototype.hasFocus=function(){return this._focused}})(window,window.angular);