/*!
 * AngularJS Material Design
 * https://github.com/angular/material
 * @license MIT
 * v1.1.5
 */
(function(k,j,m){j.module("material.components.menuBar",["material.core","material.components.icon","material.components.menu"]);l["$inject"]=["$scope","$rootScope","$element","$attrs","$mdConstant","$document","$mdUtil","$timeout"];j.module("material.components.menuBar").controller("MenuBarController",l);var o=["handleKeyDown","handleMenuHover","scheduleOpenHoveredMenu","cancelScheduledOpen"];function l(c,e,b,d,i,f,h,g){this.$element=b;this.$attrs=d;this.$mdConstant=i;this.$mdUtil=h;this.$document=f;this.$scope=c;this.$rootScope=e;this.$timeout=g;var a=this;j.forEach(o,function(t){a[t]=j.bind(a,a[t])})}l.prototype.init=function(){var d=this.$element;var e=this.$mdUtil;var a=this.$scope;var b=this;var c=[];d.on("keydown",this.handleKeyDown);this.parentToolbar=e.getClosest(d,"MD-TOOLBAR");c.push(this.$rootScope.$on("$mdMenuOpen",function(f,g){if(b.getMenus().indexOf(g[0])!=-1){d[0].classList.add("md-open");g[0].classList.add("md-open");b.currentlyOpenMenu=g.controller("mdMenu");b.currentlyOpenMenu.registerContainerProxy(b.handleKeyDown);b.enableOpenOnHover()}}));c.push(this.$rootScope.$on("$mdMenuClose",function(f,h,g){var i=b.getMenus();if(i.indexOf(h[0])!=-1){d[0].classList.remove("md-open");h[0].classList.remove("md-open")}if(d[0].contains(h[0])){var t=h[0];while(t&&i.indexOf(t)==-1){t=e.getClosest(t,"MD-MENU",true)}if(t){if(!g.skipFocus){t.querySelector("button:not([disabled])").focus()}b.currentlyOpenMenu=m;b.disableOpenOnHover();b.setKeyboardMode(true)}}}));a.$on("$destroy",function(){b.disableOpenOnHover();while(c.length){c.shift()()}});this.setKeyboardMode(true)};l.prototype.setKeyboardMode=function(a){if(a){this.$element[0].classList.add("md-keyboard-mode")}else{this.$element[0].classList.remove("md-keyboard-mode")}};l.prototype.enableOpenOnHover=function(){if(this.openOnHoverEnabled){return}var a=this;a.openOnHoverEnabled=true;if(a.parentToolbar){a.parentToolbar.classList.add("md-has-open-menu");a.$mdUtil.nextTick(function(){j.element(a.parentToolbar).on("click",a.handleParentClick)},false)}j.element(a.getMenus()).on("mouseenter",a.handleMenuHover)};l.prototype.handleMenuHover=function(a){this.setKeyboardMode(false);if(this.openOnHoverEnabled){this.scheduleOpenHoveredMenu(a)}};l.prototype.disableOpenOnHover=function(){if(!this.openOnHoverEnabled){return}this.openOnHoverEnabled=false;if(this.parentToolbar){this.parentToolbar.classList.remove("md-has-open-menu");j.element(this.parentToolbar).off("click",this.handleParentClick)}j.element(this.getMenus()).off("mouseenter",this.handleMenuHover)};l.prototype.scheduleOpenHoveredMenu=function(a){var c=j.element(a.currentTarget);var b=c.controller("mdMenu");this.setKeyboardMode(false);this.scheduleOpenMenu(b)};l.prototype.scheduleOpenMenu=function(a){var c=this;var b=this.$timeout;if(a!=c.currentlyOpenMenu){b.cancel(c.pendingMenuOpen);c.pendingMenuOpen=b(function(){c.pendingMenuOpen=m;if(c.currentlyOpenMenu){c.currentlyOpenMenu.close(true,{closeAll:true})}a.open()},200,false)}};l.prototype.handleKeyDown=function(e){var c=this.$mdConstant.KEY_CODE;var g=this.currentlyOpenMenu;var a=g&&g.isOpen;this.setKeyboardMode(true);var f,b,d;switch(e.keyCode){case c.DOWN_ARROW:if(g){g.focusMenuContainer()}else{this.openFocusedMenu()}f=true;break;case c.UP_ARROW:g&&g.close();f=true;break;case c.LEFT_ARROW:b=this.focusMenu(-1);if(a){d=j.element(b).controller("mdMenu");this.scheduleOpenMenu(d)}f=true;break;case c.RIGHT_ARROW:b=this.focusMenu(+1);if(a){d=j.element(b).controller("mdMenu");this.scheduleOpenMenu(d)}f=true;break}if(f){e&&e.preventDefault&&e.preventDefault();e&&e.stopImmediatePropagation&&e.stopImmediatePropagation()}};l.prototype.focusMenu=function(c){var d=this.getMenus();var a=this.getFocusedMenuIndex();if(a==-1){a=this.getOpenMenuIndex()}var b=false;if(a==-1){a=0;b=true}else{if(c<0&&a>0||c>0&&a<d.length-c){a+=c;b=true}}if(b){d[a].querySelector("button").focus();return d[a]}};l.prototype.openFocusedMenu=function(){var a=this.getFocusedMenu();a&&j.element(a).controller("mdMenu").open()};l.prototype.getMenus=function(){var a=this.$element;return this.$mdUtil.nodesToArray(a[0].children).filter(function(b){return b.nodeName=="MD-MENU"})};l.prototype.getFocusedMenu=function(){return this.getMenus()[this.getFocusedMenuIndex()]};l.prototype.getFocusedMenuIndex=function(){var a=this.$mdUtil;var c=a.getClosest(this.$document[0].activeElement,"MD-MENU");if(!c){return -1}var b=this.getMenus().indexOf(c);return b};l.prototype.getOpenMenuIndex=function(){var a=this.getMenus();for(var b=0;b<a.length;++b){if(a[b].classList.contains("md-open")){return b}}return -1};l.prototype.handleParentClick=function(a){var b=this.querySelector("md-menu.md-open");if(b&&!b.contains(a.target)){j.element(b).controller("mdMenu").close(true,{closeAll:true})}};n["$inject"]=["$mdUtil","$mdTheming"];j.module("material.components.menuBar").directive("mdMenuBar",n);function n(a,c){return{restrict:"E",require:"mdMenuBar",controller:"MenuBarController",compile:function b(e,f){if(!f.ariaRole){e[0].setAttribute("role","menubar")}j.forEach(e[0].children,function(h){if(h.nodeName=="MD-MENU"){if(!h.hasAttribute("md-position-mode")){h.setAttribute("md-position-mode","left bottom");h.querySelector("button, a, md-button").setAttribute("role","menuitem")}var g=a.nodesToArray(h.querySelectorAll("md-menu-content"));j.forEach(g,function(i){i.classList.add("md-menu-bar-menu");i.classList.add("md-dense");if(!i.hasAttribute("width")){i.setAttribute("width",5)}})}});e.find("md-menu-item").addClass("md-in-menu-bar");return function d(h,i,t,g){i.addClass("_md");c(h,i);g.init()}}}}j.module("material.components.menuBar").directive("mdMenuDivider",r);function r(){return{restrict:"E",compile:function(a,b){if(!b.role){a[0].setAttribute("role","separator")}}}}q["$inject"]=["$scope","$element","$attrs"];j.module("material.components.menuBar").controller("MenuItemController",q);function q(a,b,c){this.$element=b;this.$attrs=c;this.$scope=a}q.prototype.init=function(a){var b=this.$element;var c=this.$attrs;this.ngModel=a;if(c.type=="checkbox"||c.type=="radio"){this.mode=c.type;this.iconEl=b[0].children[0];this.buttonEl=b[0].children[1];if(a){this.initClickListeners()}}};q.prototype.clearNgAria=function(){var b=this.$element[0];var a=["role","tabindex","aria-invalid","aria-checked"];j.forEach(a,function(c){b.removeAttribute(c)})};q.prototype.initClickListeners=function(){var v=this;var g=this.ngModel;var x=this.$scope;var a=this.$attrs;var w=this.$element;var d=this.mode;this.handleClick=j.bind(this,this.handleClick);var b=this.iconEl;var f=j.element(this.buttonEl);var e=this.handleClick;a.$observe("disabled",c);c(a.disabled);g.$render=function h(){v.clearNgAria();if(i()){b.style.display="";f.attr("aria-checked","true")}else{b.style.display="none";f.attr("aria-checked","false")}};x.$$postDigest(g.$render);function i(){if(d=="radio"){var s=a.ngValue?x.$eval(a.ngValue):a.value;return g.$modelValue==s}else{return g.$modelValue}}function c(s){if(s){f.off("click",e)}else{f.on("click",e)}}};q.prototype.handleClick=function(b){var e=this.mode;var a=this.ngModel;var d=this.$attrs;var c;if(e=="checkbox"){c=!a.$modelValue}else{if(e=="radio"){c=d.ngValue?this.$scope.$eval(d.ngValue):d.value}}a.$setViewValue(c);a.$render()};p["$inject"]=["$mdUtil","$mdConstant","$$mdSvgRegistry"];j.module("material.components.menuBar").directive("mdMenuItem",p);function p(a,c,b){return{controller:"MenuItemController",require:["mdMenuItem","?ngModel"],priority:c.BEFORE_NG_ARIA,compile:function(i,v){var g=v.type;var d="md-in-menu-bar";if((g=="checkbox"||g=="radio")&&i.hasClass(d)){var x=i[0].textContent;var h=j.element('<md-button type="button"></md-button>');var w='<md-icon md-svg-src="'+b.mdChecked+'"></md-icon>';h.html(x);h.attr("tabindex","0");i.html("");i.append(j.element(w));i.append(h);i.addClass("md-indent").removeClass(d);e("role",g=="checkbox"?"menuitemcheckbox":"menuitemradio",h);f("ng-disabled")}else{e("role","menuitem",i[0].querySelector("md-button, button, a"))}return function(D,t,u,B){var C=B[0];var s=B[1];C.init(s)};function e(u,s,t){t=t||i;if(t instanceof j.element){t=t[0]}if(!t.hasAttribute(u)){t.setAttribute(u,s)}}function f(s){var t=a.prefixer(s);j.forEach(t,function(u){if(i[0].hasAttribute(u)){var z=i[0].getAttribute(u);h[0].setAttribute(u,z);i[0].removeAttribute(u)}})}}}}})(window,window.angular);