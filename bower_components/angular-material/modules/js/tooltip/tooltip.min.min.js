/*!
 * AngularJS Material Design
 * https://github.com/angular/material
 * @license MIT
 * v1.1.5
 */
(function(f,g,h){i["$inject"]=["$timeout","$window","$$rAF","$document","$interpolate","$mdUtil","$mdPanel","$$mdTooltipRegistry"];g.module("material.components.tooltip",["material.core","material.components.panel"]).directive("mdTooltip",i).service("$$mdTooltipRegistry",j);function i(x,z,c,w,v,B,A,D){var u="focus touchstart mouseenter";var C="blur touchcancel mouseleave";var d=100;var b=0;var y="bottom";var a={top:{x:A.xPosition.CENTER,y:A.yPosition.ABOVE},right:{x:A.xPosition.OFFSET_END,y:A.yPosition.CENTER},bottom:{x:A.xPosition.CENTER,y:A.yPosition.BELOW},left:{x:A.xPosition.OFFSET_START,y:A.yPosition.CENTER}};return{restrict:"E",priority:210,scope:{mdZIndex:"=?mdZIndex",mdDelay:"=?mdDelay",mdVisible:"=?mdVisible",mdAutohide:"=?mdAutohide",mdDirection:"@?mdDirection"},link:e};function e(U,r,R){var s="md-tooltip-"+B.nextUid();var Z=B.getParentWithPointerEvents(r);var p=c.throttle(S);var q=false;var l,k,X,T,t,aa,Y=null;W();n();r.detach();S();V();ac();function W(){U.mdZIndex=U.mdZIndex||d;U.mdDelay=U.mdDelay||b;if(!a[U.mdDirection]){U.mdDirection=y}}function n(E){var F=E||v(r.text().trim())(U.$parent);if((!Z.attr("aria-label")&&!Z.attr("aria-labelledby"))||Z.attr("md-labeled-by-tooltip")){Z.attr("aria-label",F);if(!Z.attr("md-labeled-by-tooltip")){Z.attr("md-labeled-by-tooltip",s)}}}function S(){W();if(T&&T.panelEl){T.panelEl.removeClass(l)}l="md-origin-"+U.mdDirection;k=a[U.mdDirection];X=A.newPanelPosition().relativeTo(Z).addPanelPosition(k.x,k.y);if(T&&T.panelEl){T.panelEl.addClass(l);T.updatePosition(X)}}function V(){if(Z[0]&&"MutationObserver" in z){var I=new MutationObserver(function(M){if(K(M)){B.nextTick(function(){o(false)})}});I.observe(Z[0],{attributes:true})}Y=false;D.register("scroll",G,true);D.register("blur",H);D.register("resize",p);U.$on("$destroy",E);Z.on("mousedown",F);Z.on(u,J);function K(M){M.some(function(N){return N.attributeName==="disabled"&&Z[0].disabled});return false}function G(){o(false)}function H(){Y=document.activeElement===Z[0]}function J(M){if(M.type==="focus"&&Y){Y=false}else{if(!U.mdVisible){Z.on(C,L);o(true);if(M.type==="touchstart"){Z.one("touchend",function(){B.nextTick(function(){w.one("touchend",L)},false)})}}}}function L(){t=U.hasOwnProperty("mdAutohide")?U.mdAutohide:R.hasOwnProperty("mdAutohide");if(t||q||w[0].activeElement!==Z[0]){if(aa){x.cancel(aa);o.queued=false;aa=null}Z.off(C,L);Z.triggerHandler("blur");o(false)}q=false}function F(){q=true}function E(){D.deregister("scroll",G,true);D.deregister("blur",H);D.deregister("resize",p);Z.off(u,J).off(C,L).off("mousedown",F);L();I&&I.disconnect()}}function ac(){if(r[0]&&"MutationObserver" in z){var F=new MutationObserver(function(G){G.forEach(function(H){if(H.attributeName==="md-visible"&&!U.visibleWatcher){U.visibleWatcher=U.$watch("mdVisible",m)}})});F.observe(r[0],{attributes:true});if(R.hasOwnProperty("mdVisible")){U.visibleWatcher=U.$watch("mdVisible",m)}}else{U.visibleWatcher=U.$watch("mdVisible",m)}U.$watch("mdDirection",S);r.one("$destroy",E);Z.one("$destroy",E);U.$on("$destroy",function(){o(false);T&&T.destroy();F&&F.disconnect();r.remove()});if(r.text().indexOf(v.startSymbol())>-1){U.$watch(function(){return r.text().trim()},n)}function E(){U.$destroy()}}function o(E){if(o.queued&&o.value===!!E||!o.queued&&U.mdVisible===!!E){return}o.value=!!E;if(!o.queued){if(E){o.queued=true;aa=x(function(){U.mdVisible=o.value;o.queued=false;aa=null;if(!U.visibleWatcher){m(U.mdVisible)}},U.mdDelay)}else{B.nextTick(function(){U.mdVisible=false;if(!U.visibleWatcher){m(false)}})}}}function m(E){E?ad():ab()}function ad(){if(!r[0].textContent.trim()){throw new Error("Text for the tooltip has not been provided. Please include text within the mdTooltip element.")}if(!T){var F=g.element(document.body);var G=A.newPanelAnimation().openFrom(Z).closeTo(Z).withAnimation({open:"md-show",close:"md-hide"});var E={id:s,attachTo:F,contentElement:r,propagateContainerEvents:true,panelClass:"md-tooltip "+l,animation:G,position:X,zIndex:U.mdZIndex,focusOnOpen:false};T=A.create(E)}T.open().then(function(){T.panelEl.attr("role","tooltip")})}function ab(){T&&T.close()}}}function j(){var b={};var e=g.element(f);return{register:c,deregister:a};function d(l){if(b[l.type]){b[l.type].forEach(function(k){k.call(this,l)},this)}}function c(r,o,q){var p=b[r]=b[r]||[];if(!p.length){q?f.addEventListener(r,d,true):e.on(r,d)}if(p.indexOf(o)===-1){p.push(o)}}function a(s,t,r){var q=b[s];var p=q?q.indexOf(t):-1;if(p>-1){q.splice(p,1);if(q.length===0){r?f.removeEventListener(s,d,true):e.off(s,d)}}}}})(window,window.angular);