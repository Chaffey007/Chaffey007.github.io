/*!
 * AngularJS Material Design
 * https://github.com/angular/material
 * @license MIT
 * v1.1.5
 */
(function(b,a,e){d["$inject"]=["$timeout","$window","$$rAF","$document","$interpolate","$mdUtil","$mdPanel","$$mdTooltipRegistry"];a.module("material.components.tooltip",["material.core","material.components.panel"]).directive("mdTooltip",d).service("$$mdTooltipRegistry",c);function d(j,h,p,k,l,f,g,s){var m="focus touchstart mouseenter";var t="blur touchcancel mouseleave";var o=100;var q=0;var i="bottom";var r={top:{x:g.xPosition.CENTER,y:g.yPosition.ABOVE},right:{x:g.xPosition.OFFSET_END,y:g.yPosition.CENTER},bottom:{x:g.xPosition.CENTER,y:g.yPosition.BELOW},left:{x:g.xPosition.OFFSET_START,y:g.yPosition.CENTER}};return{restrict:"E",priority:210,scope:{mdZIndex:"=?mdZIndex",mdDelay:"=?mdDelay",mdVisible:"=?mdVisible",mdAutohide:"=?mdAutohide",mdDirection:"@?mdDirection"},link:n};function n(w,z,I){var J="md-tooltip-"+f.nextUid();var E=f.getParentWithPointerEvents(z);var L=p.throttle(x);var K=false;var P,Q,F,H,y,D,u=null;G();N();z.detach();x();v();B();function G(){w.mdZIndex=w.mdZIndex||o;w.mdDelay=w.mdDelay||q;if(!r[w.mdDirection]){w.mdDirection=i}}function N(S){var R=S||l(z.text().trim())(w.$parent);if((!E.attr("aria-label")&&!E.attr("aria-labelledby"))||E.attr("md-labeled-by-tooltip")){E.attr("aria-label",R);if(!E.attr("md-labeled-by-tooltip")){E.attr("md-labeled-by-tooltip",J)}}}function x(){G();if(H&&H.panelEl){H.panelEl.removeClass(P)}P="md-origin-"+w.mdDirection;Q=r[w.mdDirection];F=g.newPanelPosition().relativeTo(E).addPanelPosition(Q.x,Q.y);if(H&&H.panelEl){H.panelEl.addClass(P);H.updatePosition(F)}}function v(){if(E[0]&&"MutationObserver" in h){var S=new MutationObserver(function(Z){if(Y(Z)){f.nextTick(function(){M(false)})}});S.observe(E[0],{attributes:true})}u=false;s.register("scroll",U,true);s.register("blur",T);s.register("resize",L);w.$on("$destroy",W);E.on("mousedown",V);E.on(m,R);function Y(Z){Z.some(function(aa){return aa.attributeName==="disabled"&&E[0].disabled});return false}function U(){M(false)}function T(){u=document.activeElement===E[0]}function R(Z){if(Z.type==="focus"&&u){u=false}else{if(!w.mdVisible){E.on(t,X);M(true);if(Z.type==="touchstart"){E.one("touchend",function(){f.nextTick(function(){k.one("touchend",X)},false)})}}}}function X(){y=w.hasOwnProperty("mdAutohide")?w.mdAutohide:I.hasOwnProperty("mdAutohide");if(y||K||k[0].activeElement!==E[0]){if(D){j.cancel(D);M.queued=false;D=null}E.off(t,X);E.triggerHandler("blur");M(false)}K=false}function V(){K=true}function W(){s.deregister("scroll",U,true);s.deregister("blur",T);s.deregister("resize",L);E.off(m,R).off(t,X).off("mousedown",V);X();S&&S.disconnect()}}function B(){if(z[0]&&"MutationObserver" in h){var R=new MutationObserver(function(T){T.forEach(function(U){if(U.attributeName==="md-visible"&&!w.visibleWatcher){w.visibleWatcher=w.$watch("mdVisible",O)}})});R.observe(z[0],{attributes:true});if(I.hasOwnProperty("mdVisible")){w.visibleWatcher=w.$watch("mdVisible",O)}}else{w.visibleWatcher=w.$watch("mdVisible",O)}w.$watch("mdDirection",x);z.one("$destroy",S);E.one("$destroy",S);w.$on("$destroy",function(){M(false);H&&H.destroy();R&&R.disconnect();z.remove()});if(z.text().indexOf(l.startSymbol())>-1){w.$watch(function(){return z.text().trim()},N)}function S(){w.$destroy()}}function M(R){if(M.queued&&M.value===!!R||!M.queued&&w.mdVisible===!!R){return}M.value=!!R;if(!M.queued){if(R){M.queued=true;D=j(function(){w.mdVisible=M.value;M.queued=false;D=null;if(!w.visibleWatcher){O(w.mdVisible)}},w.mdDelay)}else{f.nextTick(function(){w.mdVisible=false;if(!w.visibleWatcher){O(false)}})}}}function O(R){R?A():C()}function A(){if(!z[0].textContent.trim()){throw new Error("Text for the tooltip has not been provided. Please include text within the mdTooltip element.")}if(!H){var S=a.element(document.body);var R=g.newPanelAnimation().openFrom(E).closeTo(E).withAnimation({open:"md-show",close:"md-hide"});var T={id:J,attachTo:S,contentElement:z,propagateContainerEvents:true,panelClass:"md-tooltip "+P,animation:R,position:F,zIndex:w.mdZIndex,focusOnOpen:false};H=g.create(T)}H.open().then(function(){H.panelEl.attr("role","tooltip")})}function C(){H&&H.close()}}}function c(){var i={};var f=a.element(b);return{register:h,deregister:j};function g(k){if(i[k.type]){i[k.type].forEach(function(l){l.call(this,k)},this)}}function h(n,m,k){var l=i[n]=i[n]||[];if(!l.length){k?b.addEventListener(n,g,true):f.on(n,g)}if(l.indexOf(m)===-1){l.push(m)}}function j(o,n,k){var l=i[o];var m=l?l.indexOf(n):-1;if(m>-1){l.splice(m,1);if(l.length===0){k?b.removeEventListener(o,g,true):f.off(o,g)}}}}})(window,window.angular);