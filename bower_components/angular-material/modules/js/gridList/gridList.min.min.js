/*!
 * AngularJS Material Design
 * https://github.com/angular/material
 * @license MIT
 * v1.1.5
 */
(function(o,i,l){m["$inject"]=["$mdUtil"];j["$inject"]=["$mdUtil"];k["$inject"]=["$interpolate","$mdConstant","$mdGridLayout","$mdMedia"];p["$inject"]=["$mdMedia"];i.module("material.components.gridList",["material.core"]).directive("mdGridList",k).directive("mdGridTile",p).directive("mdGridTileFooter",n).directive("mdGridTileHeader",n).factory("$mdGridLayout",j);function k(b,c,a,d){return{restrict:"E",controller:m,scope:{mdOnLayout:"&"},link:e};function e(ai,af,W,ah){af.addClass("_md");af.attr("role","list");ah.layoutDelegate=N;var f=i.bind(ah,ah.invalidateLayout),X=T();ai.$on("$destroy",P);function T(){for(var q in c.MEDIA){d(q);d.getQuery(c.MEDIA[q]).addListener(f)}return d.watchResponsiveAttributes(["md-cols","md-row-height","md-gutter"],W,U)}function P(){ah.layoutDelegate=i.noop;X();for(var q in c.MEDIA){d.getQuery(c.MEDIA[q]).removeListener(f)}}function U(q){if(q==null){ah.invalidateLayout()}else{if(d(q)){ah.invalidateLayout()}}}var ad;function N(r){var t=S();var s={tileSpans:g(t),colCount:aj(),rowMode:Y(),rowHeight:Q(),gutter:ag()};if(!r&&i.equals(s,ad)){return}var q=a(s.colCount,s.tileSpans,t).map(function(u,v){return{grid:{element:af,style:Z(s.colCount,v,s.gutter,s.rowMode,s.rowHeight)},tiles:u.map(function(w,x){return{element:i.element(t[x]),style:O(w.position,w.spans,s.colCount,v,s.gutter,s.rowMode,s.rowHeight)}})}}).reflow().performance();ai.mdOnLayout({$event:{performance:q}});ad=s}var V=b.startSymbol();var R=b.endSymbol();function aa(q){return V+q+R}var h=b(aa("share")+"% - ("+aa("gutter")+" * "+aa("gutterShare")+")");var ab=b("calc(("+aa("unit")+" + "+aa("gutter")+") * "+aa("offset")+")");var ac=b("calc(("+aa("unit")+") * "+aa("span")+" + ("+aa("span")+" - 1) * "+aa("gutter")+")");function O(w,u,q,s,y,x,D){var v=(1/q)*100;var z=(q-1)/q;var B=h({share:v,gutterShare:z,gutter:y});var A=document.dir!="rtl"&&document.body.dir!="rtl";var C=A?{left:ab({unit:B,offset:w.col,gutter:y}),width:ac({unit:B,span:u.col,gutter:y}),paddingTop:"",marginTop:"",top:"",height:""}:{right:ab({unit:B,offset:w.col,gutter:y}),width:ac({unit:B,span:u.col,gutter:y}),paddingTop:"",marginTop:"",top:"",height:""};switch(x){case"fixed":C.top=ab({unit:D,offset:w.row,gutter:y});C.height=ac({unit:D,span:u.row,gutter:y});break;case"ratio":var r=v/D;var E=h({share:r,gutterShare:z,gutter:y});C.paddingTop=ac({unit:E,span:u.row,gutter:y});C.marginTop=ab({unit:E,offset:w.row,gutter:y});break;case"fit":var t=(s-1)/s;var r=(1/s)*100;var E=h({share:r,gutterShare:t,gutter:y});C.top=ab({unit:E,offset:w.row,gutter:y});C.height=ac({unit:E,span:u.row,gutter:y});break}return C}function Z(r,t,w,v,z){var y={};switch(v){case"fixed":y.height=ac({unit:z,span:t,gutter:w});y.paddingBottom="";break;case"ratio":var x=r===1?0:(r-1)/r,u=(1/r)*100,s=u*(1/z),q=h({share:s,gutterShare:x,gutter:w});y.height="";y.paddingBottom=ac({unit:q,span:t,gutter:w});break;case"fit":break}return y}function S(){return[].filter.call(af.children(),function(q){return q.tagName=="MD-GRID-TILE"&&!q.$$mdDestroyed})}function g(q){return[].map.call(q,function(r){var s=i.element(r).controller("mdGridTile");return{row:parseInt(d.getResponsiveAttribute(s.$attrs,"md-rowspan"),10)||1,col:parseInt(d.getResponsiveAttribute(s.$attrs,"md-colspan"),10)||1}})}function aj(){var q=parseInt(d.getResponsiveAttribute(W,"md-cols"),10);if(isNaN(q)){throw"md-grid-list: md-cols attribute was not found, or contained a non-numeric value"}return q}function ag(){return ae(d.getResponsiveAttribute(W,"md-gutter")||1)}function Q(){var q=d.getResponsiveAttribute(W,"md-row-height");if(!q){throw"md-grid-list: md-row-height attribute was not found"}switch(Y()){case"fixed":return ae(q);case"ratio":var r=q.split(":");return parseFloat(r[0])/parseFloat(r[1]);case"fit":return 0}}function Y(){var q=d.getResponsiveAttribute(W,"md-row-height");if(!q){throw"md-grid-list: md-row-height attribute was not found"}if(q=="fit"){return"fit"}else{if(q.indexOf(":")!==-1){return"ratio"}else{return"fixed"}}}function ae(q){return/\D$/.test(q)?q:q+"px"}}}function m(a){this.layoutInvalidated=false;this.tilesInvalidated=false;this.$timeout_=a.nextTick;this.layoutDelegate=i.noop}m.prototype={invalidateTiles:function(){this.tilesInvalidated=true;this.invalidateLayout()},invalidateLayout:function(){if(this.layoutInvalidated){return}this.layoutInvalidated=true;this.$timeout_(i.bind(this,this.layout))},layout:function(){try{this.layoutDelegate(this.tilesInvalidated)}finally{this.layoutInvalidated=false;this.tilesInvalidated=false}}};function j(a){var d=e;b.animateWith=function(f){d=!i.isFunction(f)?e:f};return b;function b(x,h){var y,v,z,w,f,g;w=a.time(function(){v=c(x,h)});return y={layoutInfo:function(){return v},map:function(q){f=a.time(function(){var r=y.layoutInfo();z=q(r.positioning,r.rowCount)});return y},reflow:function(q){g=a.time(function(){var r=q||d;r(z.grid,z.tiles)});return y},performance:function(){return{tileCount:h.length,layoutTime:w,mapTime:f,reflowTime:g,totalTime:w+f+g}}}}function e(f,g){f.element.css(f.style);g.forEach(function(h){h.element.css(h.style)})}function c(B,h){var D=0,g=0,f=z();return{positioning:h.map(function(r,q){return{spans:r,position:C(r,q)}}),rowCount:g+Math.max.apply(Math,f)};function C(s,t){if(s.col>B){throw"md-grid-list: Tile at position "+t+" has a colspan ("+s.col+") that exceeds the column count ("+B+")"}var r=0,q=0;while(q-r<s.col){if(D>=B){A();continue}r=f.indexOf(0,D);if(r===-1||(q=x(r+1))===-1){r=q=0;A();continue}D=q+1}y(r,s.col,s.row);D=r+s.col;return{col:r,row:g}}function A(){D=0;g++;y(0,B,-1)}function y(r,s,t){for(var q=r;q<r+s;q++){f[q]=Math.max(f[q]+t,0)}}function x(r){var q;for(q=r;q<f.length;q++){if(f[q]!==0){return q}}if(q===f.length){return q}}function z(){var r=[];for(var q=0;q<B;q++){r.push(0)}return r}}}function p(a){return{restrict:"E",require:"^mdGridList",template:"<figure ng-transclude></figure>",transclude:true,scope:{},controller:["$attrs",function(c){this.$attrs=c}],link:b};function b(g,h,d,c){h.attr("role","listitem");var f=a.watchResponsiveAttributes(["md-colspan","md-rowspan"],d,i.bind(c,c.invalidateLayout));c.invalidateTiles();g.$on("$destroy",function(){h[0].$$mdDestroyed=true;f();c.invalidateLayout()});if(i.isDefined(g.$parent.$index)){g.$watch(function(){return g.$parent.$index},function e(s,t){if(s===t){return}c.invalidateTiles()})}}}function n(){return{template:"<figcaption ng-transclude></figcaption>",transclude:true}}})(window,window.angular);