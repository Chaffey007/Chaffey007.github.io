(function(ca,bQ){function aX(a,c){var d=a.split(/\n/g);for(var b=0;b<d.length;b++){var e=d[b];if(c>=e.length){c-=e.length}else{return{line:b+1,column:c+1}}}}var bZ=Object.create(null);function a2(a){var d=bZ[a];if(d!=null){return d}function c(e){return a}c["$$watchDelegate"]=function b(e,i,f){var h=e["$watch"](bO,function g(){if(bB(i)){i(a,a,e)}h()},f);return h};bZ[a]=c;c.exp=a;c.expressions=[];return c}function bd(b,c){if(c===0){return b}function f(g){return(g==null)?g:g-c}function e(g){return f(b(g))}var a;e["$$watchDelegate"]=function d(i,h,g){a=i["$watch"](b,function j(k,l){if(bB(h)){h(f(k),f(l),i)}},g);return a};return e}function bn(b,a){var d=this;this.expressionFn=b;this.choices=a;if(a.other===undefined){throw bs("reqother","“other” is a required option.")}this.parsedFn=function(e){return d.getResult(e)};this.parsedFn["$$watchDelegate"]=function c(f,e,g){return d.watchDelegate(f,e,g)};this.parsedFn.exp=b.exp;this.parsedFn.expressions=b.expressions}bn.prototype.getMessageFn=function bP(a){return this.choices[this.categorizeValue(a)]};bn.prototype.getResult=function bc(a){return this.getMessageFn(this.expressionFn(a))(a)};bn.prototype.watchDelegate=function a0(c,a,d){var b=new a6(this,c,a,d);return function(){b.cancelWatch()}};function a6(c,b,a,f){var d=this;this.scope=b;this.msgSelector=c;this.listener=a;this.objectEquality=f;this.lastMessage=undefined;this.messageFnWatcher=bO;var e=function(h,g){return d.expressionFnListener(h,g)};this.expressionFnWatcher=b["$watch"](c.expressionFn,e,f)}a6.prototype.expressionFnListener=function bA(b,c){var e=this;this.messageFnWatcher();var d=function(g,f){return e.messageFnListener(g,f)};var a=this.msgSelector.getMessageFn(b);this.messageFnWatcher=this.scope["$watch"](a,d,this.objectEquality)};a6.prototype.messageFnListener=function bU(b,a){if(bB(this.listener)){this.listener.call(null,b,b===a?b:this.lastMessage,this.scope)}this.lastMessage=b};a6.prototype.cancelWatch=function bG(){this.expressionFnWatcher();this.messageFnWatcher()};function a5(b,a){bn.call(this,b,a)}function b0(){}b0.prototype=bn.prototype;a5.prototype=new b0();a5.prototype.categorizeValue=function b4(a){return(this.choices[a]!==undefined)?a:"other"};function aP(b,a,c,d){bn.call(this,b,a);this.offset=c;this.pluralCat=d}function aW(){}aW.prototype=bn.prototype;aP.prototype=new aW();aP.prototype.categorizeValue=function bw(a){if(isNaN(a)){return"other"}else{if(this.choices[a]!==undefined){return a}else{var b=this.pluralCat(a-this.offset);return(this.choices[b]!==undefined)?b:"other"}}};function a1(b,a){this.trustedContext=b;this.allOrNothing=a;this.textParts=[];this.expressionFns=[];this.expressionIndices=[];this.partialText="";this.concatParts=null}a1.prototype.flushPartialText=function bI(){if(this.partialText){if(this.concatParts==null){this.textParts.push(this.partialText)}else{this.textParts.push(this.concatParts.join(""));this.concatParts=null}this.partialText=""}};a1.prototype.addText=function bH(a){if(a.length){if(!this.partialText){this.partialText=a}else{if(this.concatParts){this.concatParts.push(a)}else{this.concatParts=[this.partialText,a]}}}};a1.prototype.addExpressionFn=function bb(a){this.flushPartialText();this.expressionIndices.push(this.textParts.length);this.expressionFns.push(a);this.textParts.push("")};a1.prototype.getExpressionValues=function cc(a){var c=new Array(this.expressionFns.length);for(var b=0;b<this.expressionFns.length;b++){c[b]=this.expressionFns[b](a)}return c};a1.prototype.getResult=function bc(b){for(var a=0;a<this.expressionIndices.length;a++){var c=b[a];if(this.allOrNothing&&c===undefined){return}this.textParts[this.expressionIndices[a]]=c}return this.textParts.join("")};a1.prototype.toParsedFn=function a8(f,a){var e=this;this.flushPartialText();if(f&&this.expressionFns.length===0){return undefined}if(this.textParts.length===0){return a2("")}if(this.trustedContext&&this.textParts.length>1){bs.throwNoconcat(a)}if(this.expressionFns.length===0){if(this.textParts.length!==1){this.errorInParseLogic()}return a2(this.textParts[0])}var b=function(g){return e.getResult(e.getExpressionValues(g))};b["$$watchDelegate"]=function c(i,h,g){return e.watchDelegate(i,h,g)};b.exp=a;b.expressions=new Array(this.expressionFns.length);for(var d=0;d<this.expressionFns.length;d++){b.expressions[d]=this.expressionFns[d]["exp"]}return b};a1.prototype.watchDelegate=function a0(b,a,d){var c=new b9(this,b,a,d);return function(){c.cancelWatch()}};function b9(b,c,a,e){this.interpolationParts=b;this.scope=c;this.previousResult=(undefined);this.listener=a;var d=this;this.expressionFnsWatcher=c["$watchGroup"](b.expressionFns,function(f,g){d.watchListener(f,g)})}b9.prototype.watchListener=function aO(a,b){var c=this.interpolationParts.getResult(a);if(bB(this.listener)){this.listener.call(null,c,a===b?c:this.previousResult,this.scope)}this.previousResult=c};b9.prototype.cancelWatch=function bG(){this.expressionFnsWatcher()};function b2(b,a){a.expressionFn=b.expressionFn;a.expressionMinusOffsetFn=b.expressionMinusOffsetFn;a.pluralOffset=b.pluralOffset;a.choices=b.choices;a.choiceKey=b.choiceKey;a.interpolationParts=b.interpolationParts;a.ruleChoiceKeyword=b.ruleChoiceKeyword;a.msgStartIndex=b.msgStartIndex;a.expressionStartIndex=b.expressionStartIndex}function be(a){b2(a,this)}function bY(h,a,c,d,g,f,e,b){this.text=h;this.index=a||0;this.$parse=c;this.pluralCat=d;this.stringifier=g;this.mustHaveExpression=!!f;this.trustedContext=e;this.allOrNothing=!!b;this.expressionFn=null;this.expressionMinusOffsetFn=null;this.pluralOffset=null;this.choices=null;this.choiceKey=null;this.interpolationParts=null;this.msgStartIndex=null;this.nestedStateStack=[];this.parsedFn=null;this.rule=null;this.ruleStack=null;this.ruleChoiceKeyword=null;this.interpNestLevel=null;this.expressionStartIndex=null;this.stringStartIndex=null;this.stringQuote=null;this.stringInterestsRe=null;this.angularOperatorStack=null;this.textPart=null}var a7=new be(new bY("",0,null,null,null,false,null,false));bY.prototype.pushState=function bL(){this.nestedStateStack.push(new be(this));b2(a7,this)};bY.prototype.popState=function b8(){if(this.nestedStateStack.length===0){this.errorInParseLogic()}var a=this.nestedStateStack.pop();b2(a,this)};bY.prototype.matchRe=function aQ(a,b){a.lastIndex=this.index;var c=a.exec(this.text);if(c!=null&&(b===true||(c.index===this.index))){this.index=a.lastIndex;return c}return null};bY.prototype.searchRe=function bR(a){return this.matchRe(a,true)};bY.prototype.consumeRe=function aN(a){return !!this.matchRe(a)};bY.prototype.run=function by(a){this.ruleStack=[a];do{this.rule=this.ruleStack.pop();while(this.rule){this.rule()}this.assertRuleOrNull(this.rule)}while(this.ruleStack.length>0)};bY.prototype.errorInParseLogic=function cb(){throw bs("logicbug","The messageformat parser has encountered an internal error.  Please file a github issue against the AngularJS project and provide this message text that triggers the bug.  Text: “{0}”",this.text)};bY.prototype.assertRuleOrNull=function bT(a){if(a===undefined){this.errorInParseLogic()}};var bh=/\s*(\w+)\s*/g;bY.prototype.errorExpecting=function bC(){var b=this.matchRe(bh),c;if(b==null){c=aX(this.text,this.index);throw bs("reqarg","Expected one of “plural” or “select” at line {0}, column {1} of text “{2}”",c.line,c.column,this.text)}var a=b[1];if(a==="select"||a==="plural"){c=aX(this.text,this.index);throw bs("reqcomma","Expected a comma after the keyword “{0}” at line {1}, column {2} of text “{3}”",a,c.line,c.column,this.text)}else{c=aX(this.text,this.index);throw bs("unknarg","Unsupported keyword “{0}” at line {0}, column {1}. Only “plural” and “select” are currently supported.  Text: “{3}”",a,c.line,c.column,this.text)}};var bK=/['"]/g;bY.prototype.ruleString=function b7(){var a=this.matchRe(bK);if(a==null){var b=aX(this.text,this.index);throw bs("wantstring","Expected the beginning of a string at line {0}, column {1} in text “{2}”",b.line,b.column,this.text)}this.startStringAtMatch(a)};bY.prototype.startStringAtMatch=function bo(a){this.stringStartIndex=a.index;this.stringQuote=a[0];this.stringInterestsRe=this.stringQuote==="'"?bN:aR;this.rule=this.ruleInsideString};var bN=/\\(?:\\|'|u[0-9A-Fa-f]{4}|x[0-9A-Fa-f]{2}|[0-7]{3}|\r\n|\n|[\s\S])|'/g;var aR=/\\(?:\\|"|u[0-9A-Fa-f]{4}|x[0-9A-Fa-f]{2}|[0-7]{3}|\r\n|\n|[\s\S])|"/g;bY.prototype.ruleInsideString=function bF(){var a=this.searchRe(this.stringInterestsRe);if(a==null){var b=aX(this.text,this.stringStartIndex);throw bs("untermstr","The string beginning at line {0}, column {1} is unterminated in text “{2}”",b.line,b.column,this.text)}if(a[0]===this.stringQuote){this.rule=null}};var bp=/\s*(plural|select)\s*,\s*/g;bY.prototype.rulePluralOrSelect=function bg(){var a=this.searchRe(bp);if(a==null){this.errorExpecting()}var b=a[1];switch(b){case"plural":this.rule=this.rulePluralStyle;break;case"select":this.rule=this.ruleSelectStyle;break;default:this.errorInParseLogic()}};bY.prototype.rulePluralStyle=function aY(){this.choices=Object.create(null);this.ruleChoiceKeyword=this.rulePluralValueOrKeyword;this.rule=this.rulePluralOffset};bY.prototype.ruleSelectStyle=function aS(){this.choices=Object.create(null);this.ruleChoiceKeyword=this.ruleSelectKeyword;this.rule=this.ruleSelectKeyword};var aU=/[0]|(?:[1-9][0-9]*)/g;var bE=new RegExp("\\s*offset\\s*:\\s*("+aU.source+")","g");bY.prototype.rulePluralOffset=function bf(){var a=this.matchRe(bE);this.pluralOffset=(a==null)?0:parseInt(a[1],10);this.expressionMinusOffsetFn=bd(this.expressionFn,this.pluralOffset);this.rule=this.rulePluralValueOrKeyword};bY.prototype.assertChoiceKeyIsNew=function b1(a,b){if(this.choices[a]!==undefined){var c=aX(this.text,b);throw bs("dupvalue","The choice “{0}” is specified more than once. Duplicate key is at line {1}, column {2} in text “{3}”",a,c.line,c.column,this.text)}};var a4=/\s*(\w+)/g;bY.prototype.ruleSelectKeyword=function aV(){var a=this.matchRe(a4);if(a==null){this.parsedFn=new a5(this.expressionFn,this.choices).parsedFn;this.rule=null;return}this.choiceKey=a[1];this.assertChoiceKeyIsNew(this.choiceKey,a.index);this.rule=this.ruleMessageText};var bi=new RegExp("\\s*(?:(?:=("+aU.source+"))|(\\w+))","g");bY.prototype.rulePluralValueOrKeyword=function bX(){var a=this.matchRe(bi);if(a==null){this.parsedFn=new aP(this.expressionFn,this.choices,this.pluralOffset,this.pluralCat).parsedFn;this.rule=null;return}if(a[1]!=null){this.choiceKey=parseInt(a[1],10)}else{this.choiceKey=a[2]}this.assertChoiceKeyIsNew(this.choiceKey,a.index);this.rule=this.ruleMessageText};var bz=/\s*\{/g;var bJ=/}/g;bY.prototype.ruleMessageText=function aM(){if(!this.consumeRe(bz)){var a=aX(this.text,this.index);throw bs("reqopenbrace","The plural choice “{0}” must be followed by a message in braces at line {1}, column {2} in text “{3}”",this.choiceKey,a.line,a.column,this.text)}this.msgStartIndex=this.index;this.interpolationParts=new a1(this.trustedContext,this.allOrNothing);this.rule=this.ruleInInterpolationOrMessageText};var bx=/\\.|{{|}/g;var bu=/\\.|{{|#|}/g;var bj=/\\.|{{/g;bY.prototype.advanceInInterpolationOrMessageText=function bD(){var c=this.index,b;if(this.ruleChoiceKeyword==null){b=this.searchRe(bj);if(b==null){this.textPart=this.text.substring(c);this.index=this.text.length;return null}}else{b=this.searchRe(this.ruleChoiceKeyword===this.rulePluralValueOrKeyword?bu:bx);if(b==null){var d=aX(this.text,this.msgStartIndex);throw bs("reqendbrace","The plural/select choice “{0}” message starting at line {1}, column {2} does not have an ending closing brace. Text “{3}”",this.choiceKey,d.line,d.column,this.text)}}var a=b[0];this.textPart=this.text.substring(c,b.index);return a};bY.prototype.ruleInInterpolationOrMessageText=function a3(){var b=this.index;var a=this.advanceInInterpolationOrMessageText();if(a==null){this.index=this.text.length;this.interpolationParts.addText(this.text.substring(b));this.rule=null;return}if(a[0]==="\\"){this.interpolationParts.addText(this.textPart+a[1]);return}this.interpolationParts.addText(this.textPart);if(a==="{{"){this.pushState();this.ruleStack.push(this.ruleEndMustacheInInterpolationOrMessage);this.rule=this.ruleEnteredMustache}else{if(a==="}"){this.choices[this.choiceKey]=this.interpolationParts.toParsedFn(false,this.text);this.rule=this.ruleChoiceKeyword}else{if(a==="#"){this.interpolationParts.addExpressionFn(this.expressionMinusOffsetFn)}else{this.errorInParseLogic()}}}};bY.prototype.ruleInterpolate=function br(){this.interpolationParts=new a1(this.trustedContext,this.allOrNothing);this.rule=this.ruleInInterpolation};bY.prototype.ruleInInterpolation=function b5(){var c=this.index;var b=this.searchRe(bj);if(b==null){this.index=this.text.length;this.interpolationParts.addText(this.text.substring(c));this.parsedFn=this.interpolationParts.toParsedFn(this.mustHaveExpression,this.text);this.rule=null;return}var a=b[0];if(a[0]==="\\"){this.interpolationParts.addText(this.text.substring(c,b.index)+a[1]);return}this.interpolationParts.addText(this.text.substring(c,b.index));this.pushState();this.ruleStack.push(this.ruleInterpolationEndMustache);this.rule=this.ruleEnteredMustache};bY.prototype.ruleInterpolationEndMustache=function bV(){var a=this.parsedFn;this.popState();this.interpolationParts.addExpressionFn(a);this.rule=this.ruleInInterpolation};bY.prototype.ruleEnteredMustache=function a9(){this.parsedFn=null;this.ruleStack.push(this.ruleEndMustache);this.rule=this.ruleAngularExpression};bY.prototype.ruleEndMustacheInInterpolationOrMessage=function bv(){var a=this.parsedFn;this.popState();this.interpolationParts.addExpressionFn(a);this.rule=this.ruleInInterpolationOrMessageText};var bq=/\s*}}/g;bY.prototype.ruleEndMustache=function bS(){var a=this.matchRe(bq);if(a==null){var b=aX(this.text,this.index);throw bs("reqendinterp","Expecting end of interpolation symbol, “{0}”, at line {1}, column {2} in text “{3}”","}}",b.line,b.column,this.text)}if(this.parsedFn==null){this.parsedFn=this.$parse(this.expressionFn,this.stringifier);this.parsedFn.exp=this.expressionFn.exp;this.parsedFn.expressions=this.expressionFn.expressions}this.rule=null};bY.prototype.ruleAngularExpression=function aZ(){this.angularOperatorStack=[];this.expressionStartIndex=this.index;this.rule=this.ruleInAngularExpression};function ba(a){switch(a){case"{":return"}";case"[":return"]";case"(":return")";default:return null}}function bk(a){switch(a){case"}":return"{";case"]":return"[";case")":return"(";default:return null}}var bl=/[[\]{}()'",]/g;bY.prototype.ruleInAngularExpression=function bm(){var a=this.searchRe(bl);var e;if(a==null){if(this.angularOperatorStack.length===0){this.index=this.text.length;this.expressionFn=this.$parse(this.text.substring(this.expressionStartIndex,this.index));this.expressionFn.exp=this.text.substring(this.expressionStartIndex,this.index);this.expressionFn.expressions=this.expressionFn.expressions;this.rule=null;return}var c=this.angularOperatorStack[0];throw bs("badexpr","Unexpected end of Angular expression.  Expecting operator “{0}” at the end of the text “{1}”",this.getEndOperator(c),this.text)}var d=a[0];if(d==="'"||d==='"'){this.ruleStack.push(this.ruleInAngularExpression);this.startStringAtMatch(a);return}if(d===","){if(this.trustedContext){e=aX(this.text,this.index);throw bs("unsafe","Use of select/plural MessageFormat syntax is currently disallowed in a secure context ({0}).  At line {1}, column {2} of text “{3}”",this.trustedContext,e.line,e.column,this.text)}if(this.angularOperatorStack.length===0){this.expressionFn=this.$parse(this.text.substring(this.expressionStartIndex,a.index));this.expressionFn.exp=this.text.substring(this.expressionStartIndex,a.index);this.expressionFn.expressions=this.expressionFn.expressions;this.rule=null;this.rule=this.rulePluralOrSelect}return}if(ba(d)!=null){this.angularOperatorStack.unshift(d);return}var b=bk(d);if(b==null){this.errorInParseLogic()}if(this.angularOperatorStack.length>0){if(b===this.angularOperatorStack[0]){this.angularOperatorStack.shift();return}e=aX(this.text,this.index);throw bs("badexpr","Unexpected operator “{0}” at line {1}, column {2} in text. Was expecting “{3}”. Text: “{4}”",d,e.line,e.column,ba(this.angularOperatorStack[0]),this.text)}this.index=a.index;this.expressionFn=this.$parse(this.text.substring(this.expressionStartIndex,this.index));this.expressionFn.exp=this.text.substring(this.expressionStartIndex,this.index);this.expressionFn.expressions=this.expressionFn.expressions;this.rule=null};var bW=["$parse","$locale","$sce","$exceptionHandler",function aT(a,c,f,b){function e(j,i,h){return function g(k){try{k=j?f.getTrusted(j,k):f.valueOf(k);return i&&(k===undefined)?k:bM(k)}catch(l){b(bs.interr(h,l))}}}function d(i,l,k,j){var g=e(k,j,i);var h=new bY(i,0,a,c.pluralCat,g,l,k,j);h.run(h.ruleInterpolate);return h.parsedFn}return{interpolate:d}}];var bt=["$$messageFormat","$delegate",function bt(b,a){if(a.startSymbol()!=="{{"||a.endSymbol()!=="}}"){throw bs("nochgmustache","angular-message-format.js currently does not allow you to use custom start and end symbols for interpolation.")}var c=b.interpolate;c.startSymbol=a.startSymbol;c.endSymbol=a.endSymbol;return c}];var bs;var bB;var bO;var b6;var bM;var b3=ca.angular.module("ngMessageFormat",["ng"]);b3.info({angularVersion:"1.6.4"});b3.factory("$$messageFormat",bW);b3.config(["$provide",function(a){bs=ca.angular["$interpolateMinErr"];bB=ca.angular.isFunction;bO=ca.angular.noop;b6=ca.angular.toJson;bM=ca.angular["$$stringify"];a.decorator("$interpolate",bt)}])})(window,window.angular);